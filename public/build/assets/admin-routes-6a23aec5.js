import{u as Ce,j as e,c as y,C as yr,T as r,O as _t,m as h,a as Ue,k as wr,b as E,R as M,r as d,d as $e,e as ya,S as As,I as p,f as C,g as L,$ as Ps,A as xs,h as wa,i as Sa,l as Sr,n as He,o as Y,D as te,p as re,q as ne,s as K,F as de,t as kr,B as f,v as $,w as V,x as We,y as Gs,z as gs,E as us,P as ka,G as Qs,H as B,J as O,K as H,L as ie,M as ze,N as Js,Q as Ys,U as xe,V as ve,W as g,X as Na,Y as Ke,Z as pt,_ as J,a0 as be,a1 as Z,a2 as Nr,a3 as Ft,a4 as Ca,a5 as Us,a6 as ts,a7 as Cr,a8 as _a,a9 as Xt,aa as ps,ab as Zs,ac as Xe,ad as se,ae as zt,af as as,ag as P,ah as _e,ai as _r,aj as Fa,ak as za,al as Fr,am as Es,an as Ia,ao as W,ap as Aa,aq as Ie,ar as zr,as as Ir,at as Ar,au as It,av as Pr,aw as Er,ax as Pa,ay as Ts,az as Xs,aA as ns,aB as At,aC as Tr,aD as ue,aE as pe,aF as Ea,aG as Pt,aH as Ta,aI as Ge,aJ as Et,aK as rs,aL as $r,aM as ea,aN as et,aO as js,aP as fs,aQ as Tt,aR as es,aS as $a,aT as Lr,aU as Mr,aV as Dr,aW as La,aX as Rr,aY as Vr,aZ as qr,a_ as Or,a$ as Br,b0 as Hr,b1 as Ur,b2 as Wr,b3 as Kr,b4 as Gr,b5 as Qr,b6 as $t,b7 as Jr,b8 as Yr,b9 as Zr,ba as Xr,bb as ei,bc as si,bd as ti,be as ai,bf as ni,bg as Ma,bh as ri,bi as ii,bj as li,bk as ae,bl as oi}from"./main-4e2f9053.js";import{D as ci,a as di,b as ui,c as mi,F as le,d as ce,e as bs,u as vs,K as st,f as $s,g as Lt,I as hi,N as xi,h as gi,C as pi,S as ji,B as fi,i as bi,T as vi,A as Ne,j as yi,k as wi,l as Da,m as jt,n as D,o as Si,p as ki,q as ft,r as tt,s as Ni,t as Ci,v as _i,w as Ze,x as at,U as Fi,L as Mt,M as Ra,y as zi,z as Ii,E as Ai,G as Pi,H as Ei,J as Ti,O as $i,P as Li,Q as Mi,R as Di}from"./UnfoldMore-2feaf195.js";import{E as Re,B as Ri,a as sa}from"./Edit-f6e2a559.js";import{u as Va,a as Vi}from"./use-resume-subscription-52a0ee62.js";function qi({className:s,isCompactMode:t}){const{version:a}=Ce();return e.jsxs("div",{className:y(s,"relative flex flex-col gap-20 overflow-y-auto border-r bg-alt px-12 pb-16 pt-26 text-sm font-medium text-muted"),children:[e.jsx(yr,{matchDescendants:n=>n==="/admin",menu:"admin-sidebar",orientation:"vertical",onlyShowIcons:t,itemClassName:({isActive:n})=>y("block w-full rounded-button py-12 px-16",n?"bg-primary/6 text-primary font-semibold":"hover:bg-hover"),gap:"gap-8"}),!t&&e.jsx("div",{className:"mt-auto gap-14 px-16 text-xs",children:e.jsx(r,{message:"Version: :number",values:{number:a}})})]})}function Oi(){return e.jsxs(ci,{name:"admin",leftSidenavCanBeCompact:!0,children:[e.jsx(di,{size:"sm",menuPosition:"admin-navbar"}),e.jsx(ui,{position:"left",size:"sm",children:e.jsx(qi,{})}),e.jsx(mi,{children:e.jsx("div",{className:"bg dark:bg-alt",children:e.jsx(_t,{})})})]})}const Bi=[{key:"email_verified_at",label:h("Email"),description:h("Email verification status"),defaultOperator:le.ne,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("is confirmed"),value:{value:null,operator:le.ne}},{key:"02",label:h("is not confirmed"),value:{value:null,operator:le.eq}}]}},bs({description:h("Date user registered or was created")}),vs({description:h("Date user was last updated")}),{key:"subscriptions",label:h("Subscription"),description:h("Whether user is subscribed or not"),defaultOperator:le.eq,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("is subscribed"),value:{value:"*",operator:le.has}},{key:"02",label:h("is not subscribed"),value:{value:"*",operator:le.doesntHave}}]}}],ee=(s,t)=>{const a=s.split("/");return t&&a.push(t),a};function Hi(s,t,a,n){return Ue({queryKey:ee(s,t),queryFn:({signal:i})=>Ui(s,t,n,i),placeholderData:wr,...a})}async function Ui(s,t,a,n){t.query&&await new Promise(l=>setTimeout(l,300));const i=await E.get(s,{params:t,signal:t.query?n:void 0}).then(l=>l.data);return a==null||a(i),i}const qa=M.createContext(null);function Dt(){return d.useContext(qa)}function Wi(s){return"next_cursor"in s?s.next_cursor!=null:"last_page"in s?s.current_page<s.last_page:s.data.length>0&&s.data.length>=s.per_page}const Ki=15,Gi=[{key:10},{key:15},{key:20},{key:50},{key:100}];function Qi({query:s,onPerPageChange:t,onPageChange:a,className:n}){var u;const i=$e(),l=ya(),o=(u=s.data)==null?void 0:u.pagination;if(!o)return null;const c=t?e.jsx(As,{minWidth:"min-w-auto",selectionMode:"single",disabled:s.isLoading,labelPosition:"side",size:"xs",label:e.jsx(r,{message:"Items per page"}),selectedValue:o.per_page||Ki,onSelectionChange:m=>t(m),children:Gi.map(m=>e.jsx(p,{value:m.key,children:m.key},m.key))}):null;return e.jsxs("div",{className:y("flex h-54 select-none items-center justify-end gap-20 px-20",n),children:[!i&&c,o.from&&o.to&&"total"in o&&e.jsx("div",{className:"text-sm",children:e.jsx(r,{message:":from - :to of :total",values:{from:o.from,to:o.to,total:l.format(o.total)}})}),e.jsxs("div",{className:"text-muted",children:[e.jsx(C,{disabled:s.isFetching||o.current_page<2,onClick:()=>{a==null||a((o==null?void 0:o.current_page)-1)},children:e.jsx(st,{})}),e.jsx(C,{disabled:s.isFetching||!Wi(o),onClick:()=>{a==null||a((o==null?void 0:o.current_page)+1)},children:e.jsx($s,{})})]})]})}const Ji=L(e.jsx("path",{d:"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAltOutlined"),ta={variants:{open:{height:"auto",visibility:"visible",transitionEnd:{overflow:"auto"}},closed:{height:0,overflow:"hidden",transitionEnd:{visibility:"hidden"}}},transition:{type:"tween",duration:.2}},Qe=M.forwardRef(({variant:s="default",mode:t="single",children:a,className:n,isLazy:i,...l},o)=>{const[c,u]=Ps(l.expandedValues,l.defaultExpandedValues||[],l.onExpandedChange),m=M.Children.count(a);return e.jsx("div",{className:y(s==="outline"&&"space-y-10",n),ref:o,role:"presentation",children:e.jsx(xs,{children:e.jsx(wa,{children:M.Children.map(a,(x,j)=>d.isValidElement(x)?d.cloneElement(x,{key:x.key||j,value:x.props.value||j,isFirst:j===0,isLast:j===m-1,mode:t,variant:s,expandedValues:c,setExpandedValues:u,isLazy:i}):null)})})})});function ke({children:s,label:t,disabled:a,bodyClassName:n,labelClassName:i,buttonPadding:l="py-10 pl-14 pr-10",startIcon:o,description:c,endAppend:u,chevronPosition:m="right",isFirst:x,isLast:j,...b}){const{expandedValues:w,setExpandedValues:_,variant:v,value:k,mode:z,isLazy:I}=b,N=d.useRef(null),q=!a&&w.includes(k),A=d.useRef(!1);q&&(A.current=!0);const T=Sa(),G=d.useId(),X=`${G}-button`,Q=`${G}-panel`,me=we=>{switch(we.key){case"ArrowDown":T==null||T.focusNext();break;case"ArrowUp":T==null||T.focusPrevious();break;case"Home":T==null||T.focusFirst();break;case"End":T==null||T.focusLast();break}},he=()=>{const we=w.indexOf(k);if(we>-1){const Fe=[...w];Fe.splice(we,1),_(Fe)}else _(z==="single"?[k]:[...w,k])},Ae=e.jsx("div",{className:y(v==="minimal"&&""),children:e.jsx(Sr,{"aria-hidden":"true",size:"md",className:y(a?"text-disabled":"text-muted",q&&"rotate-180 transition-transform")})});return e.jsxs("div",{className:y(v==="default"&&"border-b",v==="outline"&&"rounded-panel border",a&&"text-disabled"),children:[e.jsxs("h3",{className:y("flex w-full items-center justify-between text-sm",a&&"pointer-events-none",x&&v==="default"&&"border-t",q&&v!=="minimal"?"border-b":"border-b border-b-transparent",v==="outline"?q?"rounded-panel-t":"rounded-panel":void 0),children:[e.jsxs("button",{disabled:a,"aria-expanded":q,id:X,"aria-controls":Q,type:"button",ref:N,onKeyDown:me,onClick:()=>{a||he()},className:y("flex flex-auto items-center gap-10 text-left outline-none hover:bg-hover focus-visible:bg-primary/focus",l),children:[m==="left"&&Ae,o&&d.cloneElement(o,{size:"md",className:y(o.props.className,a?"text-disabled":"text-muted")}),e.jsxs("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:[e.jsx("div",{className:i,"data-testid":"accordion-label",children:t}),c&&e.jsx("div",{className:"text-xs text-muted",children:c})]}),m==="right"&&Ae]}),u&&e.jsx("div",{className:"flex-shrink-0 px-4 text-sm text-muted",children:u})]}),e.jsx(He.div,{"aria-labelledby":G,role:"region",variants:ta.variants,transition:ta.transition,initial:!1,animate:q?"open":"closed",children:e.jsx("div",{className:y("p-16",n),children:!I||A?s:null})})]})}function Yi({filter:s}){return null}function Zi({filters:s}){const{decodedFilters:t}=Lt(s),{formId:a}=Y(),[n,i]=d.useState(()=>t.map(c=>c.key)),l=e.jsx(f,{size:"xs",variant:"outline",className:"mr-auto",onClick:()=>{i([])},children:e.jsx(r,{message:"Clear"})}),o=e.jsx(f,{size:"xs",variant:"flat",color:"primary",className:"ml-auto",type:"submit",form:a,children:e.jsx(r,{message:"Apply"})});return e.jsxs(te,{className:"min-w-[300px]",maxWidth:"max-w-400",size:"auto",children:[e.jsx(re,{padding:"px-14 py-10",leftAdornment:l,rightAdornment:o,children:e.jsx(r,{message:"Filter"})}),e.jsx(ne,{padding:"p-0",children:e.jsx(Xi,{filters:s,expandedFilters:n,setExpandedFilters:i})})]})}function Xi({filters:s,expandedFilters:t,setExpandedFilters:a}){const{decodedFilters:n,replaceAll:i}=Lt(s),l={};s.forEach(m=>{const x=n.find(j=>j.key===m.key);l[m.key]=(x==null?void 0:x.value)!==void 0?x:{value:m.control.defaultValue,operator:m.defaultOperator}});const o=K({defaultValues:l}),{formId:c,close:u}=Y();return e.jsx(de,{form:o,id:c,onSubmit:m=>{const x=Object.entries(m).filter(([j,b])=>t.includes(j)&&b!==void 0).map(([j,b])=>({key:j,...b}));i(x),u()},children:e.jsx(Qe,{mode:"multiple",expandedValues:t,onExpandedChange:a,children:s.map(m=>e.jsxs(ke,{startIcon:e.jsx(kr,{checked:t.includes(m.key)}),value:m.key,label:e.jsx(r,{...m.label}),bodyClassName:"max-h-288 overflow-y-auto compact-scrollbar",children:[m.description&&e.jsx("div",{className:y("text-xs text-muted",m.control.type!==ce.BooleanToggle&&"mb-14"),children:e.jsx(r,{...m.description})}),e.jsx(el,{filter:m})]},m.key))})})}function el({filter:s}){switch(s.control.type){case ce.Select:return e.jsx(ji,{filter:s});case ce.ChipField:return e.jsx(pi,{filter:s});case ce.DateRangePicker:return e.jsx(gi,{filter:s});case ce.SelectModel:return e.jsx(xi,{filter:s});case ce.Input:return e.jsx(hi,{filter:s});case ce.BooleanToggle:return e.jsx(Yi,{filter:s});case"custom":const t=s.control.panel;return e.jsx(t,{filter:s});default:return null}}function sl({filters:s,icon:t=e.jsx(Ji,{}),color:a="primary",variant:n="outline",size:i="sm",disabled:l,className:o}){const c=$e(),u=e.jsx(f,{variant:n,color:a,startIcon:t,disabled:l,size:i,className:o,children:e.jsx(r,{message:"Filter"})}),m=e.jsx(C,{color:a,size:"sm",variant:n,disabled:l,className:o,children:t});return e.jsxs($,{type:"popover",children:[c?m:u,e.jsx(Zi,{filters:s})]})}function tl({actions:s,filters:t,filtersLoading:a,searchPlaceholder:n=h("Type to search..."),searchValue:i="",onSearchChange:l}){const{trans:o}=V();return e.jsxs(Oa,{children:[e.jsx(We,{inputTestId:"datatable-search",className:"flex-auto max-w-440 mr-auto",inputWrapperClassName:"mr-24 md:mr-0",placeholder:o(n),startAdornment:e.jsx(Gs,{}),value:i,onChange:c=>{l(c.target.value)}}),t&&e.jsx(sl,{filters:t,disabled:a}),s]})}function Oa({children:s,...t}){return e.jsx("div",{className:"mb-24 flex items-center gap-8 md:gap-12 text-muted relative h-42",...t,children:s})}function al({actions:s,selectedItemsCount:t}){return e.jsxs(Oa,{"data-testid":"datatable-selected-header",children:[e.jsx("div",{className:"mr-auto",children:e.jsx(r,{message:"[one 1 item|other :count items] selected",values:{count:t}})}),s]})}function nl(){return e.jsxs(He.div,{className:"flex items-center gap-6 h-30",...gs,children:[e.jsx(us,{variant:"rect",size:"h-full w-144",radius:"rounded-md"}),e.jsx(us,{variant:"rect",size:"h-full w-112",radius:"rounded-md"}),e.jsx(us,{variant:"rect",size:"h-full w-172",radius:"rounded-md"})]},"filter-list-skeleton")}function Ba({filters:s,filtersLoading:t,columns:a,searchPlaceholder:n,queryParams:i,endpoint:l,actions:o,selectedActions:c,emptyStateMessage:u,tableDomProps:m,onRowAction:x,enableSelection:j=!0,selectionStyle:b="checkbox",children:w,cellHeight:_,collapseTableOnMobile:v=!0}){var me;const k=$e(),{trans:z}=V(),{encodedFilters:I}=Lt(s),[N,q]=d.useState({perPage:15}),[A,T]=d.useState([]),G=Hi(l,{...N,...i,[fi]:I},void 0,()=>T([])),X=!!(N.query||N.filters||I),Q=(me=G.data)==null?void 0:me.pagination;return e.jsxs(qa.Provider,{value:{selectedRows:A,setSelectedRows:T,endpoint:l,params:N,setParams:q,query:G},children:[w,e.jsx(xs,{initial:!1,mode:"wait",children:A.length?e.jsx(al,{selectedItemsCount:A.length,actions:c},"selected"):e.jsx(tl,{searchPlaceholder:n,searchValue:N.query,onSearchChange:he=>q({...N,query:he}),actions:o,filters:s,filtersLoading:t},"default")}),s&&e.jsx("div",{className:"mb-14",children:e.jsx(xs,{initial:!1,mode:"wait",children:t&&I?e.jsx(nl,{}):e.jsx(He.div,{...gs,children:e.jsx(bi,{filters:s})},"filter-list")})}),e.jsxs("div",{className:y("relative rounded-panel",(!k||!v)&&"border"),children:[G.isFetching&&e.jsx(ka,{isIndeterminate:!0,className:"absolute left-0 top-0 z-10 w-full","aria-label":z({message:"Loading"}),size:"xs"}),e.jsx("div",{className:"relative overflow-x-auto md:overflow-hidden",children:e.jsx(vi,{...m,columns:a,data:(Q==null?void 0:Q.data)||[],sortDescriptor:N,onSortChange:he=>{q({...N,...he})},selectedRows:A,enableSelection:j,selectionStyle:b,onSelectionChange:T,onAction:x,collapseOnMobile:v,cellHeight:_})}),(G.isFetched||G.isPlaceholderData)&&!(Q!=null&&Q.data.length)?e.jsx("div",{className:"pt-50",children:d.cloneElement(u,{isFiltering:X})}):void 0,e.jsx(Qi,{query:G,onPageChange:he=>q({...N,page:he}),onPerPageChange:he=>q({...N,perPage:he})})]})]})}function Je({title:s,headerContent:t,headerItemsAlign:a="items-end",className:n,...i}){const l=d.useId();return e.jsxs("div",{className:y("p-12 md:p-24",n),children:[s&&e.jsxs("div",{className:y("mb-16",t&&`flex ${a} gap-4`),children:[e.jsx(Qs,{children:s}),e.jsx("h1",{className:"text-3xl font-light first:capitalize",id:l,children:s}),t]}),e.jsx(Ba,{...i,tableDomProps:{"aria-labelledby":s?l:void 0}})]})}function rl(){const{endpoint:s,selectedRows:t,setSelectedRows:a}=Dt();return B({mutationFn:()=>il(s,t),onSuccess:async()=>{await O.invalidateQueries({queryKey:ee(s)}),H(h("Deleted [one 1 record|other :count records]",{values:{count:t.length}})),a([])},onError:n=>ie(n,h("Could not delete records"))})}function il(s,t){return E.delete(`${s}/${t.join(",")}`).then(a=>a.data)}function is(){return e.jsxs($,{type:"modal",children:[e.jsx(f,{variant:"flat",color:"danger",className:"ml-auto",children:e.jsx(r,{message:"Delete"})}),e.jsx(ll,{})]})}function ll(){const s=rl(),{selectedRows:t}=Dt(),{close:a}=Y();return e.jsx(ze,{isLoading:s.isPending,title:e.jsx(r,{message:"Delete [one 1 item|other :count items]?",values:{count:t.length}}),body:e.jsx(r,{message:"This will permanently remove the items and cannot be undone."}),confirm:e.jsx(r,{message:"Delete"}),isDanger:!0,onConfirm:()=>{s.mutate(void 0,{onSuccess:()=>a()})}})}function Te({isFiltering:s,title:t,filteringTitle:a,image:n,size:i,className:l}){const o=$e();return i||(i=o?"sm":"md"),e.jsx(Js,{className:l,size:i,image:e.jsx(Ys,{src:n}),title:s&&a?a:t,description:s&&a?e.jsx(r,{message:"Try another search query or different filters"}):void 0})}const Fs=""+new URL("team-de984127.svg",import.meta.url).href,ls=M.forwardRef(({children:s,to:t,elementType:a,onClick:n},i)=>$e()?e.jsx(C,{ref:i,variant:"flat",color:"primary",className:"flex-shrink-0",size:"sm",to:t,elementType:a,onClick:n,children:e.jsx(Ne,{})}):e.jsx(f,{ref:i,startIcon:e.jsx(Ne,{}),variant:"flat",color:"primary",size:"sm",to:t,elementType:a,onClick:n,children:s}));function ol(s){return B({mutationFn:t=>cl(s,t),onError:t=>ie(t)})}function cl(s,t){return E.post(s,t).then(a=>a.data)}function dl(){const{close:s}=Y();return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Csv export"})}),e.jsx(ne,{children:e.jsx(r,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),e.jsx(xe,{children:e.jsx(f,{variant:"flat",color:"primary",onClick:s,children:e.jsx(r,{message:"Got it"})})})]})}function Ha({endpoint:s,payload:t}){const[a,n]=d.useState(!1),i=ol(s);return e.jsxs(d.Fragment,{children:[e.jsx(C,{variant:"outline",color:"primary",size:"sm",className:"flex-shrink-0",disabled:i.isPending,onClick:()=>{i.mutate(t,{onSuccess:l=>{l.downloadPath?yi(l.downloadPath):n(!0)}})},children:e.jsx(wi,{})}),e.jsx($,{type:"modal",isOpen:a,onOpenChange:n,children:e.jsx(dl,{})})]})}function ys({image:s,label:t,description:a,labelClassName:n,avatarSize:i="md"}){return e.jsxs("div",{className:"flex items-center gap-12",children:[s&&e.jsx(Da,{size:i,className:"flex-shrink-0",src:s}),e.jsxs("div",{className:"min-w-0 overflow-hidden",children:[e.jsx("div",{className:y(n,"overflow-hidden overflow-ellipsis"),children:t}),a&&e.jsx("div",{className:"overflow-hidden overflow-ellipsis text-xs text-muted",children:a})]})]})}const Ua=L(e.jsx("path",{d:"m20 17.17-3.37-3.38c.64.22 1.23.48 1.77.76.97.51 1.58 1.52 1.6 2.62zm1.19 4.02-1.41 1.41-2.61-2.6H4v-2.78c0-1.12.61-2.15 1.61-2.66 1.29-.66 2.87-1.22 4.67-1.45L1.39 4.22 2.8 2.81l18.39 18.38zM15.17 18l-3-3H12c-2.37 0-4.29.73-5.48 1.34-.32.16-.52.5-.52.88V18h9.17zM12 6c1.1 0 2 .9 2 2 0 .86-.54 1.59-1.3 1.87l1.48 1.48C15.28 10.64 16 9.4 16 8c0-2.21-1.79-4-4-4-1.4 0-2.64.72-3.35 1.82l1.48 1.48C10.41 6.54 11.14 6 12 6z"}),"PersonOffOutlined");function ul(s,t){return B({mutationFn:a=>ml(t,a),onSuccess:async()=>{H(h("User suspended")),await O.invalidateQueries({queryKey:["users"]})},onError:a=>ve(a,s)})}function ml(s,t){return E.post(`users/${s}/ban`,t).then(a=>a.data)}function hl({user:s}){const{trans:t}=V(),{close:a,formId:n}=Y(),i=K({defaultValues:{permanent:!0}}),l=i.watch("permanent"),o=ul(i,s.id);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}})}),e.jsx(ne,{children:e.jsxs(de,{id:n,form:i,onSubmit:c=>o.mutate(c,{onSuccess:()=>a()}),children:[e.jsx(jt,{name:"ban_until",label:e.jsx(r,{message:"Suspend until"}),disabled:l}),e.jsx(D,{name:"permanent",className:"mt-12",children:e.jsx(r,{message:"Permanent"})}),e.jsx(g,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(r,{message:"Reason"}),placeholder:t(h("Optional"))})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>a(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:n,variant:"flat",color:"primary",type:"submit",disabled:o.isPending,children:e.jsx(r,{message:"Suspend"})})]})]})}function xl(s){return B({mutationFn:()=>gl(s),onSuccess:()=>{H(h("User unsuspended")),O.invalidateQueries({queryKey:["users"]})},onError:t=>ie(t)})}function gl(s){return E.delete(`users/${s}/unban`).then(t=>t.data)}function pl(){return B({mutationFn:s=>jl(s),onSuccess:async s=>{H(h(`Impersonating User "${s.user.display_name}"`)),window.location.href="/"},onError:s=>ie(s)})}function jl(s){return E.post(`admin/users/impersonate/${s.userId}`,s).then(t=>t.data)}const aa=[{key:"name",allowsSorting:!0,sortingKey:"email",width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(ys,{image:s.avatar,label:s.display_name,description:s.email})},{key:"subscribed",header:()=>e.jsx(r,{message:"Subscribed"}),width:"w-96",body:s=>{var t;return(t=s.subscriptions)!=null&&t.length?e.jsx(Na,{className:"text-positive icon-md"}):e.jsx(Ke,{className:"text-danger icon-md"})}},{key:"roles",header:()=>e.jsx(r,{message:"Roles"}),body:s=>e.jsx(Si,{radius:"rounded",size:"xs",children:s==null?void 0:s.roles.map(t=>e.jsx(pt,{selectable:!0,children:e.jsx(J,{className:y("capitalize"),target:"_blank",to:`/admin/roles/${t.id}/edit`,children:e.jsx(r,{message:t.name})})},t.id))})},{key:"firstName",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"lastName",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"createdAt",allowsSorting:!0,width:"w-96",header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx("time",{children:e.jsx(be,{date:s.created_at})})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),width:"w-128 flex-shrink-0",hideHeader:!0,align:"end",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(J,{to:`${s.id}/edit`,children:e.jsx(Z,{label:e.jsx(r,{message:"Edit user"}),children:e.jsx(C,{size:"md",children:e.jsx(Re,{})})})}),s.banned_at?e.jsx(fl,{user:s}):e.jsxs($,{type:"modal",children:[e.jsx(Z,{label:e.jsx(r,{message:"Suspend user"}),children:e.jsx(C,{size:"md",children:e.jsx(Ua,{})})}),e.jsx(hl,{user:s})]}),e.jsx(bl,{user:s})]})}];function fl({user:s}){const t=xl(s.id);return e.jsxs($,{type:"modal",onClose:a=>{a&&t.mutate()},children:[e.jsx(Z,{label:e.jsx(r,{message:"Remove suspension"}),children:e.jsx(C,{size:"md",color:"danger",children:e.jsx(Ua,{})})}),e.jsx(ze,{isDanger:!0,title:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}}),body:e.jsx(r,{message:"Are you sure you want to remove suspension from this user?"}),confirm:e.jsx(r,{message:"Unsuspend"})})]})}function bl({user:s}){const t=pl();return e.jsxs($,{type:"modal",children:[e.jsx(Z,{label:e.jsx(r,{message:"Login as user"}),children:e.jsx(C,{size:"md",children:e.jsx(Nr,{})})}),e.jsx(ze,{title:e.jsx(r,{message:"Login as “:name“",values:{name:s.display_name}}),isLoading:t.isPending,body:e.jsx(r,{message:"Are you sure you want to login as this user?"}),confirm:e.jsx(r,{message:"Login"}),onConfirm:()=>{t.mutate({userId:s.id})}})]})}function vl(){const{billing:s}=Ce(),t=s.enable?aa:aa.filter(a=>a.key!=="subscribed");return e.jsx(d.Fragment,{children:e.jsx(Je,{endpoint:"users",title:e.jsx(r,{message:"Users"}),filters:Bi,columns:t,actions:e.jsx(yl,{}),queryParams:{with:"subscriptions,bans"},selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:Fs,title:e.jsx(r,{message:"No users have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})})}function yl(){return e.jsxs(d.Fragment,{children:[e.jsx(Ha,{endpoint:"users/csv/export"}),e.jsx(ls,{elementType:J,to:"new",children:e.jsx(r,{message:"Add new user"})})]})}const wl=s=>(t,a,n)=>{const i=n.subscribe;return n.subscribe=(o,c,u)=>{let m=o;if(c){const x=(u==null?void 0:u.equalityFn)||Object.is;let j=o(n.getState());m=b=>{const w=o(b);if(!x(j,w)){const _=j;c(j=w,_)}},u!=null&&u.fireImmediately&&c(j,j)}return i(m)},s(t,a,n)},Sl=wl;function Wa(s,t){return s.reduce((a,n,i)=>{const l=Math.floor(i/t);return a[l]||(a[l]=[]),a[l].push(n),a},[])}const kl={preview:{defaultRoute:"/",navigationRoutes:[]},sections:{general:{label:h("General"),position:1,buildBreadcrumb:()=>[{label:h("General"),location:"general"}]},themes:{label:h("Themes"),position:2,buildBreadcrumb:(s,t)=>{var l;const a=s.split("/").filter(o=>!!o),[,,,n]=a,i=[{label:h("Themes"),location:"themes"}];return n!=null&&i.push({label:(l=t.appearance.themes.all[+n])==null?void 0:l.name,location:`themes/${n}`}),a.at(-1)==="font"&&i.push({label:h("Font"),location:`themes/${n}/font`}),a.at(-1)==="radius"&&i.push({label:h("Rounding"),location:`themes/${n}/radius`}),i}},menus:{label:h("Menus"),position:3,buildBreadcrumb:(s,t)=>{const a=s.split("/").filter(o=>!!o),[,,...n]=a,i=[{label:h("Menus"),location:"menus"}],l=Wa(n,2);return l.forEach(([o,c],u)=>{var m,x;if(o==="menus"&&c!=null)i.push({label:(m=t.settings.menus[+c])==null?void 0:m.name,location:`menus/${c}`});else if(o==="items"&&c!=null){const[,j]=l[u-1];i.push({label:(x=t.settings.menus[+j].items[+c])==null?void 0:x.label,location:`menus/${j}/${c}`})}}),i},config:{availableRoutes:["/","/login","/register","/contact","/billing/pricing","/account-settings","/admin","/admin/appearance","/admin/settings","/admin/plans","/admin/subscriptions","/admin/users","/admin/roles","/admin/pages","/admin/tags","/admin/files","/admin/localizations","/admin/ads","/admin/settings/authentication","/admin/settings/branding","/admin/settings/cache","/admin/settings/providers","/api-docs"],positions:["admin-navbar","admin-sidebar","custom-page-navbar","auth-page-footer","auth-dropdown","account-settings-page","billing-page","checkout-page-navbar","checkout-page-footer","pricing-table-page","contact-us-page","notifications-page","footer","footer-secondary"]}},"custom-code":{label:h("Custom Code"),position:4,buildBreadcrumb:()=>[{label:h("Custom code"),location:"custom-code"}]},"seo-settings":{label:h("SEO Settings"),position:5,buildBreadcrumb:()=>[{label:h("SEO"),location:"seo"}]}}};function Nl(s){const{size:t="md",inline:a,label:n,showValueLabel:i=!!n,className:l,width:o="w-full",slider:c,children:u,trackColor:m="primary",fillColor:x="primary"}=s,{domProps:j,trackRef:b,getThumbPercent:w,getThumbValueLabel:_,labelId:v,groupId:k,thumbIds:z,isDisabled:I,numberFormatter:N,minValue:q,maxValue:A,step:T,values:G,getValueLabel:X}=c;let Q="",me=Math.max([...N.format(q)].length,[...N.format(A)].length,[...N.format(T)].length);X?Q=X(G[0]):G.length===1?Q=_(0):G.length===2&&(Q=`${_(0)} – ${_(1)}`,me=3+2*Math.max(me,[...N.format(q)].length,[...N.format(A)].length));const he=Ft({size:t,disabled:I,labelDisplay:"flex"}),Ae=y("touch-none",l,o,{"flex items-center":a});return e.jsxs("div",{className:Ae,role:"group",id:k,children:[(n||i)&&e.jsxs("div",{className:y(he.label,"select-none"),children:[n&&e.jsx("label",{onClick:()=>{var we;(we=document.getElementById(z[0]))==null||we.focus()},id:v,htmlFor:k,children:n}),i&&e.jsx("output",{htmlFor:z[0],className:"ml-auto text-right","aria-live":"off",style:me?{width:`${me}ch`,minWidth:`${me}ch`}:void 0,children:Q})]}),e.jsxs("div",{ref:b,className:"relative h-30",...j,role:"presentation",children:[e.jsx("div",{className:y("absolute inset-0 m-auto rounded",Cl(m,I),na(t))}),e.jsx("div",{className:y("absolute inset-0 my-auto rounded",_l(x,I),na(t)),style:{width:`${Math.max(w(0)*100,0)}%`}}),u]})]})}function na(s){switch(s){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function Cl(s,t){switch(t&&(s="disabled"),s){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return s}}function _l(s,t){switch(t&&(s="disabled"),s){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return s}}function Fl({minValue:s=0,maxValue:t=100,isDisabled:a=!1,step:n=1,formatOptions:i,onChangeEnd:l,onPointerDown:o,label:c,getValueLabel:u,showThumbOnHoverOnly:m,thumbSize:x,onPointerMove:j,...b}){const[w,_]=d.useState(!1),v=ya(i),{addGlobalListener:k,removeGlobalListener:z}=Ca(),I=d.useRef(null),[N,q]=Ps(b.value?b.value:void 0,b.defaultValue??[s],b.onChange),A=d.useRef(null);A.current=N;const[T,G]=d.useState(new Array(N.length).fill(!1)),X=d.useRef(null);X.current=T;function Q(F){return v.format(F)}const me=F=>{var U;return((U=X.current)==null?void 0:U[F])||!1},he=F=>Q(N[F]),Ae=F=>F===0?s:N[F-1],we=F=>F===N.length-1?t:N[F+1],Fe=(F,U)=>{if(a||!lt(F)||!A.current)return;const Pe=Ae(F),Ve=we(F);U=Cr(U,Pe,Ve,n),A.current=ra(A.current,F,U),q(A.current)},Le=(F,U)=>{var Ve;if(a||!lt(F))return;const Pe=(Ve=X.current)==null?void 0:Ve[F];X.current=ra(X.current||[],F,U),G(X.current),l&&Pe&&!X.current.some(Boolean)&&l(A.current||[])},[Rs,Ss]=d.useState(void 0),Vs=F=>{const U=Math.min(1,(F-s)/(t-s));return isNaN(U)?0:U},qs=F=>Vs(A.current[F]),fe=(F,U)=>{Fe(F,Qt(U))},mr=F=>Math.round((F-s)/n)*n+s,Qt=F=>{const U=F*(t-s)+s;return Us(mr(U),s,t)},Jt=d.useRef(new Array(N.length).fill(!0)),lt=F=>Jt.current[F],hr=(F,U)=>{Jt.current[F]=U},Se=d.useRef(null),Yt=d.useRef(void 0),xr=F=>{if(!(F.pointerType==="mouse"&&(F.button!==0||F.altKey||F.ctrlKey||F.metaKey))&&(o==null||o(),I.current&&!a&&N.every((U,Pe)=>!T[Pe]))){const U=I.current.offsetWidth,Pe=I.current.getBoundingClientRect().left,ct=(F.clientX-Pe)/U,Os=Qt(ct);let Me;const Ye=N.findIndex(dt=>Os-dt<0);if(Ye===0)Me=Ye;else if(Ye===-1)Me=N.length-1;else{const dt=N[Ye-1],vr=N[Ye];Math.abs(dt-Os)<Math.abs(vr-Os)?Me=Ye-1:Me=Ye}Me>=0&&lt(Me)?(F.preventDefault(),Se.current=Me,Ss(Me),Yt.current=F.pointerId,Le(Se.current,!0),Fe(Me,Os),k(window,"pointerup",Zt,!1)):Se.current=null}},ks=d.useRef(null),{domProps:gr}=ki({onPointerDown:xr,onMoveStart(){ks.current=null},onMove(F,U){var Ve;const Pe=((Ve=I.current)==null?void 0:Ve.offsetWidth)||0;if(ks.current==null&&(ks.current=qs(Se.current||0)*Pe),ks.current+=U,Se.current!=null&&I.current){const ct=Us(ks.current/Pe,0,1);fe(Se.current,ct)}},onMoveEnd(){Se.current!=null&&(Le(Se.current,!1),Se.current=null)}}),pr=ts(gr,{onPointerEnter:()=>{_(!0)},onPointerLeave:()=>{_(!1)},onPointerMove:F=>{j==null||j(F)}}),Zt=F=>{F.pointerId===Yt.current&&(Se.current!=null&&(Le(Se.current,!1),Se.current=null),z(window,"pointerup",Zt,!1))},ot=d.useId(),jr=c?`${ot}-label`:void 0,fr=`${ot}-group`,br=[...Array(N.length)].map((F,U)=>`${ot}-thumb-${U}`);return{domProps:pr,trackRef:I,isDisabled:a,step:n,values:N,minValue:s,maxValue:t,focusedThumb:Rs,labelId:jr,groupId:fr,thumbIds:br,numberFormatter:v,getThumbPercent:qs,getThumbMinValue:Ae,getThumbMaxValue:we,getThumbValueLabel:he,isThumbDragging:me,setThumbValue:Fe,updateDraggedThumbs:Le,setThumbEditable:hr,setFocusedThumb:Ss,getValueLabel:u,isPointerOver:w,showThumbOnHoverOnly:m,thumbSize:x}}function ra(s,t,a){return s[t]===a?s:[...s.slice(0,t),a,...s.slice(t+1)]}function zl({index:s,slider:t,isDisabled:a,ariaLabel:n,inputRef:i,onBlur:l,fillColor:o="primary"}){const c=_a(i),{addGlobalListener:u,removeGlobalListener:m}=Ca(),{step:x,values:j,focusedThumb:b,labelId:w,thumbIds:_,isDisabled:v,getThumbPercent:k,getThumbMinValue:z,getThumbMaxValue:I,getThumbValueLabel:N,setThumbValue:q,updateDraggedThumbs:A,isThumbDragging:T,setThumbEditable:G,setFocusedThumb:X,isPointerOver:Q,showThumbOnHoverOnly:me,thumbSize:he="w-18 h-18"}=t,Ae=T(s),we=j[s];G(s,!a);const Fe=a||v,Le=d.useCallback(()=>{c.current&&c.current.focus({preventScroll:!0})},[c]),Rs=b===s;d.useEffect(()=>{Rs&&Le()},[Rs,Le]);const Ss=d.useRef(void 0),Vs=fe=>{fe.pointerId===Ss.current&&(Le(),A(s,!1),m(window,"pointerup",Vs,!1))},qs=y("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",he,!Fe&&"shadow-md",Il({fillColor:o,isDisabled:Fe,isDragging:Ae}),!me||me&&Ae||Q?"visible":"invisible");return e.jsx("div",{role:"presentation",className:qs,style:{left:`${Math.max(k(s)*100,0)}%`},onPointerDown:fe=>{fe.button!==0||fe.altKey||fe.ctrlKey||fe.metaKey||(Le(),Ss.current=fe.pointerId,A(s,!0),u(window,"pointerup",Vs,!1))},children:e.jsx("input",{id:_[s],onKeyDown:Xt(()=>{A(s,!0)}),onKeyUp:Xt(()=>{A(s,!1)}),ref:c,tabIndex:Fe?void 0:0,min:z(s),max:I(s),step:x,value:we,disabled:Fe,"aria-label":n,"aria-labelledby":w,"aria-orientation":"horizontal","aria-valuetext":N(s),onFocus:()=>{X(s)},onBlur:fe=>{X(void 0),A(s,!1),l==null||l(fe)},onChange:fe=>{q(s,parseFloat(fe.target.value))},type:"range",className:"sr-only"})})}function Il({isDisabled:s,isDragging:t,fillColor:a}){return s?"bg-slider-disabled cursor-default":a&&a!=="primary"?a:y("hover:bg-primary-dark",t?"bg-primary-dark":"bg-primary")}function Al({inputRef:s,onBlur:t,...a}){const{onChange:n,onChangeEnd:i,value:l,defaultValue:o,...c}=a,u={...c,value:l!=null?[l]:void 0,defaultValue:o!=null?[o]:void 0,onChange:x=>{n==null||n(x[0])},onChangeEnd:x=>{i==null||i(x[0])}},m=Fl(u);return e.jsx(Nl,{...u,slider:m,children:e.jsx(zl,{fillColor:a.fillColor,index:0,slider:m,inputRef:s,onBlur:t})})}function Pl({name:s,...t}){const{field:{onChange:a,onBlur:n,value:i="",ref:l}}=ps({name:s}),o={onChange:a,onBlur:n,value:i||""};return e.jsx(Al,{inputRef:l,...ts(o,t)})}const ge=d.forwardRef(({startIcon:s,children:t,className:a,description:n,...i},l)=>e.jsxs(Zs,{ref:l,display:"flex",className:y("relative mb-10 h-54 w-full items-center gap-10 rounded-input border bg px-14 text-sm hover:bg-hover",a),variant:null,...i,children:[s,e.jsxs("span",{className:"block min-w-0",children:[e.jsx("span",{className:"block",children:t}),n&&e.jsx("span",{className:"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted",children:n})]}),e.jsx($s,{"aria-hidden":!0,className:"ml-auto text-muted icon-sm"})]})),Rt=L(e.jsx("path",{stroke:"#E0E0E0",d:"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z"}));function ws(){return(ws=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a[n])}return s}).apply(this,arguments)}function nt(s,t){if(s==null)return{};var a,n,i={},l=Object.keys(s);for(n=0;n<l.length;n++)t.indexOf(a=l[n])>=0||(i[a]=s[a]);return i}function zs(s){var t=d.useRef(s),a=d.useRef(function(n){t.current&&t.current(n)});return t.current=s,a.current}var Is=function(s,t,a){return t===void 0&&(t=0),a===void 0&&(a=1),s>a?a:s<t?t:s},Cs=function(s){return"touches"in s},bt=function(s){return s&&s.ownerDocument.defaultView||self},ia=function(s,t,a){var n=s.getBoundingClientRect(),i=Cs(t)?function(l,o){for(var c=0;c<l.length;c++)if(l[c].identifier===o)return l[c];return l[0]}(t.touches,a):t;return{left:Is((i.pageX-(n.left+bt(s).pageXOffset))/n.width),top:Is((i.pageY-(n.top+bt(s).pageYOffset))/n.height)}},la=function(s){!Cs(s)&&s.preventDefault()},Ka=M.memo(function(s){var t=s.onMove,a=s.onKey,n=nt(s,["onMove","onKey"]),i=d.useRef(null),l=zs(t),o=zs(a),c=d.useRef(null),u=d.useRef(!1),m=d.useMemo(function(){var w=function(k){la(k),(Cs(k)?k.touches.length>0:k.buttons>0)&&i.current?l(ia(i.current,k,c.current)):v(!1)},_=function(){return v(!1)};function v(k){var z=u.current,I=bt(i.current),N=k?I.addEventListener:I.removeEventListener;N(z?"touchmove":"mousemove",w),N(z?"touchend":"mouseup",_)}return[function(k){var z=k.nativeEvent,I=i.current;if(I&&(la(z),!function(q,A){return A&&!Cs(q)}(z,u.current)&&I)){if(Cs(z)){u.current=!0;var N=z.changedTouches||[];N.length&&(c.current=N[0].identifier)}I.focus(),l(ia(I,z,c.current)),v(!0)}},function(k){var z=k.which||k.keyCode;z<37||z>40||(k.preventDefault(),o({left:z===39?.05:z===37?-.05:0,top:z===40?.05:z===38?-.05:0}))},v]},[o,l]),x=m[0],j=m[1],b=m[2];return d.useEffect(function(){return b},[b]),M.createElement("div",ws({},n,{onTouchStart:x,onMouseDown:x,className:"react-colorful__interactive",ref:i,onKeyDown:j,tabIndex:0,role:"slider"}))}),Vt=function(s){return s.filter(Boolean).join(" ")},Ga=function(s){var t=s.color,a=s.left,n=s.top,i=n===void 0?.5:n,l=Vt(["react-colorful__pointer",s.className]);return M.createElement("div",{className:l,style:{top:100*i+"%",left:100*a+"%"}},M.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},oe=function(s,t,a){return t===void 0&&(t=0),a===void 0&&(a=Math.pow(10,t)),Math.round(a*s)/a},El=function(s){return Dl(vt(s))},vt=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?oe(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?oe(parseInt(s.substring(6,8),16)/255,2):1}},Tl=function(s){return Ml(Ll(s))},$l=function(s){var t=s.s,a=s.v,n=s.a,i=(200-t)*a/100;return{h:oe(s.h),s:oe(i>0&&i<200?t*a/100/(i<=100?i:200-i)*100:0),l:oe(i/2),a:oe(n,2)}},yt=function(s){var t=$l(s);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Ll=function(s){var t=s.h,a=s.s,n=s.v,i=s.a;t=t/360*6,a/=100,n/=100;var l=Math.floor(t),o=n*(1-a),c=n*(1-(t-l)*a),u=n*(1-(1-t+l)*a),m=l%6;return{r:oe(255*[n,c,o,o,u,n][m]),g:oe(255*[u,n,n,c,o,o][m]),b:oe(255*[o,o,u,n,n,c][m]),a:oe(i,2)}},Bs=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Ml=function(s){var t=s.r,a=s.g,n=s.b,i=s.a,l=i<1?Bs(oe(255*i)):"";return"#"+Bs(t)+Bs(a)+Bs(n)+l},Dl=function(s){var t=s.r,a=s.g,n=s.b,i=s.a,l=Math.max(t,a,n),o=l-Math.min(t,a,n),c=o?l===t?(a-n)/o:l===a?2+(n-t)/o:4+(t-a)/o:0;return{h:oe(60*(c<0?c+6:c)),s:oe(l?o/l*100:0),v:oe(l/255*100),a:i}},Rl=M.memo(function(s){var t=s.hue,a=s.onChange,n=Vt(["react-colorful__hue",s.className]);return M.createElement("div",{className:n},M.createElement(Ka,{onMove:function(i){a({h:360*i.left})},onKey:function(i){a({h:Is(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":oe(t),"aria-valuemax":"360","aria-valuemin":"0"},M.createElement(Ga,{className:"react-colorful__hue-pointer",left:t/360,color:yt({h:t,s:100,v:100,a:1})})))}),Vl=M.memo(function(s){var t=s.hsva,a=s.onChange,n={backgroundColor:yt({h:t.h,s:100,v:100,a:1})};return M.createElement("div",{className:"react-colorful__saturation",style:n},M.createElement(Ka,{onMove:function(i){a({s:100*i.left,v:100-100*i.top})},onKey:function(i){a({s:Is(t.s+100*i.left,0,100),v:Is(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+oe(t.s)+"%, Brightness "+oe(t.v)+"%"},M.createElement(Ga,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:yt(t)})))}),Qa=function(s,t){if(s===t)return!0;for(var a in s)if(s[a]!==t[a])return!1;return!0},ql=function(s,t){return s.toLowerCase()===t.toLowerCase()||Qa(vt(s),vt(t))};function Ol(s,t,a){var n=zs(a),i=d.useState(function(){return s.toHsva(t)}),l=i[0],o=i[1],c=d.useRef({color:t,hsva:l});d.useEffect(function(){if(!s.equal(t,c.current.color)){var m=s.toHsva(t);c.current={hsva:m,color:t},o(m)}},[t,s]),d.useEffect(function(){var m;Qa(l,c.current.hsva)||s.equal(m=s.fromHsva(l),c.current.color)||(c.current={hsva:l,color:m},n(m))},[l,s,n]);var u=d.useCallback(function(m){o(function(x){return Object.assign({},x,m)})},[]);return[l,u]}var Bl=typeof window<"u"?d.useLayoutEffect:d.useEffect,Hl=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},oa=new Map,Ul=function(s){Bl(function(){var t=s.current?s.current.ownerDocument:document;if(t!==void 0&&!oa.has(t)){var a=t.createElement("style");a.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,oa.set(t,a);var n=Hl();n&&a.setAttribute("nonce",n),t.head.appendChild(a)}},[])},Wl=function(s){var t=s.className,a=s.colorModel,n=s.color,i=n===void 0?a.defaultColor:n,l=s.onChange,o=nt(s,["className","colorModel","color","onChange"]),c=d.useRef(null);Ul(c);var u=Ol(a,i,l),m=u[0],x=u[1],j=Vt(["react-colorful",t]);return M.createElement("div",ws({},o,{ref:c,className:j}),M.createElement(Vl,{hsva:m,onChange:x}),M.createElement(Rl,{hue:m.h,onChange:x,className:"react-colorful__last-control"}))},Kl={defaultColor:"000",toHsva:El,fromHsva:function(s){return Tl({h:s.h,s:s.s,v:s.v,a:1})},equal:ql},Gl=function(s){return M.createElement(Wl,ws({},s,{colorModel:Kl}))},Ql=/^#?([0-9A-F]{3,8})$/i,Jl=function(s){var t=s.color,a=t===void 0?"":t,n=s.onChange,i=s.onBlur,l=s.escape,o=s.validate,c=s.format,u=s.process,m=nt(s,["color","onChange","onBlur","escape","validate","format","process"]),x=d.useState(function(){return l(a)}),j=x[0],b=x[1],w=zs(n),_=zs(i),v=d.useCallback(function(z){var I=l(z.target.value);b(I),o(I)&&w(u?u(I):I)},[l,u,o,w]),k=d.useCallback(function(z){o(z.target.value)||b(l(a)),_(z)},[a,l,o,_]);return d.useEffect(function(){b(l(a))},[a,l]),M.createElement("input",ws({},m,{value:c?c(j):j,spellCheck:"false",onChange:v,onBlur:k}))},ca=function(s){return"#"+s},Yl=function(s){var t=s.prefixed,a=s.alpha,n=nt(s,["prefixed","alpha"]),i=d.useCallback(function(o){return o.replace(/([^0-9A-F]+)/gi,"").substring(0,a?8:6)},[a]),l=d.useCallback(function(o){return function(c,u){var m=Ql.exec(c),x=m?m[1].length:0;return x===3||x===6||!!u&&x===4||!!u&&x===8}(o,a)},[a]);return M.createElement(Jl,ws({},n,{escape:i,format:t?ca:void 0,process:ca,validate:l}))};class Zl{getStringForLocale(t,a){let n=this.strings[a];n||(n=Xl(a,this.strings,this.defaultLocale),this.strings[a]=n);let i=n[t];if(!i)throw new Error(`Could not find intl message ${t} in ${a} locale`);return i}constructor(t,a="en-US"){this.strings={...t},this.defaultLocale=a}}function Xl(s,t,a="en-US"){if(t[s])return t[s];let n=eo(s);if(t[n])return t[n];for(let i in t)if(i.startsWith(n+"-"))return t[i];return t[a]}function eo(s){return Intl.Locale?new Intl.Locale(s).language:s.split("-")[0]}function so(s){return s&&s.__esModule?s.default:s}var Ja={},Ya={};Ya={alpha:"ألفا",blue:"أزرق",brightness:"السطوع",green:"أخضر",hue:"درجة اللون",lightness:"الإضاءة",red:"أحمر",saturation:"التشبع"};var Za={};Za={alpha:"Алфа",blue:"Синьо",brightness:"Яркост",green:"Зелено",hue:"Оттенък",lightness:"Лекота",red:"Червено",saturation:"Наситеност"};var Xa={};Xa={alpha:"Alfa",blue:"Modrá",brightness:"Jas",green:"Zelená",hue:"Odstín",lightness:"Světlost",red:"Červená",saturation:"Sytost"};var en={};en={alpha:"Alfa",blue:"Blå",brightness:"Lysstyrke",green:"Grøn",hue:"Tone",lightness:"Lyshed",red:"Rød",saturation:"Farvemætning"};var sn={};sn={alpha:"Alpha",blue:"Blau",brightness:"Helligkeit",green:"Grün",hue:"Farbton",lightness:"Leuchtkraft",red:"Rot",saturation:"Sättigung"};var tn={};tn={alpha:"Άλφα",blue:"Μπλε",brightness:"Φωτεινότητα",green:"Πράσινο",hue:"Τόνος",lightness:"Φωτεινότητα",red:"Κόκκινο",saturation:"Κορεσμός"};var an={};an={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha"};var nn={};nn={alpha:"Alpha",blue:"Azul",brightness:"Brillo",green:"Verde",hue:"Tono",lightness:"Luminosidad",red:"Rojo",saturation:"Saturación"};var rn={};rn={alpha:"Alfa",blue:"Sinine",brightness:"Heledus",green:"Roheline",hue:"Värv",lightness:"Valgus",red:"Punane",saturation:"Küllastus"};var ln={};ln={alpha:"Alpha",blue:"Sininen",brightness:"Kirkkaus",green:"Vihreä",hue:"Sävy",lightness:"Valomäärä",red:"Punainen",saturation:"Värikylläisyys"};var on={};on={alpha:"Alpha",blue:"Bleu",brightness:"Luminosité",green:"Vert",hue:"Teinte",lightness:"Luminosité",red:"Rouge",saturation:"Saturation"};var cn={};cn={alpha:"אלפא",blue:"כחול",brightness:"בהירות",green:"ירוק",hue:"גוון",lightness:"כמות אור",red:"אדום",saturation:"רוויה"};var dn={};dn={alpha:"Alfa",blue:"Plava",brightness:"Svjetlina",green:"Zelena",hue:"Nijansa",lightness:"Osvijetljenost",red:"Crvena",saturation:"Zasićenost"};var un={};un={alpha:"Alfa",blue:"Kék",brightness:"Fényesség",green:"Zöld",hue:"Színárnyalat",lightness:"Világosság",red:"Piros",saturation:"Telítettség"};var mn={};mn={alpha:"Alfa",blue:"Blu",brightness:"Luminosità",green:"Verde",hue:"Tonalità",lightness:"Luminosità",red:"Rosso",saturation:"Saturazione"};var hn={};hn={alpha:"アルファ",blue:"青",brightness:"明るさ",green:"緑",hue:"色相",lightness:"明度",red:"赤",saturation:"彩度"};var xn={};xn={alpha:"알파",blue:"파랑",brightness:"명도",green:"초록",hue:"색조",lightness:"밝기",red:"빨강",saturation:"채도"};var gn={};gn={alpha:"Alfa",blue:"Mėlyna",brightness:"Ryškumas",green:"Žalia",hue:"Atspalvis",lightness:"Šviesumas",red:"Raudona",saturation:"Įsotinimas"};var pn={};pn={alpha:"Alfa",blue:"Zila",brightness:"Spilgtums",green:"Zaļa",hue:"Nokrāsa",lightness:"Gaišums",red:"Sarkana",saturation:"Piesātinājums"};var jn={};jn={alpha:"Alfa",blue:"Blå",brightness:"Lysstyrke",green:"Grønn",hue:"Fargetone",lightness:"Lyshet",red:"Rød",saturation:"Metning"};var fn={};fn={alpha:"Alfa",blue:"Blauw",brightness:"Helderheid",green:"Groen",hue:"Kleurtoon",lightness:"Lichtsterkte",red:"Rood",saturation:"Verzadiging"};var bn={};bn={alpha:"Alfa",blue:"Niebieski",brightness:"Jasność",green:"Zielony",hue:"Odcień",lightness:"Jaskrawość",red:"Czerwony",saturation:"Nasycenie"};var vn={};vn={alpha:"Alfa",blue:"Azul",brightness:"Brilho",green:"Verde",hue:"Matiz",lightness:"Luminosidade",red:"Vermelho",saturation:"Saturação"};var yn={};yn={alpha:"Alfa",blue:"Azul",brightness:"Luminosidade",green:"Verde",hue:"Tonalidade",lightness:"Claridade",red:"Vermelho",saturation:"Saturação"};var wn={};wn={alpha:"Alfa",blue:"Albastru",brightness:"Luminozitate",green:"Verde",hue:"Nuanță",lightness:"Luminozitate",red:"Roșu",saturation:"Saturație"};var Sn={};Sn={alpha:"Альфа",blue:"Синий",brightness:"Яркость",green:"Зеленый",hue:"Оттенок",lightness:"Освещенность",red:"Красный",saturation:"Насыщенность"};var kn={};kn={alpha:"Alfa",blue:"Modrá",brightness:"Jas",green:"Zelená",hue:"Odtieň",lightness:"Svetlosť",red:"Červená",saturation:"Sýtosť"};var Nn={};Nn={alpha:"Alfa",blue:"Modra",brightness:"Svetlost",green:"Zelena",hue:"Barva",lightness:"Lahkost",red:"Rdeča",saturation:"Nasičenost"};var Cn={};Cn={alpha:"Alfa",blue:"Plava",brightness:"Osvetljenost",green:"Zelena",hue:"Nijansa",lightness:"Osvetljenje",red:"Crvena",saturation:"Zasićenje"};var _n={};_n={alpha:"Alfa",blue:"Blått",brightness:"Ljusstyrka",green:"Grönt",hue:"Nyans",lightness:"Ljushet",red:"Rött",saturation:"Mättnad"};var Fn={};Fn={alpha:"Alfa",blue:"Mavi",brightness:"Parlaklık",green:"Yeşil",hue:"Ton",lightness:"Canlılık",red:"Kırmızı",saturation:"Doygunluk"};var zn={};zn={alpha:"Альфа",blue:"Синій",brightness:"Яскравість",green:"Зелений",hue:"Тон",lightness:"Освітленість",red:"Червоний",saturation:"Насиченість"};var In={};In={alpha:"Alpha",blue:"蓝色",brightness:"亮度",green:"绿色",hue:"色相",lightness:"明亮度",red:"红色",saturation:"饱和度"};var An={};An={alpha:"Alpha",blue:"藍色",brightness:"亮度",green:"綠色",hue:"色相",lightness:"明亮",red:"紅色",saturation:"飽和度"};Ja={"ar-AE":Ya,"bg-BG":Za,"cs-CZ":Xa,"da-DK":en,"de-DE":sn,"el-GR":tn,"en-US":an,"es-ES":nn,"et-EE":rn,"fi-FI":ln,"fr-FR":on,"he-IL":cn,"hr-HR":dn,"hu-HU":un,"it-IT":mn,"ja-JP":hn,"ko-KR":xn,"lt-LT":gn,"lv-LV":pn,"nb-NO":jn,"nl-NL":fn,"pl-PL":bn,"pt-BR":vn,"pt-PT":yn,"ro-RO":wn,"ru-RU":Sn,"sk-SK":kn,"sl-SI":Nn,"sr-SP":Cn,"sv-SE":_n,"tr-TR":Fn,"uk-UA":zn,"zh-CN":In,"zh-TW":An};const to=new Zl(so(Ja));function os(s){let t=qe.parse(s)||Oe.parse(s)||Be.parse(s);if(t)return t;throw new Error("Invalid color value: "+s)}class qt{toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}withChannelValue(t,a){if(t in this){let n=this.clone();return n[t]=a,n}throw new Error("Unsupported color channel: "+t)}getChannelName(t,a){return to.getStringForLocale(t,a)}getColorSpaceAxes(t){let{xChannel:a,yChannel:n}=t,i=a||this.getColorChannels().find(c=>c!==n),l=n||this.getColorChannels().find(c=>c!==i),o=this.getColorChannels().find(c=>c!==i&&c!==l);return{xChannel:i,yChannel:l,zChannel:o}}}class qe extends qt{static parse(t){let a=[];if(/^#[\da-f]+$/i.test(t)&&[4,5,7,9].includes(t.length)){const l=(t.length<6?t.replace(/[^#]/gi,"$&$&"):t).slice(1).split("");for(;l.length>0;)a.push(parseInt(l.splice(0,2).join(""),16));a[3]=a[3]!==void 0?a[3]/255:void 0}const n=t.match(/^rgba?\((.*)\)$/);n!=null&&n[1]&&(a=n[1].split(",").map(l=>Number(l.trim())),a=a.map((l,o)=>Xe(l,0,o<3?255:1)));var i;return a.length<3?void 0:new qe(a[0],a[1],a[2],(i=a[3])!==null&&i!==void 0?i:1)}toString(t){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,a=this.green/255,n=this.blue/255,i=Math.min(t,a,n),l=Math.max(t,a,n),o=l-i,c=l===0?0:o/l;let u=0;if(o!==0){switch(l){case t:u=(a-n)/o+(a<n?6:0);break;case a:u=(n-t)/o+2;break;case n:u=(t-a)/o+4;break}u/=6}return new Oe(se(u*360,2),se(c*100,2),se(l*100,2),this.alpha)}toHSL(){const t=this.red/255,a=this.green/255,n=this.blue/255,i=Math.min(t,a,n),l=Math.max(t,a,n),o=(l+i)/2,c=l-i;let u,m;if(c===0)u=m=0;else{switch(m=c/(o<.5?l+i:2-l-i),l){case t:u=(a-n)/c+(a<n?6:0);break;case a:u=(n-t)/c+2;break;case n:u=(t-a)/c+4;break}u/=6}return new Be(se(u*360,2),se(m*100,2),se(o*100,2),this.alpha)}clone(){return new qe(this.red,this.green,this.blue,this.alpha)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"red":case"green":case"blue":n={style:"decimal"};break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new zt(a,n).format(i)}getColorSpace(){return"rgb"}getColorChannels(){return qe.colorChannels}constructor(t,a,n,i){super(),this.red=t,this.green=a,this.blue=n,this.alpha=i}}qe.colorChannels=["red","green","blue"];const ao=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class Oe extends qt{static parse(t){let a;if(a=t.match(ao)){var n;const[i,l,o,c]=((n=a[1])!==null&&n!==void 0?n:a[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Oe(Pn(i,360),Xe(l,0,100),Xe(o,0,100),Xe(c??1,0,1))}}toString(t){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${se(this.saturation,2)}%, ${se(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${se(this.saturation,2)}%, ${se(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,a=this.brightness/100,n=a*(1-t/2);return t=n===0||n===1?0:(a-n)/Math.min(n,1-n),new Be(se(this.hue,2),se(t*100,2),se(n*100,2),this.alpha)}toRGB(){let t=this.hue,a=this.saturation/100,n=this.brightness/100,i=(l,o=(l+t/60)%6)=>n-a*n*Math.max(Math.min(o,4-o,1),0);return new qe(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),this.alpha)}clone(){return new Oe(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"brightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new zt(a,n).format(i)}getColorSpace(){return"hsb"}getColorChannels(){return Oe.colorChannels}constructor(t,a,n,i){super(),this.hue=t,this.saturation=a,this.brightness=n,this.alpha=i}}Oe.colorChannels=["hue","saturation","brightness"];const no=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;function Pn(s,t){return(s%t+t)%t}class Be extends qt{static parse(t){let a;if(a=t.match(no)){var n;const[i,l,o,c]=((n=a[1])!==null&&n!==void 0?n:a[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new Be(Pn(i,360),Xe(l,0,100),Xe(o,0,100),Xe(c??1,0,1))}}toString(t){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${se(this.saturation,2)}%, ${se(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${se(this.saturation,2)}%, ${se(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,a=this.lightness/100,n=a+t*Math.min(a,1-a);return t=n===0?0:2*(1-a/n),new Oe(se(this.hue,2),se(t*100,2),se(n*100,2),this.alpha)}toRGB(){let t=this.hue,a=this.saturation/100,n=this.lightness/100,i=a*Math.min(n,1-n),l=(o,c=(o+t/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return new qe(Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255),this.alpha)}clone(){return new Be(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,a){let n,i=this.getChannelValue(t);switch(t){case"hue":n={style:"unit",unit:"degree",unitDisplay:"narrow"};break;case"saturation":case"lightness":n={style:"percent"},i/=100;break;case"alpha":n={style:"percent"};break;default:throw new Error("Unknown color channel: "+t)}return new zt(a,n).format(i)}getColorSpace(){return"hsl"}getColorChannels(){return Be.colorChannels}constructor(t,a,n,i){super(),this.hue=t,this.saturation=a,this.lightness=n,this.alpha=i}}Be.colorChannels=["hue","saturation","lightness"];os("#ffffff");os("hsl(0, 100%, 50%)");const ro=os("#000000"),io=os("#FFFFFF");ro.toHexInt();io.toHexInt();function lo({onChange:s,value:t,colors:a}){const n=a.map(i=>{const l=t===i;return e.jsx(Zs,{onClick:()=>{s==null||s(i)},className:y("relative block flex-shrink-0 w-26 h-26 border rounded",l&&"shadow-md"),style:{backgroundColor:i},children:l&&e.jsx("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},i)});return e.jsx("div",{className:"flex flex-wrap gap-6",children:n})}const oo=[{color:"rgb(255, 255, 255)",name:h("White")},{color:"rgb(239,245,245)",name:h("Solitude")},{color:"rgb(245,213,174)",name:h("Wheat")},{color:"rgb(253,227,167)",name:h("Cape Honey")},{color:"rgb(242,222,186)",name:h("Milk punch")},{color:"rgb(97,118,75)",name:h("Dingy"),foreground:"rgb(255, 255, 255)"},{color:"rgb(4, 147, 114)",name:h("Aquamarine"),foreground:"rgb(255, 255, 255)"},{color:"rgb(222,245,229)",name:h("Cosmic Latte")},{color:"rgb(233,119,119)",name:h("Geraldine"),foreground:"rgb(90,14,14)"},{color:"rgb(247,164,164)",name:h("Sundown")},{color:"rgb(30,139,195)",name:h("Pelorous"),foreground:"rgb(255, 255, 255)"},{color:"rgb(142,68,173)",name:h("Deep Lilac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(108,74,182)",name:h("Blue marguerite"),foreground:"rgb(255, 255, 255)"},{color:"rgb(139,126,116)",name:h("Americano"),foreground:"rgb(255, 255, 255)"},{color:"rgb(0,0,0)",name:h("Black"),foreground:"rgb(255, 255, 255)"},{color:"rgb(64,66,88)",name:h("Blue zodiac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(101,100,124)",name:h("Comet"),foreground:"rgb(255, 255, 255)"}],co=oo.map(({color:s})=>s).slice(0,14);function uo({defaultValue:s,onChange:t,colorPresets:a,showInput:n}){const[i,l]=d.useState(s),o=a||co,c=Ft({size:"sm"});return e.jsxs("div",{children:[e.jsx(Gl,{className:"!w-auto",color:i,onChange:u=>{t==null||t(u),l(u)}}),e.jsxs("div",{className:"py-20 px-12",children:[o&&e.jsx(lo,{colors:o,onChange:u=>{if(u){const m=os(u).toString("hex");t==null||t(m),l(m)}},value:i}),n&&e.jsx("div",{className:"pt-20",children:e.jsx(Yl,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:c.input,color:i,onChange:u=>{t==null||t(u),l(u)}})})]})]})}function Ot({defaultValue:s,onChange:t,hideFooter:a=!1,showInput:n=!0}){const{close:i}=Y(),[l,o]=d.useState(s||"");return e.jsxs(te,{size:"2xs",children:[e.jsx(uo,{showInput:n,defaultValue:l,onChange:c=>{o(c),t==null||t(c)}}),!a&&e.jsxs(xe,{dividerTop:!0,children:[e.jsx(f,{variant:"text",size:"xs",onClick:()=>{i()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",size:"xs",onClick:()=>{i(l)},children:e.jsx(r,{message:"Apply"})})]})]})}function mo(){return e.jsxs(d.Fragment,{children:[e.jsx(ho,{}),e.jsxs("div",{className:"my-24 py-24 border-y",children:[e.jsx(ge,{to:"action-buttons",elementType:J,className:"mb-20",children:e.jsx(r,{message:"Action buttons"})}),e.jsx(ge,{to:"primary-features",elementType:J,children:e.jsx(r,{message:"Primary features"})}),e.jsx(ge,{to:"secondary-features",elementType:J,children:e.jsx(r,{message:"Secondary features"})})]}),e.jsx(xo,{})]})}function ho(){const s=cs(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.headerImage});return e.jsxs(e.Fragment,{children:[e.jsx(g,{label:e.jsx(r,{message:"Header title"}),className:"mb-20",name:"settings.homepage.appearance.headerTitle",onFocus:()=>{R().preview.setHighlight('[data-testid="headerTitle"]')}}),e.jsx(g,{label:e.jsx(r,{message:"Header subtitle"}),className:"mb-30",inputElementType:"textarea",rows:4,name:"settings.homepage.appearance.headerSubtitle",onFocus:()=>{R().preview.setHighlight('[data-testid="headerSubtitle"]')}}),e.jsx(as,{name:"settings.homepage.appearance.headerImage",className:"mb-30",label:e.jsx(r,{message:"Header image"}),defaultValue:s,diskPrefix:"homepage"}),e.jsx(Pl,{name:"settings.homepage.appearance.headerImageOpacity",label:e.jsx(r,{message:"Header image opacity"}),minValue:0,step:.1,maxValue:1,formatOptions:{style:"percent"}}),e.jsx("div",{className:"text-muted text-xs mb-20",children:e.jsx(r,{message:"In order for overlay colors to appear, header image opacity will need to be less then 100%"})}),e.jsx(da,{formKey:"settings.homepage.appearance.headerOverlayColor1",label:e.jsx(r,{message:"Header overlay color 1"})}),e.jsx(da,{formKey:"settings.homepage.appearance.headerOverlayColor2",label:e.jsx(r,{message:"Header overlay color 2"})})]})}function xo(){const s=cs(t=>{var a,n;return(n=(a=t.defaults)==null?void 0:a.settings.homepage.appearance)==null?void 0:n.footerImage});return e.jsxs(d.Fragment,{children:[e.jsx(g,{label:e.jsx(r,{message:"Footer title"}),className:"mb-20",name:"settings.homepage.appearance.footerTitle",onFocus:()=>{R().preview.setHighlight('[data-testid="footerTitle"]')}}),e.jsx(g,{label:e.jsx(r,{message:"Footer subtitle"}),className:"mb-20",name:"settings.homepage.appearance.footerSubtitle",onFocus:()=>{R().preview.setHighlight('[data-testid="footerSubtitle"]')}}),e.jsx(as,{name:"settings.homepage.appearance.footerImage",className:"mb-30",label:e.jsx(r,{message:"Footer background image"}),defaultValue:s,diskPrefix:"homepage"})]})}function da({label:s,formKey:t}){const a=t,{watch:n,setValue:i}=P(),l=n(a),o=c=>{i(t,c,{shouldDirty:!0})};return e.jsxs($,{type:"popover",onClose:c=>{o(c)},children:[e.jsx(ge,{className:"capitalize",startIcon:e.jsx(Rt,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:l}}),children:s}),e.jsx(Ot,{defaultValue:l,onChange:c=>{o(c)}})]})}function En(s){return s&&s.charAt(0).toUpperCase()+s.slice(1)}const go=M.forwardRef(({valueListKey:s="permissions",...t},a)=>{const{data:n}=_e([s]),i=(n==null?void 0:n.permissions)||(n==null?void 0:n.workspacePermissions),[l,o]=Ps(t.value,[],t.onChange),[c,u]=d.useState(!1);if(!i)return null;const m=Tn(i,l,c),x=j=>{const b=[...l],w=b.findIndex(_=>_.id===j.id);w>-1&&b.splice(w,1,j),o(b)};return e.jsxs(d.Fragment,{children:[e.jsx(Qe,{variant:"outline",ref:a,children:m.map(({groupName:j,items:b,anyChecked:w})=>e.jsx(ke,{label:e.jsx(r,{message:Ht(j)}),startIcon:w?e.jsx(_r,{size:"sm"}):void 0,children:e.jsx(Fa,{children:b.map(_=>{const v=l.findIndex(z=>z.id===_.id),k=v>-1;return e.jsxs("div",{children:[e.jsx(za,{onSelected:()=>{if(k){const z=[...l];z.splice(v,1),o(z)}else o([...l,_])},endSection:e.jsx(ft,{tabIndex:-1,checked:k,onChange:()=>{}}),description:e.jsx(r,{message:_.description}),children:e.jsx(r,{message:_.display_name||_.name})}),k&&e.jsx(po,{permission:_,onChange:x})]},_.id)})})},j))}),e.jsx(ft,{className:"mt-30",checked:c,onChange:j=>{u(j.target.checked)},children:e.jsx(r,{message:"Show advanced permissions"})})]})});function po({permission:s,onChange:t}){var n;if(!((n=s==null?void 0:s.restrictions)!=null&&n.length))return null;const a=(i,l)=>{const o=Fr(s,c=>{const u=c.restrictions.find(m=>m.name===i);u&&(u.value=l)});t==null||t(o)};return e.jsx("div",{className:"px-40 py-20",children:s.restrictions.map((i,l)=>{const o=l===s.restrictions.length-1,c=e.jsx(r,{message:Ht(i.name)}),u=i.description?e.jsx(r,{message:i.description}):void 0;return i.type==="bool"?e.jsx(ft,{description:u,className:y(!o&&"mb-30"),checked:!!i.value,onChange:m=>{a(i.name,m.target.checked)},children:c},i.name):e.jsx(We,{size:"sm",label:c,description:u,type:"number",className:y(!o&&"mb-30"),value:i.value||"",onChange:m=>{a(i.name,m.target.value===""?void 0:parseInt(m.target.value))}},i.name)})})}function Bt(s){const{field:{onChange:t,value:a=[],ref:n}}=ps({name:s.name}),i={onChange:t,value:a};return e.jsx(go,{ref:n,...ts(i,s)})}const Ht=s=>En(s.replace("_"," "));function Tn(s,t,a){const n=[];return s.forEach(i=>{const l=t.findIndex(c=>c.id===i.id);if(!a&&i.advanced)return;let o=n.find(c=>c.groupName===i.group);if(o||(o={groupName:i.group,anyChecked:!1,items:[]},n.push(o)),l>-1){const c={...i,restrictions:jo(i.restrictions,t[l].restrictions)};o.anyChecked=!0,o.items.push(c)}else o.items.push(i)}),n}function jo(s,t){return s==null?void 0:s.map(a=>{const n=t.find(i=>i.name===a.name);return n?{...a,value:n.value}:a})}function $n(){const s=Ut.sections.menus.config;return s?s.availableRoutes.map(t=>({id:t,label:t,action:t,type:"route",target:"_self"})):[]}const ut={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},fo=[...Array(60).keys()],bo=M.lazy(()=>Es(()=>import("./icon-list-11c484ec.js"),["./icon-list-11c484ec.js","./main-4e2f9053.js","./main-c785ef06.css","./UnfoldMore-2feaf195.js","./Edit-f6e2a559.js","./Info-6b95ce75.js","./OpenInNew-1a44aa23.js","./TaskAlt-d8322f93.js","./TrendingUp-4a71f7a5.js","./use-resume-subscription-52a0ee62.js"],import.meta.url));function vo({onIconSelected:s}){const{trans:t}=V(),[a,n]=M.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(We,{className:"mb-20",value:a,onChange:i=>{n(i.target.value)},placeholder:t({message:"Search icons..."})}),e.jsx(xs,{mode:"wait",children:e.jsx(d.Suspense,{fallback:e.jsx(He.div,{...gs,className:ut.grid,children:fo.map((i,l)=>e.jsx("div",{className:ut.button,children:e.jsx(us,{variant:"rect"})},l))}),children:e.jsx(He.div,{...gs,className:ut.grid,children:e.jsx(bo,{searchQuery:a,onIconSelected:s})})})})]})}function yo(){return e.jsxs(te,{size:"w-850",className:"min-h-dialog",children:[e.jsx(re,{children:e.jsx(r,{message:"Select icon"})}),e.jsx(ne,{children:e.jsx(wo,{})})]})}function wo(){const{close:s}=Y();return e.jsx(vo,{onIconSelected:t=>{s(t)}})}function So(s){const t=d.useRef();return d.useEffect(()=>{t.current=s},[s]),t.current}function ms({formPathPrefix:s,hideRoleAndPermissionFields:t}){const{trans:a}=V(),n=i=>s?`${s}.${i}`:i;return e.jsxs(d.Fragment,{children:[e.jsx(g,{className:"mb-20",name:n("label"),label:e.jsx(r,{message:"Label"}),placeholder:a(h("No label...")),startAppend:e.jsx(ko,{prefixName:n})}),e.jsx(No,{prefixName:n}),!t&&e.jsxs(d.Fragment,{children:[e.jsx(Co,{prefixName:n}),e.jsx(_o,{prefixName:n})]}),e.jsx(Fo,{prefixName:n})]})}function ko({prefixName:s,...t}){const{watch:a,setValue:n}=P(),i=s("icon"),l=a(i),o=l&&Ia(l);return e.jsxs($,{type:"modal",onClose:c=>{(c||c===null)&&n(i,c,{shouldDirty:!0})},children:[e.jsx(C,{className:"text-muted icon-sm",variant:"outline",size:"md",...t,children:o?e.jsx(o,{}):e.jsx(Re,{})}),e.jsx(yo,{})]})}function No({prefixName:s}){const t=P(),a=t.watch(s("type")),n=So(a),{data:i}=_e(["menuItemCategories"]),l=(i==null?void 0:i.menuItemCategories)||[],o=l.find(m=>m.type===a),{trans:c}=V(),u=$n();return d.useEffect(()=>{n&&n!==a&&t.setValue(s("action"),"")},[a,n,t,s]),e.jsxs(d.Fragment,{children:[e.jsxs(W,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(r,{message:"Type"}),children:[e.jsx(p,{value:"link",children:e.jsx(r,{message:"Custom link"})}),e.jsx(p,{value:"route",children:e.jsx(r,{message:"Site page"})}),l.map(m=>e.jsx(p,{value:m.type,children:m.name},m.type))]}),a==="link"&&e.jsx(g,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:c({message:"Enter a url..."}),label:e.jsx(r,{message:"Url"})}),a==="route"&&e.jsx(W,{className:"mb-20",required:!0,items:u,name:s("action"),label:e.jsx(r,{message:"Page"}),searchPlaceholder:c(h("Search pages")),showSearchField:!0,selectionMode:"single",children:m=>e.jsx(p,{value:m.id,children:m.label},m.id)}),o&&e.jsx(W,{className:"mb-20",required:!0,items:o.items,name:s("action"),showSearchField:!0,searchPlaceholder:c(h("Search...")),selectionMode:"single",label:e.jsx(r,{message:o.name}),children:m=>e.jsx(p,{value:m.action,children:e.jsx(r,{message:m.label})})})]})}function Co({prefixName:s}){const{data:t}=_e(["roles","permissions"]),a=(t==null?void 0:t.roles)||[],{trans:n}=V();return e.jsx(tt,{className:"mb-20",placeholder:n({message:"Add role..."}),label:e.jsx(r,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:a,valueKey:"id",displayWith:i=>{var l;return(l=a.find(o=>o.id===i.id))==null?void 0:l.name},children:i=>e.jsx(p,{value:i.id,capitalizeFirst:!0,children:e.jsx(r,{message:i.name})},i.id)})}function _o({prefixName:s}){const{data:t}=_e(["roles","permissions"]),{trans:a}=V(),n=d.useMemo(()=>Tn((t==null?void 0:t.permissions)||[],[],!1),[t==null?void 0:t.permissions]);return e.jsx(tt,{label:e.jsx(r,{message:"Only show if user has permissions"}),placeholder:a({message:"Add permission..."}),chipSize:"sm",suggestions:n,name:s("permissions"),valueKey:"name",children:({groupName:i,items:l})=>e.jsx(Aa,{label:Ht(i),children:l.map(o=>e.jsx(p,{value:o.name,description:e.jsx(r,{message:o.description}),children:e.jsx(r,{message:o.display_name||o.name})},o.name))},i)})}function Fo({prefixName:s}){return P().watch(s("type"))!=="link"?null:e.jsxs(W,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(r,{message:"Open link in"}),children:[e.jsx(p,{value:"_self",children:e.jsx(r,{message:"Same window"})}),e.jsx(p,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})}function zo(){const[s,t]=d.useState(["cta1"]);return e.jsxs(Qe,{variant:"outline",expandedValues:s,onExpandedChange:a=>{t(a),a.length&&R().preview.setHighlight(`[data-testid="${a[0]}"]`)},children:[e.jsx(ke,{value:"cta1",label:e.jsx(r,{message:"Header button 1"}),children:e.jsx(ms,{formPathPrefix:"settings.homepage.appearance.actions.cta1"})}),e.jsx(ke,{value:"ct2",label:e.jsx(r,{message:"Header button 2"}),children:e.jsx(ms,{formPathPrefix:"settings.homepage.appearance.actions.cta2"})}),e.jsx(ke,{value:"cta3",label:e.jsx(r,{message:"Footer button"}),children:e.jsx(ms,{formPathPrefix:"settings.homepage.appearance.actions.cta3"})})]})}function Io(){const{fields:s,remove:t,append:a}=Ie({name:"settings.homepage.appearance.primaryFeatures"}),[n,i]=d.useState([0]);return e.jsxs("div",{children:[e.jsx(Qe,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&R().preview.setHighlight(`[data-testid="primary-root-${l[0]}"]`)},children:s.map((l,o)=>e.jsxs(ke,{value:o,label:e.jsx(r,{message:`Primary feature ${o+1}`}),children:[e.jsx(Ao,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:e.jsx(r,{message:"Remove"})})})]},l.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{a({}),i([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function Ao({index:s}){const t=cs(a=>{var n,i,l;return(l=(i=(n=a.defaults)==null?void 0:n.settings.homepage.appearance)==null?void 0:i.primaryFeatures[s])==null?void 0:l.image});return e.jsxs(e.Fragment,{children:[e.jsx(as,{name:`settings.homepage.appearance.primaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:t,diskPrefix:"homepage"}),e.jsx(g,{name:`settings.homepage.appearance.primaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{R().preview.setHighlight(`[data-testid="primary-title-${s}"]`)}}),e.jsx(g,{name:`settings.homepage.appearance.primaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{R().preview.setHighlight(`[data-testid="primary-subtitle-${s}"]`)}})]})}function Po(){const{fields:s,remove:t,append:a}=Ie({name:"settings.homepage.appearance.secondaryFeatures"}),[n,i]=d.useState([0]);return e.jsxs("div",{children:[e.jsx(Qe,{variant:"outline",expandedValues:n,onExpandedChange:l=>{i(l),l.length&&R().preview.setHighlight(`[data-testid="secondary-root-${l[0]}"]`)},children:s.map((l,o)=>e.jsxs(ke,{value:o,label:e.jsx(r,{message:`Secondary feature ${o+1}`}),children:[e.jsx(Eo,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",onClick:()=>{t(o)},children:e.jsx(r,{message:"Remove"})})})]},l.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{a({}),i([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function Eo({index:s}){return e.jsxs(e.Fragment,{children:[e.jsx(as,{name:`settings.homepage.appearance.secondaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:To(s),diskPrefix:"homepage"}),e.jsx(g,{name:`settings.homepage.appearance.secondaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{R().preview.setHighlight(`[data-testid="secondary-title-${s}"]`)}}),e.jsx(g,{name:`settings.homepage.appearance.secondaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{R().preview.setHighlight(`[data-testid="secondary-subtitle-${s}"]`)}}),e.jsx(g,{name:`settings.homepage.appearance.secondaryFeatures.${s}.description`,label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{R().preview.setHighlight(`[data-testid="secondary-description-${s}"]`)}})]})}function To(s){var t,a;return(a=((t=R().defaults)==null?void 0:t.settings.homepage.appearance).secondaryFeatures[s])==null?void 0:a.image}const Ln={preview:{defaultRoute:"drive",navigationRoutes:["s","drive"]},sections:{"landing-page":{label:h("Landing Page"),position:1,previewRoute:"/",routes:[{path:"landing-page",element:e.jsx(mo,{})},{path:"landing-page/action-buttons",element:e.jsx(zo,{})},{path:"landing-page/primary-features",element:e.jsx(Io,{})},{path:"landing-page/secondary-features",element:e.jsx(Po,{})}],buildBreadcrumb:(s,t)=>{const n=s.split("/").filter(l=>!!l).pop(),i=[{label:h("Landing page"),location:"landing-page"}];return n==="action-buttons"&&i.push({label:h("Action buttons"),location:"landing-page/action-buttons"}),n==="primary-features"&&i.push({label:h("Primary features"),location:"landing-page/primary-features"}),n==="secondary-features"&&i.push({label:h("Secondary features"),location:"landing-page/secondary-features"}),i}},menus:{config:{positions:["drive-navbar","drive-sidebar","homepage-navbar","shareable-link-page","footer","footer-secondary"],availableRoutes:["/drive","/drive/shares","/drive/recent","/drive/starred","/drive/trash"]}},"seo-settings":{config:{pages:[{key:"landing-page",label:h("Landing page")},{key:"shareable-link-page",label:h("Shareable link page")}]}}}},Ut=zr.all([kl,Ln]),cs=Ir()(Sl(Ar((s,t)=>({defaults:null,iframeWindow:null,config:Ut,setDefaults:a=>{s(n=>{n.defaults={...a}})},setIframeWindow:a=>{s(()=>({iframeWindow:a}))},preview:{navigate:a=>{var o;const n=(o=t().config)==null?void 0:o.sections[a],i=(n==null?void 0:n.previewRoute)||"/",l=t().iframeWindow;i&&ds(l,{type:"navigate",to:i})},setValues:a=>{const n=t().iframeWindow;ds(n,{type:"setValues",values:a})},setThemeFont:a=>{const n=t().iframeWindow;ds(n,{type:"setThemeFont",value:a})},setThemeValue:(a,n)=>{const i=t().iframeWindow;ds(i,{type:"setThemeValue",name:a,value:n})},setActiveTheme:a=>{const n=t().iframeWindow;ds(n,{type:"setActiveTheme",themeId:a})},setCustomCode:(a,n)=>{const i=t().iframeWindow;ds(i,{type:"setCustomCode",mode:a,value:n})},setHighlight:a=>{s(()=>{var l;let n=null;const i=(l=t().iframeWindow)==null?void 0:l.document;i&&a&&(n=i.querySelector(a)),n&&requestAnimationFrame(()=>{n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})})}}}))));function ds(s,t){s&&s.postMessage({source:"be-appearance-editor",...t},"*")}function R(){return cs.getState()}function $o(){return B({mutationFn:s=>Lo(s),onSuccess:async()=>{await O.invalidateQueries({queryKey:["admin/appearance/values"]}),H(h("Changes saved"))},onError:s=>ie(s)})}function Lo(s){return E.post("admin/appearance",{changes:s}).then(t=>t.data)}function Mo(){return Ue({queryKey:["admin/appearance/values"],queryFn:()=>Do(),staleTime:1/0})}function Do(){return E.get("admin/appearance/values").then(s=>s.data)}function Ro(){const{pathname:s}=It(),{getValues:t}=P(),[a,n]=d.useState(null);return d.useEffect(()=>{var l;const[,,i]=s.split("/").filter(o=>!!o);if(i){const o=(l=R().config)==null?void 0:l.sections[i];if(o){n([{label:h("Appearance"),location:""},...o.buildBreadcrumb(s,t())]);return}}n(null)},[s,t]),!a||a.length<2?null:e.jsxs("div",{className:"flex items-center border-b h-60 flex-shrink-0",children:[e.jsx(C,{iconSize:"md",radius:"rounded-none",className:"text-muted h-full w-50 flex-shrink-0",elementType:J,to:`/admin/appearance/${a[a.length-2].location}`,children:e.jsx(st,{})}),e.jsxs("div",{className:"border-l p-10 min-w-0",children:[e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Customizing"})}),e.jsx("div",{className:"flex items-center gap-4 text-sm mt-2",children:a.map((i,l)=>{const o=a.length-1===l,c=l===0,u=e.jsx(Pr,{value:i.label});return c?null:e.jsxs(d.Fragment,{children:[e.jsx("div",{className:y("whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0",o&&"text-primary",o?"flex-shrink-0":"flex-auto"),children:u}),!o&&e.jsx($s,{className:"icon-sm text-muted flex-shrink-0"})]},l)})})]})]})}function Vo(){const{isAppearanceEditorActive:s}=Er(),{data:t}=Mo(),{base_url:a}=Ce(),n=d.useRef(null),{pathname:i}=It();return d.useEffect(()=>{t!=null&&t.defaults&&!R().defaults&&R().setDefaults(t.defaults)},[t]),d.useEffect(()=>{n.current&&R().setIframeWindow(n.current.contentWindow)},[]),d.useEffect(()=>{const l=i.split("/")[3];R().preview.navigate(l)},[i]),s?e.jsx(Pa,{to:"/admin"}):e.jsxs("div",{className:"h-screen items-center md:flex",children:[e.jsx(Qs,{children:e.jsx(r,{message:"Appearance"})}),e.jsx(qo,{values:t==null?void 0:t.values}),e.jsx("div",{className:"relative h-full flex-auto",children:e.jsx("iframe",{ref:n,className:"h-full w-full max-md:hidden",src:`${a}?appearanceEditor=true`})})]})}function qo({values:s}){const t=e.jsx("div",{className:"flex h-full flex-auto items-center justify-center",children:e.jsx(Xs,{isIndeterminate:!0,"aria-label":"Loading editor"})});return e.jsx("div",{className:"relative z-10 h-full w-full border-r bg shadow-lg @container md:w-320",children:s?e.jsx(Oo,{defaultValues:s}):t})}function Oo({defaultValues:s}){const t=K({defaultValues:s}),{watch:a,reset:n}=t,i=$o();return d.useEffect(()=>{const l=a(o=>{R().preview.setValues(o)});return()=>l.unsubscribe()},[a]),e.jsxs(de,{className:"flex h-full flex-col",form:t,onSubmit:l=>{i.mutate(l,{onSuccess:()=>n(l)})},children:[e.jsx(Bo,{isLoading:i.isPending}),e.jsx(Ro,{}),e.jsx("div",{className:"flex-auto overflow-y-auto px-14 py-20",children:e.jsx(Ts,{children:e.jsx(_t,{})})})]})}function Bo({isLoading:s}){const{formState:{dirtyFields:t}}=P(),a=Object.keys(t).length;return e.jsxs("div",{className:"flex h-50 flex-shrink-0 items-center border-b pr-10",children:[e.jsx(C,{border:"border-r",className:"text-muted",elementType:J,to:"..",children:e.jsx(Ke,{})}),e.jsx("div",{className:"pl-10",children:e.jsx(r,{message:"Appearance editor"})}),e.jsx(f,{variant:"flat",color:"primary",className:"ml-auto block",disabled:!a||s,type:"submit",children:a?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Saved"})})]})}function Ho(){const s=ns(),{trans:t}=V(),{fields:a,append:n}=Ie({name:"settings.menus",keyName:"key"});return e.jsxs(d.Fragment,{children:[e.jsx("div",{children:a.map((i,l)=>e.jsx(ge,{to:`${l}`,elementType:J,children:i.name},i.key))}),e.jsx("div",{className:"text-right",children:e.jsx(f,{variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{const i=At(10);n({name:t(h("New menu :number",{values:{number:a.length+1}})),id:i,positions:[],items:[]}),s(`${a.length}`)},children:e.jsx(r,{message:"Create menu"})})})]})}function Mn({title:s=e.jsx(r,{message:"Add menu item"})}){const{data:t}=_e(["menuItemCategories"]),a=(t==null?void 0:t.menuItemCategories)||[],n=$n();return e.jsxs(te,{size:"sm",children:[e.jsx(re,{children:s}),e.jsx(ne,{children:e.jsxs(Qe,{variant:"outline",children:[e.jsx(ke,{label:e.jsx(r,{message:"Link"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(Uo,{})}),e.jsx(ke,{label:e.jsx(r,{message:"Route"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(ua,{items:n})}),a.map(i=>e.jsx(ke,{label:e.jsx(r,{message:i.name}),children:e.jsx(ua,{items:i.items})},i.name))]})})]})}function Uo(){const s=K({defaultValues:{id:At(6),type:"link",target:"_blank"}}),{close:t}=Y();return e.jsxs(de,{form:s,onSubmit:a=>{t(a)},children:[e.jsx(g,{required:!0,name:"label",label:e.jsx(r,{message:"Label"}),className:"mb-20"}),e.jsx(g,{required:!0,type:"url",name:"action",placeholder:"https://",label:e.jsx(r,{message:"Url"}),className:"mb-20"}),e.jsx("div",{className:"text-right",children:e.jsx(f,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e.jsx(r,{message:"Add to menu"})})})]})}function ua({items:s}){const{close:t}=Y();return e.jsx(Fa,{children:s.map(a=>e.jsx(za,{startIcon:e.jsx(Ne,{size:"sm"}),onSelected:()=>{if(a.label){const n=a.label.split("/").pop();a.label=n?En(n):a.label,a.id=At(6)}t(a)},children:a.label},a.id))})}const Wo=L(e.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorOutlined"),Ko=""+new URL("dropdown-menu-c9b3bd6a.svg",import.meta.url).href;function Go(s,t,a){const n=Us(t,0,s.length-1),i=Us(a,0,s.length-1);if(n===i)return s;const l=s[n],o=i<n?-1:1;for(let c=n;c!==i;c+=o)s[c]=s[c+o];return s[i]=l,s}function Qo(s,t,a){const n=s.slice();return n.splice(a<0?n.length+a:a,0,n.splice(t,1)[0]),n}let S=null;function Jo({item:s,items:t,type:a,ref:n,onSortEnd:i,onSortStart:l,onDragEnd:o,preview:c,disabled:u,onDropPositionChange:m,previewVariant:x="liveSort"}){const j=d.useRef(null);d.useEffect(()=>{S&&S.sortables.length!==t.length&&(S.sortables=[...t],S.activeIndex=t.indexOf(s))},[t,s]);const{draggableProps:b,dragHandleRef:w}=Ni({id:s,ref:n,type:a,preview:c,disabled:u,onDragStart:()=>{var v;j.current=null,S={sortables:[...t],activeSortable:s,activeIndex:t.indexOf(s),finalIndex:t.indexOf(s),dropPosition:null,scrollParent:n.current?Tr(n.current):void 0,scrollListener:()=>{_i(Ze)}},x==="liveSort"&&Zo(),l==null||l(),(v=S.scrollParent)==null||v.addEventListener("scroll",S.scrollListener)},onDragEnd:()=>{var v;S&&(x==="liveSort"&&Xo(),S.dropPosition=null,m==null||m(S.dropPosition),S.activeIndex!==S.finalIndex&&(i==null||i(S.activeIndex,S.finalIndex)),(v=S.scrollParent)==null||v.removeEventListener("scroll",S.scrollListener),ma(),o==null||o(),S=null)},getData:()=>{}}),{droppableProps:_}=Ci({id:s,ref:n,types:[a],disabled:u,allowDragEventsFromItself:!0,onDragOver:(v,k)=>{var q;if(!S||x!=="line")return;const z=S.dropPosition;let I=null;const N=(q=Ze.get(s))==null?void 0:q.rect;if(N){const A=N.top+N.height/2;k.clientY<=A?I="before":k.clientY>=A&&(I="after")}if(I!==z){const A=S.sortables.indexOf(s);if(S.dropPosition=I,m==null||m(S.dropPosition),ma(),n.current)if(S.dropPosition==="after")mt(n.current,"bottom");else if(A===0)mt(n.current,"top");else{const X=S.sortables[A-1],Q=Ze.get(X);Q!=null&&Q.ref.current&&mt(Q.ref.current,"bottom")}const T=t.indexOf(s);if(S.activeIndex===T){S.finalIndex=S.activeIndex;return}(A>S.activeIndex?"after":"before")==="after"?S.finalIndex=S.dropPosition==="before"?T-1:T:S.finalIndex=S.dropPosition==="after"?T+1:T}},onDragEnter:()=>{if(!S||x==="line")return;const v=S.sortables.indexOf(s),k=S.sortables.indexOf(S.activeSortable);Go(S.sortables,k,v);const z=S.sortables.map(I=>{var N;return(N=Ze.get(I))==null?void 0:N.rect});S.sortables.forEach((I,N)=>{if(!S)return;const q=Qo(z,v,S.activeIndex),A=z[N],T=q[N],G=Ze.get(I);if(G!=null&&G.ref.current&&T&&A){const X=T.left-A.left,Q=T.top-A.top;G.ref.current.style.transform=`translate3d(${X}px, ${Q}px, 0)`}}),S.finalIndex=v},onDragLeave:()=>{!S||x!=="line"||(S.dropPosition=null,m==null||m(S.dropPosition))}});return{sortableProps:{...ts(b,_)},dragHandleRef:w}}const Yo="transform 0.2s cubic-bezier(0.2, 0, 0, 1)";function Zo(){S&&S.sortables.forEach((s,t)=>{const a=Ze.get(s);a!=null&&a.ref.current&&(a.ref.current.style.transition=Yo,(S==null?void 0:S.activeIndex)===t&&(a.ref.current.style.opacity="0.4"))})}function Xo(){S&&S.sortables.forEach(s=>{const t=Ze.get(s);t!=null&&t.ref.current&&(t.ref.current.style.transform="",t.ref.current.style.transition="",t.ref.current.style.opacity="",t.ref.current.style.zIndex="")})}function ma(){S!=null&&S.linePreviewEl&&(S.linePreviewEl.style.borderBottomColor="",S.linePreviewEl.style.borderTopColor="",S.linePreviewEl=void 0)}function mt(s,t){const a="rgb(var(--be-primary))";t==="top"?s.style.borderTopColor=a:s.style.borderBottomColor=a,S&&(S.linePreviewEl=s)}function ec(){const{menuIndex:s}=ue(),t=ns(),{getValues:a}=P(),n=`settings.menus.${s}`,i=a(n);return d.useEffect(()=>{i?R().preview.setHighlight(`[data-menu-id="${i.id}"]`):t("/admin/appearance/menus")},[t,i]),i?e.jsx(sc,{formPath:n}):null}function sc({formPath:s}){const{site:{has_mobile_app:t}}=Ce(),a=cs(l=>{var o;return(o=l.config)==null?void 0:o.sections.menus.config}),n=d.useMemo(()=>{const l=[...a==null?void 0:a.positions];return t&&l.push("mobile-app-about"),l.map(o=>({key:o,name:o.replaceAll("-"," ")}))},[a,t]),i=Ie({name:`${s}.items`,keyName:"key"});return e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"mb-30 pb-30 border-b",children:[e.jsx(g,{name:`${s}.name`,label:e.jsx(r,{message:"Menu name"}),className:"mb-20",autoFocus:!0}),e.jsx(tt,{chipSize:"sm",name:`${s}.positions`,valueKey:"id",label:e.jsx(r,{message:"Menu positions"}),description:e.jsx(r,{message:"Where should this menu appear on the site"}),children:n.map(l=>e.jsx(p,{value:l.key,capitalizeFirst:!0,children:l.name},l.key))})]}),e.jsx(tc,{fieldArray:i}),e.jsx("div",{className:"text-right",children:e.jsx(ac,{})})]})}function tc({fieldArray:{append:s,fields:t,move:a}}){const n=ns();return e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-16 justify-between flex-shrink-0",children:[e.jsx(r,{message:"Menu items"}),e.jsxs($,{type:"popover",placement:"right",offset:20,onClose:i=>{i&&(s({...i}),n(`items/${t.length}`))},children:[e.jsx(f,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(Ne,{}),children:e.jsx(r,{message:"Add"})}),e.jsx(Mn,{})]})]}),e.jsxs("div",{className:"mt-20 flex-shrink-0",children:[t.map((i,l)=>e.jsx(nc,{item:i,items:t,index:l,onSortEnd:(o,c)=>{a(o,c)}},i.key)),t.length?null:e.jsx(Js,{size:"xs",className:"my-40",image:e.jsx(Ys,{src:Ko}),title:e.jsx(r,{message:"No menu items yet"}),description:e.jsx(r,{message:"Click “add“ button to start adding links, pages, routes and other items to this menu. "})})]})]})}function ac(){const s=ns(),{menuIndex:t}=ue(),{fields:a,remove:n}=Ie({name:"settings.menus",keyName:"key"});if(!t)return null;const i=a[+t];return e.jsxs($,{type:"modal",onClose:l=>{if(l){const o=a.findIndex(c=>c.id===i.id);n(o),s("/admin/appearance/menus")}},children:[e.jsx(f,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(at,{}),children:e.jsx(r,{message:"Delete menu"})}),e.jsx(ze,{isDanger:!0,title:e.jsx(r,{message:"Delete menu"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:i.name}}),confirm:e.jsx(r,{message:"Delete"})})]})}function nc({item:s,items:t,index:a,onSortEnd:n}){const i=d.useRef(null),{sortableProps:l,dragHandleRef:o}=Jo({item:s,items:t,type:"menuEditorSortable",ref:i,onSortEnd:n,previewVariant:"liveSort"}),c=s.icon&&Ia(s.icon),u=e.jsxs("div",{className:"text-muted flex items-center gap-4 text-xs",children:[c&&e.jsx(c,{size:"sm"}),"(",e.jsx(r,{message:"No label..."}),")"]});return e.jsx(d.Fragment,{children:e.jsx(ge,{elementType:J,to:`items/${a}`,ref:i,...l,children:e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx(C,{ref:o,size:"sm",children:e.jsx(Wo,{className:"text-muted hover:cursor-move"})}),e.jsx("div",{children:s.label||u})]})})})}function rc(){const{menuIndex:s,menuItemIndex:t}=ue(),a=pe(),{getValues:n}=P(),i=`settings.menus.${s}.items.${t}`,l=n(i);return d.useEffect(()=>{l&&R().preview.setHighlight(`[data-menu-item-id="${l.id}"]`)},[a,l]),!l||t==null?null:e.jsx(ic,{formPath:i})}function ic({formPath:s}){return e.jsxs(d.Fragment,{children:[e.jsx(ms,{formPathPrefix:s}),e.jsx("div",{className:"text-right mt-40",children:e.jsx(lc,{})})]})}function lc(){const s=pe(),{menuIndex:t,menuItemIndex:a}=ue(),{fields:n,remove:i}=Ie({name:`settings.menus.${+t}.items`});if(!a)return null;const l=n[+a];return e.jsxs($,{type:"modal",onClose:o=>{o&&a&&(i(+a),s(`/admin/appearance/menus/${t}`))},children:[e.jsx(f,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(at,{}),children:e.jsx(r,{message:"Delete this item"})}),e.jsx(ze,{isDanger:!0,title:e.jsx(r,{message:"Delete menu item"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:l.label}}),confirm:e.jsx(r,{message:"Delete"})})]})}function oc(){return e.jsxs(d.Fragment,{children:[e.jsx(Ns,{label:e.jsx(r,{message:"Favicon"}),description:e.jsx(r,{message:"This will generate different size favicons. Image should be at least 512x512 in size."}),type:"favicon"}),e.jsx(Ns,{label:e.jsx(r,{message:"Light logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds."}),type:"logo_light"}),e.jsx(Ns,{label:e.jsx(r,{message:"Dark logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds. Will default to light logo if left empty."}),type:"logo_dark"}),e.jsx(Ns,{label:e.jsx(r,{message:"Mobile light logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty."}),type:"logo_light_mobile"}),e.jsx(Ns,{label:e.jsx(r,{message:"Mobile dark logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds on mobile. Will default to desktop if left empty."}),type:"logo_dark_mobile"}),e.jsx(cc,{}),e.jsx(dc,{})]})}function Ns({label:s,description:t,type:a}){const n=cs(i=>{var l;return(l=i.defaults)==null?void 0:l.settings.branding[a]});return e.jsx(as,{name:`settings.branding.${a}`,className:"border-b pb-30 mb-30",label:s,description:t,diskPrefix:"branding_media",defaultValue:n,onChange:()=>{R().preview.setHighlight('[data-logo="navbar"]')}})}function cc(){return e.jsx(g,{name:"appearance.env.app_name",required:!0,className:"mt-20",label:e.jsx(r,{message:"Site name"})})}function dc(){return e.jsx(g,{name:"settings.branding.site_description",className:"mt-20",inputElementType:"textarea",rows:4,label:e.jsx(r,{message:"Site description"})})}function uc(s=1,t=1e4){const a=new Uint32Array(1);window.crypto.getRandomValues(a);const n=a[0]/(4294967295+1);return s=Math.ceil(s),t=Math.floor(t),Math.floor(n*(t-s+1))+s}function mc(){const{trans:s}=V(),t=ns(),{data:{themes:a}}=Ea(),{fields:n,append:i}=Ie({name:"appearance.themes.all",keyName:"key"});return d.useEffect(()=>{a.selectedThemeId&&R().preview.setActiveTheme(a.selectedThemeId)},[a.selectedThemeId]),e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"mb-20",children:e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{var o;const l=(o=R().defaults)==null?void 0:o.appearance.themes.light;i({id:uc(),name:s(h("New theme")),values:l}),t(`${n.length+1}`)},children:e.jsx(r,{message:"New theme"})})}),n.map((l,o)=>e.jsx(ge,{to:`${o}`,elementType:Pt,children:l.name},l.key))]})}const hc=M.lazy(()=>Es(()=>import("./ace-editor-8f31d5c8.js"),["./ace-editor-8f31d5c8.js","./main-4e2f9053.js","./main-c785ef06.css","./index-81a42bb9.js"],import.meta.url));function Wt({defaultValue:s,mode:t="html",title:a,onSave:n,isSaving:i,footerStartAction:l,beautify:o,editorRef:c}){const[u,m]=d.useState(s),[x,j]=d.useState(!0);return e.jsxs(te,{size:"fullscreen",className:"h-full w-full",children:[e.jsx(re,{children:a}),e.jsx(ne,{className:"relative flex-auto",padding:"p-0",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex h-400 w-full items-center justify-center",children:e.jsx(Xs,{"aria-label":"Loading editor...",isIndeterminate:!0,size:"md"})}),children:e.jsx(hc,{beautify:o,mode:t,onChange:b=>m(b),defaultValue:u||"",onIsValidChange:j,editorRef:c})})}),e.jsx(xc,{disabled:!x||i,value:u,onSave:n,startAction:l})]})}function xc({disabled:s,value:t,onSave:a,startAction:n}){const{close:i}=Y();return e.jsxs(xe,{dividerTop:!0,startAction:n,children:[e.jsx(f,{onClick:()=>i(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{disabled:s,variant:"flat",color:"primary",onClick:()=>{a?a(t):i(t)},children:e.jsx(r,{message:"Save"})})]})}function Dn(s){return Ue({queryKey:["admin","seo-tags",s],queryFn:()=>gc(s)})}function gc(s){return E.get(`admin/appearance/seo-tags/${s}`).then(t=>t.data)}function pc(s){const t=Ta();return B({mutationFn:a=>jc(s,a.tags),onSuccess:async()=>{await t.invalidateQueries({queryKey:["admin","seo-tags",s]}),H(h("Updated SEO tags"))},onError:a=>ie(a)})}function jc(s,t){return E.put(`admin/appearance/seo-tags/${s}`,{tags:t}).then(a=>a.data)}var va;const Rn=((va=Ut.sections["seo-settings"].config)==null?void 0:va.pages)||[],Vn=Rn.map(s=>s.key);function fc(){const{isLoading:s}=Dn(Vn);return s?e.jsx(Ge,{}):e.jsx(d.Fragment,{children:Rn.map(t=>e.jsx(bc,{label:t.label,name:t.key},t.key))})}function bc({label:s,name:t}){const{data:a,isLoading:n}=Dn(Vn);return e.jsxs($,{type:"modal",children:[e.jsx(ge,{disabled:n,children:e.jsx(r,{...s})}),a?e.jsx(vc,{name:t,value:a[t]}):null]})}function vc({name:s,value:t}){const{close:a}=Y(),n=pc(s),i=d.useRef(null),l=e.jsx(f,{variant:"outline",color:"primary",onClick:()=>{i.current&&i.current.editor.setValue(t.original)},children:e.jsx(r,{message:"Reset to original"})});return e.jsx(Wt,{mode:"php_laravel_blade",title:e.jsx(r,{message:"Edit SEO meta tags"}),footerStartAction:l,editorRef:i,defaultValue:t.custom||t.original,isSaving:n.isPending,beautify:!1,onSave:o=>{o!=null&&n.mutate({tags:o},{onSuccess:()=>a()})}})}function yc(){return e.jsxs(d.Fragment,{children:[e.jsx(ha,{mode:"css"}),e.jsx(ha,{mode:"html"})]})}function ha({mode:s}){const{getValues:t}=P(),{setValue:a}=P(),n=s==="html"?e.jsx(r,{message:"Custom HTML & JavaScript"}):e.jsx(r,{message:"Custom CSS"});return e.jsxs($,{type:"modal",onClose:i=>{i!=null&&(a(`appearance.custom_code.${s}`,i,{shouldDirty:!0}),R().preview.setCustomCode(s,i))},children:[e.jsx(ge,{children:n}),e.jsx(Wt,{title:n,defaultValue:t(`appearance.custom_code.${s}`)||"",mode:s})]})}const wc=""+new URL("articles-8bfd9f17.svg",import.meta.url).href,Sc=s=>{const t=s.customPages.types.length>1?[{control:{type:ce.Select,defaultValue:"default",options:s.customPages.types.map(a=>({value:a.type,label:a.label,key:a.type}))},key:"type",label:h("Type"),description:h("Type of the page"),defaultOperator:le.eq}]:[];return[{key:"user_id",label:h("User"),description:h("User page was created by"),defaultOperator:le.eq,control:{type:ce.SelectModel,model:Fi}},...t,bs({description:h("Date page was created")}),vs({description:h("Date page was last updated")})]},kc=[{key:"slug",allowsSorting:!0,width:"flex-2 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Slug"}),body:s=>e.jsx(J,{target:"_blank",to:`/pages/${s.slug}`,className:Et,children:s.slug})},{key:"user_id",allowsSorting:!0,width:"flex-2 min-w-140",header:()=>e.jsx(r,{message:"Owner"}),body:s=>s.user&&e.jsx(ys,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"type",maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsx(C,{size:"md",className:"text-muted",elementType:J,to:`${s.id}/edit`,children:e.jsx(Re,{})})}];function Nc(){const s=d.useContext(rs),t=d.useMemo(()=>Sc(s),[s]);return e.jsx(Je,{endpoint:"custom-pages",title:e.jsx(r,{message:"Custom pages"}),filters:t,columns:kc,queryParams:{with:"user"},actions:e.jsx(Cc,{}),selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:wc,title:e.jsx(r,{message:"No pages have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching pages"})})})}function Cc(){return e.jsx(ls,{elementType:J,to:"new",children:e.jsx(r,{message:"New page"})})}const _c=[{label:h("Drive"),to:"drive"}],Fc=[{label:h("General"),to:"general"},..._c,$r().settings.billing.integrated&&{label:h("Subscriptions"),to:"subscriptions"},{label:h("Localization"),to:"localization"},{label:h("Authentication"),to:"authentication"},{label:h("Uploading"),to:"uploading"},{label:h("Outgoing email"),to:"outgoing-email"},{label:h("Cache"),to:"cache"},{label:h("Analytics"),to:"analytics"},{label:h("Logging"),to:"logging"},{label:h("Queue"),to:"queue"},{label:h("Recaptcha"),to:"recaptcha"},{label:h("GDPR"),to:"gdpr"},{label:h("Menus"),to:"/admin/appearance/menus"},{label:h("Seo"),to:"/admin/appearance/seo-settings"},{label:h("Themes"),to:"/admin/appearance/themes"}].filter(Boolean),qn=Fc;function zc({className:s}){const t=$e();return e.jsxs("div",{className:y(s,"container mx-auto min-h-full items-start gap-30 p-24 md:flex"),children:[e.jsx(Qs,{children:e.jsx(r,{message:"Settings"})}),t?e.jsx(Ic,{}):e.jsx(Ac,{}),e.jsx("div",{className:"relative max-w-500 flex-auto md:px-30",children:e.jsx(_t,{})})]})}function Ic(){const{pathname:s}=It(),t=ns(),a=s.split("/").pop();return e.jsx(As,{minWidth:"min-w-none",className:"mb-24 w-full bg-paper",selectionMode:"single",selectedValue:a,onSelectionChange:n=>{t(n)},children:qn.map(n=>e.jsx(p,{value:n.to,children:e.jsx(r,{...n.label})},n.to))})}function Ac(){return e.jsx("div",{className:"sticky top-24 w-240 flex-shrink-0",children:qn.map(s=>e.jsx(Pt,{to:s.to,className:({isActive:t})=>y("mb-8 block whitespace-nowrap rounded-button p-14 text-sm transition-bg-color",t?"bg-primary/6 font-semibold text-primary":"hover:bg-hover"),children:e.jsx(r,{...s.label})},s.to))})}function Ls(){return Ue({queryKey:["fetchAdminSettings"],queryFn:()=>Pc(),staleTime:1/0})}function Pc(){return E.get("settings").then(s=>s.data)}function Ec(){return E.post("sitemap/generate").then(s=>s.data)}function Tc(){return B({mutationFn:()=>Ec(),onSuccess:()=>{H(h("Sitemap generated"))},onError:s=>ie(s)})}const ht=s=>s instanceof Date,$c=s=>Object.keys(s).length===0,wt=s=>s!=null&&typeof s=="object",xa=(s,...t)=>Object.prototype.hasOwnProperty.call(s,...t),xt=s=>wt(s)&&$c(s),Lc=()=>Object.create(null),St=(s,t)=>{if(s===t)return{};if(!wt(s)||!wt(t))return t;const a=Object.keys(s).reduce((n,i)=>(xa(t,i)||(n[i]=void 0),n),Lc());return ht(s)||ht(t)?s.valueOf()==t.valueOf()?{}:t:Object.keys(t).reduce((n,i)=>{if(!xa(s,i))return n[i]=t[i],n;const l=St(s[i],t[i]);return xt(l)&&!ht(l)&&(xt(s[i])||!xt(t[i]))||(n[i]=l),n},a)};function On(s){const{data:t}=Ls();return B({mutationFn:a=>{var l,o,c,u,m,x,j,b,w;(o=(l=a.client)==null?void 0:l.cookie_notice)!=null&&o.button&&(a.client.cookie_notice.button=JSON.stringify(a.client.cookie_notice.button)),(u=(c=a.client)==null?void 0:c.registration)!=null&&u.policies&&(a.client.registration.policies=JSON.stringify(a.client.registration.policies)),(x=(m=a.client)==null?void 0:m.artistPage)!=null&&x.tabs&&(a.client.artistPage.tabs=JSON.stringify(a.client.artistPage.tabs)),(b=(j=a.client)==null?void 0:j.title_page)!=null&&b.sections&&(a.client.title_page.sections=JSON.stringify(a.client.title_page.sections)),(w=a.client)!=null&&w.incoming_email&&(a.client.incoming_email=JSON.stringify(a.client.incoming_email));const n=a.client?St(t.client,a.client):null,i=a.server?St(t.server,a.server):null;return Mc({client:n,server:i,files:a.files})},onSuccess:()=>{H(h("Settings updated"),{position:"bottom-right"}),O.invalidateQueries({queryKey:["fetchAdminSettings"]})},onError:a=>ve(a,s)})}function Mc({client:s,server:t,files:a}){const n=new FormData;return s&&n.set("client",JSON.stringify(ea.dot(s))),t&&n.set("server",JSON.stringify(ea.dot(t))),Object.entries(a||{}).forEach(([i,l])=>{n.set(i,l)}),E.post("settings",n,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>i.data)}function ye({title:s,description:t,children:a,transformValues:n}){const{data:i}=Ls();return e.jsxs("section",{children:[e.jsxs("div",{className:"mb-40",children:[e.jsx("h2",{className:"mb-4 text-xl",children:s}),e.jsx("div",{className:"text-sm text-muted",children:t})]}),i?e.jsx(Dc,{defaultValues:i,transformValues:n,children:a}):e.jsx(Xs,{isIndeterminate:!0,"aria-label":"Loading settings..."})]})}function Dc({children:s,defaultValues:t,transformValues:a}){const n=K({defaultValues:t}),i=On(n);return e.jsxs(d.Fragment,{children:[e.jsxs(de,{form:n,onBeforeSubmit:()=>{const l=n.formState.errors,o=Object.keys(l).filter(c=>c.endsWith("_group"));n.clearErrors(o)},onSubmit:l=>{l=a?a(l):l,i.mutate(l)},children:[s,e.jsx("div",{className:"mt-40",children:e.jsx(f,{type:"submit",variant:"flat",color:"primary",disabled:i.isPending,children:e.jsx(r,{message:"Update"})})})]}),i.isPending&&e.jsx(ka,{size:"xs",className:"absolute -bottom-14 left-30 w-full",isIndeterminate:!0,"aria-label":"Saving settings..."})]})}function De(){return e.jsx("div",{className:"h-1 bg-divider my-30"})}function rt({link:s,className:t}){const{site:a}=Ce();return a.hide_docs_button?null:e.jsxs("div",{className:y("flex items-center gap-8",t),children:[e.jsx(Mt,{size:"sm"}),e.jsx(et,{href:s,children:e.jsx(r,{message:"Learn more"})})]})}function Rc(){return e.jsxs(ye,{title:e.jsx(r,{message:"General"}),description:e.jsx(r,{message:"Configure site url, homepage, theme and other general settings."}),children:[e.jsx(Vc,{}),e.jsx(De,{}),e.jsx(qc,{}),e.jsx(De,{}),e.jsx(Oc,{}),e.jsx(De,{}),e.jsx(Bc,{})]})}function Vc(){const{data:s}=Ls();if(!s)return null;let t=null;const a=s.server,n=a.newAppUrl&&a.newAppUrl!==a.app_url;return n&&(t=e.jsx("div",{className:"mt-20 text-sm text-danger",children:e.jsx(r,{values:{baseUrl:a.app_url,currentUrl:a.newAppUrl,b:i=>e.jsx("b",{children:i})},message:"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file."})})),e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:!!n,name:"server.app_url",label:e.jsx(r,{message:"Primary site url"}),description:e.jsx(rt,{link:"https://support.vebto.com/help-center/articles/35/primary-site-url"})}),t]})}function qc(){var i,l;const{watch:s}=P(),{homepage:t}=d.useContext(rs),{data:a}=_e(["menuItemCategories"]),n=s("client.homepage.type");return e.jsxs("div",{children:[e.jsxs(W,{name:"client.homepage.type",selectionMode:"single",label:e.jsx(r,{message:"Site home page"}),description:e.jsx(r,{message:"Which page should be used as site homepage."}),children:[t.options.map(o=>e.jsx(p,{value:o.value,children:e.jsx(r,{...o.label})},o.value)),(i=a==null?void 0:a.menuItemCategories)==null?void 0:i.map(o=>e.jsx(p,{value:o.type,children:o.name},o.type))]}),(l=a==null?void 0:a.menuItemCategories)==null?void 0:l.map(o=>n===o.type?e.jsx(W,{className:"mt-24",name:"client.homepage.value",selectionMode:"single",label:e.jsx(r,{message:"Homepage :name",values:{name:o.name}}),children:o.items.map(c=>e.jsx(p,{value:c.model_id,children:c.label},c.label))},o.name):null)]})}function Oc(){const{data:{themes:s}}=Ea();return e.jsxs(d.Fragment,{children:[e.jsxs(W,{className:"mb-20",name:"client.themes.default_id",selectionMode:"single",label:e.jsx(r,{message:"Default site theme"}),description:e.jsx(r,{message:"Which theme to use for users that have not chosen a theme manually."}),children:[e.jsx(p,{value:0,children:e.jsx(r,{message:"System"})}),s.all.map(t=>e.jsx(p,{value:t.id,children:t.name},t.id))]}),e.jsx(D,{name:"client.themes.user_change",description:e.jsx(r,{message:"Allow users to manually change site theme."}),children:e.jsx(r,{message:"Allow theme change"})})]})}function Bc(){const s=Tc(),{base_url:t}=Ce(),a=`${t}/storage/sitemaps/sitemap-index.xml`,n=e.jsx(et,{href:a,children:a});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"outline",size:"xs",color:"primary",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Generate sitemap"})}),e.jsx("div",{className:"mt-14 text-sm text-muted",children:e.jsx(r,{message:"Once generated, sitemap url will be: :url",values:{url:n}})})]})}function Hc(s){return os(s).toString("rgb").replace("rgb(","").replace(")","").replace(/, ?/g," ")}function Uc(s){try{return os(`rgb(${s.split(" ").join(",")})`).toString("hex")}catch{return s}}const Wc=L(e.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined");function Kc(){const{getValues:s,setValue:t}=P(),{themeIndex:a}=ue(),n=s(`appearance.themes.all.${+a}`);return e.jsxs($,{type:"modal",onClose:i=>{i&&s("appearance.themes.all").forEach((l,o)=>{if(l.id===i.id){t(`appearance.themes.all.${o}`,i,{shouldDirty:!0});return}if(i.default_light){t(`appearance.themes.all.${o}`,{...l,default_light:!1},{shouldDirty:!0});return}if(i.default_dark){t(`appearance.themes.all.${o}`,{...l,default_dark:!1},{shouldDirty:!0});return}})},children:[e.jsx(f,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Wc,{}),children:e.jsx(r,{message:"Settings"})}),e.jsx(Gc,{theme:n})]})}function Gc({theme:s}){const t=K({defaultValues:s}),{close:a,formId:n}=Y();return d.useEffect(()=>{const i=t.watch((l,{name:o})=>{o==="default_light"&&l.default_light&&t.setValue("default_dark",!1),o==="default_dark"&&l.default_dark&&t.setValue("default_light",!1)});return()=>i.unsubscribe()},[t]),e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Update settings"})}),e.jsx(ne,{children:e.jsxs(de,{form:t,id:n,onSubmit:i=>{a(i)},children:[e.jsx(g,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",autoFocus:!0}),e.jsx(D,{name:"is_dark",className:"mb-20 pb-20 border-b",description:e.jsx(r,{message:"Whether this theme has light text on dark background."}),children:e.jsx(r,{message:"Dark theme"})}),e.jsx(D,{name:"default_light",className:"mb-30",description:e.jsx(r,{message:"When light mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for light mode"})}),e.jsx(D,{name:"default_dark",description:e.jsx(r,{message:"When dark mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for dark mode"})})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{a()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:n,disabled:!t.formState.isDirty,children:e.jsx(r,{message:"Save"})})]})]})}const Qc=L(e.jsx("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");function Jc(){const s=pe(),{themeIndex:t}=ue(),[a,n]=d.useState(!1),{setValue:i,getValues:l}=P(),{fields:o,remove:c}=Ie({name:"appearance.themes.all"}),u=()=>{if(o.length<=1){H.danger(h("At least one theme is required"));return}t&&(s("/admin/appearance/themes"),c(+t),i("appearance.themes.selectedThemeId",null))};return e.jsxs(d.Fragment,{children:[e.jsxs(js,{onItemSelected:m=>{if(m==="delete")n(!0);else if(m==="reset"){const x=`appearance.themes.all.${+t}`,j=l(`${x}.is_dark`)?R().defaults.appearance.themes.dark:R().defaults.appearance.themes.light;Object.entries(j).forEach(([b,w])=>{R().preview.setThemeValue(b,w)}),R().preview.setThemeFont(null),i(`${x}.values`,j,{shouldDirty:!0}),i(`${x}.font`,void 0,{shouldDirty:!0})}},children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(Ra,{})}),e.jsxs(fs,{children:[e.jsx(p,{value:"reset",startIcon:e.jsx(Qc,{}),children:e.jsx(r,{message:"Reset colors"})}),e.jsx(p,{value:"delete",startIcon:e.jsx(at,{}),children:e.jsx(r,{message:"Delete"})})]})]}),e.jsx($,{type:"modal",isOpen:a,onClose:m=>{m&&u(),n(!1)},children:e.jsx(ze,{isDanger:!0,title:e.jsx(r,{message:"Delete theme"}),body:e.jsx(r,{message:"Are you sure you want to delete this theme?"}),confirm:e.jsx(r,{message:"Delete"})})})]})}const ga=[{label:h("Accent"),value:"primary",bgColor:"bg-primary",previewBgColor:"text-primary"},{label:h("Background"),value:"bg",bgColor:"bg-background",previewBgColor:"text-background"},{label:h("Background alt"),value:"bg-alt",bgColor:"bg-alt",previewBgColor:"text-background-alt"},{label:h("Transparent"),value:"transparent",bgColor:"bg-transparent",previewBgColor:"text-transparent"}];function Yc(){var o;const{themeIndex:s}=ue(),{watch:t,setValue:a}=P(),n=`appearance.themes.all.${s}.values.--be-navbar-color`,i=t(n),l=(o=ga.find(({value:c})=>c===i))==null?void 0:o.previewBgColor;return e.jsxs(js,{placement:"right",selectionMode:"single",selectedValue:i,onSelectionChange:c=>{a(n,c,{shouldDirty:!0})},children:[e.jsx(ge,{startIcon:e.jsx(Rt,{viewBox:"0 0 48 48",className:y("icon-lg",l)}),children:e.jsx(r,{message:"Navbar"})}),e.jsx(fs,{children:ga.map(({label:c,value:u,bgColor:m})=>e.jsx(p,{value:u,startIcon:e.jsx("div",{className:y("h-20 w-20 rounded border",m)}),children:e.jsx(r,{...c})},u))})]})}const Zc=[{label:h("Background"),key:"--be-background"},{label:h("Background alt"),key:"--be-background-alt"},{label:h("Foreground"),key:"--be-foreground-base"},{label:h("Accent light"),key:"--be-primary-light"},{label:h("Accent"),key:"--be-primary"},{label:h("Accent dark"),key:"--be-primary-dark"},{label:h("Text on accent"),key:"--be-on-primary"},{label:h("Chip"),key:"--be-background-chip"}];function Xc(){const s=ns(),{themeIndex:t}=ue(),{getValues:a,watch:n}=P(),i=a(`appearance.themes.all.${+t}`),l=n(`appearance.themes.all.${+t}.font.family`);return d.useEffect(()=>{i||s("/admin/appearance/themes")},[s,i]),d.useEffect(()=>{i!=null&&i.id&&R().preview.setActiveTheme(i.id)},[i==null?void 0:i.id]),i?e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"mb-20 flex items-center justify-between gap-10",children:[e.jsx(Kc,{}),e.jsx(Jc,{})]}),e.jsxs("div",{children:[e.jsx(ge,{elementType:J,to:"font",description:l||e.jsx(r,{message:"System"}),children:e.jsx(r,{message:"Font"})}),e.jsx(ge,{elementType:J,to:"radius",children:e.jsx(r,{message:"Rounding"})}),e.jsx("div",{className:"mb-6 mt-22 text-sm font-semibold",children:e.jsx(r,{message:"Colors"})}),e.jsx(Yc,{}),Zc.map(o=>e.jsx(ed,{colorName:o.key,label:e.jsx(r,{...o.label}),initialThemeValue:i.values[o.key],theme:i},o.key))]})]}):null}function ed({label:s,theme:t,colorName:a,initialThemeValue:n}){const{setValue:i}=P(),{themeIndex:l}=ue(),[o,c]=d.useState(n),u=x=>{c(x),R().preview.setThemeValue(a,x)};d.useEffect(()=>{c(n)},[n]);const m=Uc(n);return e.jsxs($,{currentValue:m,type:"popover",placement:"right",offset:10,onClose:x=>{x&&x!==m?(i(`appearance.themes.all.${+l}.values.${a}`,o,{shouldDirty:!0}),i("appearance.themes.selectedThemeId",t.id)):u(n)},children:[e.jsx(ge,{className:"capitalize",startIcon:e.jsx(Rt,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:`rgb(${o})`}}),children:s}),e.jsx(Ot,{defaultValue:m,onChange:x=>{u(Hc(x))}})]})}function sd(){return e.jsxs(ye,{title:e.jsx(r,{message:"Drive"}),description:e.jsx(r,{message:"Configure defaults for drive user dashboard."}),children:[e.jsxs(Tt,{required:!0,className:"mb-30",size:"md",name:"client.drive.default_view",orientation:"vertical",label:e.jsx(r,{message:"Default view mode"}),description:e.jsx(r,{message:"Which view mode should user drive use by default."}),children:[e.jsx(es,{value:"list",children:e.jsx(r,{message:"List"})}),e.jsx(es,{value:"grid",children:e.jsx(r,{message:"Grid"})})]}),e.jsx(D,{className:"mb-30",name:"client.drive.send_share_notification",description:e.jsx(r,{message:"Send a notification to user when a file or folder is shared with them."}),children:e.jsx(r,{message:"Share notifications"})}),e.jsx(D,{name:"client.share.suggest_emails",description:e.jsx(r,{message:"Suggest email address of existing users when sharing a file or folder."}),children:e.jsx(r,{message:"Suggest emails"})})]})}const td=[{path:"drive",element:e.jsx(sd,{})}];function je({children:s,name:t,separatorBottom:a=!0,separatorTop:n=!0}){const{formState:{errors:i}}=P(),l=d.useRef(null),o=i[t];return d.useEffect(()=>{var c;o&&((c=l.current)==null||c.scrollIntoView({behavior:"smooth"}))},[o]),e.jsxs("div",{className:y(a&&"border-b mb-20 pb-20",n&&"border-t mt-20 pt-20",o&&"border-y-error"),ref:l,children:[s(!!o),o&&e.jsx("div",{className:"text-danger text-sm mt-20",dangerouslySetInnerHTML:{__html:o.message}})]})}function kt({children:s,...t}){const{field:{onChange:a,onBlur:n,value:i=[],ref:l},fieldState:{invalid:o,error:c}}=ps({name:t.name}),u=d.useMemo(()=>{const x=i;return typeof x=="string"?JSON.parse(x):x},[i]),m={onChange:x=>{const j=JSON.stringify(x.map(b=>b.name));a(j)},onBlur:n,value:u,invalid:o,errorMessage:c==null?void 0:c.message};return e.jsx(zi,{ref:l,...ts(m,t)})}const Ms=M.createContext(null);function Bn(s){const{size:t="md",children:a,className:n,isLazy:i,overflow:l="overflow-hidden"}=s,o=d.useRef([]),c=d.useId(),[u,m]=Ps(s.selectedTab,s.defaultSelectedTab||0,s.onTabChange),x=d.useMemo(()=>({selectedTab:u,setSelectedTab:m,tabsRef:o,size:t,isLazy:i,id:c}),[u,c,i,m,t]);return e.jsx(Ms.Provider,{value:x,children:e.jsx("div",{className:y(n,l,"max-w-full"),children:a})})}function ad(){const{tabsRef:s,selectedTab:t}=d.useContext(Ms),[a,n]=d.useState({width:void 0,transform:void 0,className:void 0});return $a(()=>{if(t!=null&&s.current){const i=s.current[t];if(!i)return;n(l=>({width:`${i.offsetWidth}px`,transform:`translateX(${i.offsetLeft}px)`,className:l.width===void 0?"":"transition-all"}))}},[n,t,s]),e.jsx("div",{className:y("absolute bottom-0 left-0 h-2 bg-primary",a.className),role:"presentation",style:{width:a.width,transform:a.transform}})}function Hn({children:s,center:t,expand:a,className:n}){const i=d.Children.toArray(s);return e.jsx(wa,{children:e.jsxs("div",{className:y("flex relative max-w-full overflow-auto border-b max-sm:hidden-scrollbar md:compact-scrollbar",n),role:"tablist","aria-orientation":"horizontal",children:[i.map((l,o)=>d.isValidElement(l)?d.cloneElement(l,{index:o,className:y(l.props.className,a&&"flex-auto",t&&o===0&&"ml-auto",t&&o===i.length-1&&"mr-auto")}):null),e.jsx(ad,{})]})})}function Ws({index:s,className:t,isDisabled:a,children:n,padding:i,elementType:l="button",to:o,relative:c,width:u="min-w-min"}){const{selectedTab:m,setSelectedTab:x,tabsRef:j,size:b="md",id:w}=d.useContext(Ms),_=s===m,v=Sa(),k=i||(b==="sm"?"px-12":"px-18"),z=y("tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer",u,nd({isDisabled:a,isSelected:_}),t,b==="md"&&`${k} h-48`,b==="sm"&&`${k} h-32`,a&&"pointer-events-none"),I=A=>{switch(A.key){case"ArrowLeft":v==null||v.focusPrevious();break;case"ArrowRight":v==null||v.focusNext();break;case"Home":v==null||v.focusFirst();break;case"End":v==null||v.focusLast();break}},N=_?0:-1,q=l;return e.jsx(q,{disabled:a,id:`${w}-${s}-tab`,"aria-controls":`${w}-${s}-tabpanel`,type:"button",role:"tab","aria-selected":_,tabIndex:a?void 0:N,onKeyDown:I,onClick:()=>{x(s)},to:o,relative:c,className:z,ref:A=>{j.current&&A&&(j.current[s]=A)},children:n})}function nd({isDisabled:s,isSelected:t}){return s?"text-disabled cursor-default":t?"text-primary":"text-muted hover:text-main"}function Un({children:s,className:t}){const{selectedTab:a,isLazy:n}=d.useContext(Ms),i=d.Children.toArray(s).filter(o=>!!o);let l;if(n){const o=i[a];l=d.isValidElement(o)?d.cloneElement(i[a],{index:a}):null}else l=i.map((o,c)=>{if(d.isValidElement(o)){const u=c===a;return d.cloneElement(o,{index:c,"aria-hidden":!u,className:u?o.props.className:y(o.props.className,"hidden")})}return null});return e.jsx("div",{className:t,children:l})}function Ks({className:s,children:t,index:a,...n}){const{id:i}=d.useContext(Ms),[l,o]=d.useState(0),c=d.useRef(null);return $a(()=>{if(c!=null&&c.current){const u=()=>{const x=Lr(c.current,{tabbable:!0});o(x.nextNode()?void 0:0)};u();const m=new MutationObserver(u);return m.observe(c.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{m.disconnect()}}},[c]),e.jsx("div",{tabIndex:l,ref:c,id:`${i}-${a}-tabpanel`,"aria-labelledby":`${i}-${a}-tab`,className:y(s,"focus-visible:outline-primary-light"),role:"tabpanel",...n,children:t})}function rd(){const{trans:s}=V();return e.jsx(ye,{title:e.jsx(r,{message:"Subscriptions"}),description:e.jsx(r,{message:"Configure gateway integration, accepted cards, invoices and other related settings."}),children:e.jsxs(Bn,{children:[e.jsxs(Hn,{children:[e.jsx(Ws,{children:e.jsx(r,{message:"General"})}),e.jsx(Ws,{children:e.jsx(r,{message:"Invoices"})})]}),e.jsxs(Un,{className:"pt-30",children:[e.jsxs(Ks,{children:[e.jsx(D,{name:"client.billing.enable",description:e.jsx(r,{message:"Enable or disable all subscription related functionality across the site."}),children:e.jsx(r,{message:"Enable subscriptions"})}),e.jsx(De,{}),e.jsx(id,{}),e.jsx(ld,{}),e.jsx(De,{}),e.jsx(kt,{label:e.jsx(r,{message:"Accepted cards"}),name:"client.billing.accepted_cards",placeholder:s({message:"Add new card..."})})]}),e.jsxs(Ks,{children:[e.jsx(g,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice address"}),name:"client.billing.invoice.address",className:"mb-30"}),e.jsx(g,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice notes"}),description:e.jsx(r,{message:"Default notes to show under `notes` section of user invoice. Optional."}),name:"client.billing.invoice.notes"})]})]})]})})}function id(){const{watch:s}=P(),t=s("client.billing.paypal.enable");return e.jsxs("div",{className:"mb-30",children:[e.jsx(D,{name:"client.billing.paypal.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable PayPal payment gateway integration."}),e.jsx(rt,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/147/configuring-paypal"})]}),children:e.jsx(r,{message:"PayPal gateway"})}),t?e.jsx(je,{name:"paypal_group",children:a=>e.jsxs(d.Fragment,{children:[e.jsx(g,{name:"server.paypal_client_id",label:e.jsx(r,{message:"PayPal Client ID"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(g,{name:"server.paypal_secret",label:e.jsx(r,{message:"PayPal Secret"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(g,{name:"server.paypal_webhook_id",label:e.jsx(r,{message:"PayPal Webhook ID"}),required:!0,invalid:a,className:"mb-20"}),e.jsx(D,{name:"client.billing.paypal_test_mode",invalid:a,description:e.jsx("div",{children:e.jsx(r,{message:"Allows testing PayPal payments with sandbox accounts."})}),children:e.jsx(r,{message:"PayPal test mode"})})]})}):null]})}function ld(){const{watch:s}=P(),t=s("client.billing.stripe.enable");return e.jsxs(d.Fragment,{children:[e.jsx(D,{name:"client.billing.stripe.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable Stripe payment gateway integration."}),e.jsx(rt,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/148/configuring-stripe"})]}),children:e.jsx(r,{message:"Stripe gateway"})}),t?e.jsx(je,{name:"stripe_group",separatorBottom:!1,children:a=>e.jsxs(d.Fragment,{children:[e.jsx(g,{name:"server.stripe_key",label:e.jsx(r,{message:"Stripe publishable key"}),required:!0,className:"mb-20",invalid:a}),e.jsx(g,{name:"server.stripe_secret",label:e.jsx(r,{message:"Stripe secret key"}),required:!0,className:"mb-20",invalid:a}),e.jsx(g,{name:"server.stripe_webhook_secret",label:e.jsx(r,{message:"Stripe webhook signing secret"}),className:"mb-20",invalid:a})]})}):null]})}function od(){const{data:s}=_e(["timezones","localizations"]),t=Ii(),{trans:a}=V();return e.jsxs(ye,{title:e.jsx(r,{message:"Localization"}),description:e.jsx(r,{message:"Configure global date, time and language settings."}),children:[e.jsxs(W,{className:"mb-30",required:!0,name:"client.dates.default_timezone",showSearchField:!0,selectionMode:"single",label:e.jsx(r,{message:"Default timezone"}),searchPlaceholder:a(h("Search timezones")),description:e.jsx(r,{message:"Which timezone should be selected by default for new users and guests."}),children:[e.jsx(p,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries((s==null?void 0:s.timezones)||{}).map(([n,i])=>e.jsx(Aa,{label:n,children:i.map(l=>e.jsx(p,{value:l.value,children:l.text},l.value))},n))]}),e.jsxs(W,{name:"client.locale.default",className:"mb-30",selectionMode:"single",label:e.jsx(r,{message:"Default language"}),description:e.jsx(r,{message:"Which localization should be selected by default for new users and guests."}),children:[e.jsx(p,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),((s==null?void 0:s.localizations)||[]).map(n=>e.jsx(p,{value:n.language,capitalizeFirst:!0,children:n.name},n.language))]}),e.jsxs(Tt,{required:!0,className:"mb-30",size:"sm",name:"client.dates.format",orientation:"vertical",label:e.jsx(r,{message:"Date verbosity"}),description:e.jsx(r,{message:"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale."}),children:[e.jsx(es,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries(Mr).map(([n,i])=>e.jsx(es,{value:n,children:e.jsx(be,{date:t,options:i})},n))]}),e.jsx(D,{name:"client.i18n.enable",description:e.jsx(r,{message:"If disabled, site will always be shown in default language and user will not be able to change their locale."}),children:e.jsx(r,{message:"Enable translations"})})]})}function cd(){return e.jsxs(ye,{title:e.jsx(r,{message:"Authentication"}),description:e.jsx(r,{message:"Configure registration, social login and related 3rd party integrations."}),children:[e.jsx(ud,{}),e.jsx(D,{className:"mb-24",name:"client.registration.disable",description:e.jsx(r,{message:"All registration related functionality (including social login) will be disabled."}),children:e.jsx(r,{message:"Disable registration"})}),e.jsx(D,{className:"mb-24",name:"client.single_device_login",description:e.jsx(r,{message:"Only allow one device to be logged into user account at the same time."}),children:e.jsx(r,{message:"Single device login"})}),e.jsx(D,{name:"client.social.compact_buttons",description:e.jsx(r,{message:"Use compact design for social login buttons."}),children:e.jsx(r,{message:"Compact buttons"})}),e.jsx(md,{}),e.jsx(hd,{}),e.jsx(xd,{}),e.jsx(gd,{}),e.jsx(De,{}),e.jsx(g,{inputElementType:"textarea",rows:3,className:"mt-24",name:"client.auth.domain_blacklist",label:e.jsx(r,{message:"Domain blacklist"}),description:e.jsx(r,{message:"Comma separated list of domains. Users will not be able to register or login using any email adress from specified domains."})})]})}function dd(){const{watch:s}=P();return s("server.mail_setup")?null:e.jsx("p",{className:"mt-10 rounded-panel border p-10 text-sm text-danger",children:e.jsx(r,{message:"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>",values:{a:a=>e.jsx(f,{elementType:J,variant:"outline",size:"xs",display:"flex",className:"mt-10 max-w-max",to:"/admin/settings/outgoing-email",children:a})}})})}function ud(){return e.jsx(D,{className:"mb-30",name:"client.require_email_confirmation",description:e.jsxs(d.Fragment,{children:[e.jsx(r,{message:"Require newly registered users to validate their email address before being able to login."}),e.jsx(dd,{})]}),children:e.jsx(r,{message:"Require email confirmation"})})}function md(){var n;const{watch:s}=P(),t=Ce(),a=s("client.social.envato.enable");return(n=t.envato)!=null&&n.enable?e.jsx(je,{separatorBottom:!1,name:"envato_group",children:i=>e.jsxs(e.Fragment,{children:[e.jsx(D,{invalid:i,name:"client.social.envato.enable",description:e.jsx(r,{message:"Enable logging into the site via envato."}),children:e.jsx(r,{message:"Envato login"})}),!!a&&e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:i,className:"mt-30",name:"server.envato_id",label:e.jsx(r,{message:"Envato ID"}),required:!0}),e.jsx(g,{invalid:i,className:"mt-30",name:"server.envato_secret",label:e.jsx(r,{message:"Envato secret"}),required:!0}),e.jsx(g,{invalid:i,className:"mt-30",name:"server.envato_personal_token",label:e.jsx(r,{message:"Envato personal token"}),required:!0})]})]})}):null}function hd(){const{watch:s}=P(),t=s("client.social.google.enable");return e.jsx(je,{name:"google_group",children:a=>e.jsxs(e.Fragment,{children:[e.jsx(D,{invalid:a,name:"client.social.google.enable",description:e.jsx(r,{message:"Enable logging into the site via google."}),children:e.jsx(r,{message:"Google login"})}),!!t&&e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:a,className:"mt-30",name:"server.google_id",label:e.jsx(r,{message:"Google client ID"}),required:!0}),e.jsx(g,{className:"mt-30",name:"server.google_secret",label:e.jsx(r,{message:"Google client secret"}),required:!0})]})]})})}function xd(){const{watch:s}=P(),t=s("client.social.facebook.enable");return e.jsx(je,{name:"facebook_group",separatorTop:!1,children:a=>e.jsxs(e.Fragment,{children:[e.jsx(D,{invalid:a,name:"client.social.facebook.enable",description:e.jsx(r,{message:"Enable logging into the site via facebook."}),children:e.jsx(r,{message:"Facebook login"})}),!!t&&e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:a,className:"mt-30",name:"server.facebook_id",label:e.jsx(r,{message:"Facebook app ID"}),required:!0}),e.jsx(g,{invalid:a,className:"mt-30",name:"server.facebook_secret",label:e.jsx(r,{message:"Facebook app secret"}),required:!0})]})]})})}function gd(){const{watch:s}=P(),t=s("client.social.twitter.enable");return e.jsx(je,{name:"twitter_group",separatorTop:!1,separatorBottom:!1,children:a=>e.jsxs(e.Fragment,{children:[e.jsx(D,{invalid:a,name:"client.social.twitter.enable",description:e.jsx(r,{message:"Enable logging into the site via twitter."}),children:e.jsx(r,{message:"Twitter login"})}),!!t&&e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:a,className:"mt-30",name:"server.twitter_id",label:e.jsx(r,{message:"Twitter ID"}),required:!0}),e.jsx(g,{invalid:a,className:"mt-30",name:"server.twitter_secret",label:e.jsx(r,{message:"Twitter secret"}),required:!0})]})]})})}function ss({title:s,description:t,actions:a,color:n="primary",className:i}){return e.jsxs("div",{className:y(i,"p-10 rounded",n==="positive"&&"bg-positive/focus border-l-positive border-l-4",n==="warning"&&"bg-warning/focus border-l-warning border-l-4",n==="danger"&&"bg-danger/focus border-l-danger border-l-4",n==="primary"&&"bg-primary/focus border-l-primary border-l-4",n==="neutral"&&"bg-paper border"),children:[s&&e.jsx("div",{className:"text-sm mb-4 font-medium",children:s}),t&&e.jsx("div",{className:"text-sm",children:t}),a&&e.jsx("div",{className:"mt-14",children:a})]})}function pd(){return E.get("uploads/server-max-file-size").then(s=>s.data)}function jd(){return Ue({queryKey:["MaxServerUploadSize"],queryFn:()=>pd()})}const fd=["B","KB","MB","GB","TB","PB"];function pa(s,t){if(s==null)return 0;switch(t){case"KB":return s*1024;case"MB":return s*1024**2;case"GB":return s*1024**3;case"TB":return s*1024**4;case"PB":return s*1024**5;default:return s}}const bd=0x630000000000,_s=M.forwardRef(({name:s,...t},a)=>{const{field:{onChange:n,onBlur:i,value:l="",ref:o},fieldState:{invalid:c,error:u}}=ps({name:s}),[m,x]=d.useState(""),[j,b]=d.useState("MB");d.useEffect(()=>{if(l==null||l===""){x("");return}const{amount:v,unit:k}=vd({bytes:Math.min(l,bd)});b(k||"MB"),x(Number.isNaN(v)?"":v)},[l,j]);const w={onChange:v=>{const k=parseInt(v.target.value);if(Number.isNaN(k))n(k);else{const z=pa(parseInt(v.target.value),j);n(z)}},onBlur:i,value:m,invalid:c,errorMessage:u==null?void 0:u.message,inputRef:o},_=e.jsx(As,{minWidth:"min-w-80",selectionMode:"single",selectedValue:j,disabled:!l,onSelectionChange:v=>{const k=pa(m||0,v);n(k)},children:fd.slice(0,5).map(v=>e.jsx(p,{value:v,children:v==="B"?"Bytes":v},v))});return e.jsx(We,{...ts(w,t),type:"number",ref:a,endAppend:_})}),vd=Dr(({bytes:s})=>{const t=La(s);if(!t)return{amount:"",unit:"MB"};let a=parseInt(t.split(" ")[0]);return a=Math.round(a),{amount:a,unit:t.split(" ")[1]}});function yd(){const{trans:s}=V();return B({mutationFn:()=>wd(),onSuccess:()=>{H(s(h("CORS file updated")))},onError:t=>ie(t)})}function wd(){return E.post("s3/cors/upload").then(s=>s.data)}function Sd(){return B({mutationFn:s=>kd(s),onError:s=>ie(s)})}function kd(s){return E.post("settings/uploading/dropbox-refresh-token",s).then(t=>t.data)}function Nd({isInvalid:s}){const{watch:t,setValue:a}=P(),n=t("server.storage_dropbox_app_key"),i=t("server.storage_dropbox_app_secret");return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_key",label:e.jsx(r,{message:"Dropbox application key"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_secret",label:e.jsx(r,{message:"Dropbox application secret"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-20",name:"server.storage_dropbox_refresh_token",label:e.jsx(r,{message:"Dropbox refresh token"}),required:!0}),e.jsxs($,{type:"modal",onClose:l=>{l&&a("server.storage_dropbox_refresh_token",l)},children:[e.jsx(f,{variant:"outline",color:"primary",size:"xs",disabled:!n||!i,children:e.jsx(r,{message:"Get dropbox refresh token"})}),e.jsx(Cd,{appKey:n,appSecret:i})]})]})}function Cd({appKey:s,appSecret:t}){const a=K(),{formId:n,close:i}=Y(),l=Sd();return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Connected dropbox account"})}),e.jsx(ne,{children:e.jsxs(de,{id:n,form:a,onSubmit:o=>{l.mutate({app_key:s,app_secret:t,access_code:o.accessCode},{onSuccess:c=>{i(c.refreshToken)}})},children:[e.jsxs("div",{className:"mb-20 pb-20 border-b",children:[e.jsx("div",{className:"text-muted text-sm mb-10",children:e.jsx(r,{message:"Click the 'get access code' button to get dropbox access code, then paste it into the field below."})}),e.jsx(f,{variant:"outline",color:"primary",size:"xs",elementType:"a",target:"_blank",href:`https://www.dropbox.com/oauth2/authorize?client_id=${s}&token_access_type=offline&response_type=code`,children:e.jsx(r,{message:"Get access code"})})]}),e.jsx(g,{name:"accessCode",label:e.jsx(r,{message:"Dropbox access code"}),required:!0})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{i()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",form:n,type:"submit",disabled:!s||!t||l.isPending,children:e.jsx(r,{message:"Connect"})})]})]})}function _d(){const{trans:s}=V();return e.jsxs(ye,{title:e.jsx(r,{message:"Uploading"}),description:e.jsx(r,{message:"Configure size and type of files that users are able to upload. This will affect all uploads across the site."}),children:[e.jsx(zd,{}),e.jsx(Id,{}),e.jsx(Ad,{}),e.jsx(je,{name:"static_delivery_group",children:t=>e.jsxs(Tt,{invalid:t,size:"sm",name:"server.static_file_delivery",orientation:"vertical",label:e.jsx(r,{message:"File delivery optimization"}),description:e.jsx(r,{message:"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files."}),children:[e.jsx(es,{value:"",children:e.jsx(r,{message:"None"})}),e.jsx(es,{value:"xsendfile",children:e.jsx(r,{message:"X-Sendfile (Apache)"})}),e.jsx(es,{value:"xaccel",children:e.jsx(r,{message:"X-Accel (Nginx)"})})]})}),e.jsx(_s,{className:"mb-30",name:"client.uploads.chunk_size",min:1,label:e.jsx(r,{message:"Chunk size"}),placeholder:"Infinity",description:e.jsx(r,{message:"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail."})}),e.jsx(Fd,{}),e.jsx(De,{}),e.jsx(_s,{min:1,name:"client.uploads.max_size",className:"mb-30",label:e.jsx(r,{message:"Maximum file size"}),description:e.jsx(r,{message:"Maximum size (in bytes) for a single file user can upload."})}),e.jsx(_s,{min:1,name:"client.uploads.available_space",className:"mb-30",label:e.jsx(r,{message:"Available space"}),description:e.jsx(r,{message:"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user."})}),e.jsx(kt,{name:"client.uploads.allowed_extensions",className:"mb-30",label:e.jsx(r,{message:"Allowed extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types."})}),e.jsx(kt,{name:"client.uploads.blocked_extensions",label:e.jsx(r,{message:"Blocked extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"Prevent uploading of these file types, even if they are allowed above."})})]})}function Fd(){const{data:s}=jd();return e.jsx(ss,{color:"warning",description:e.jsx(r,{message:"Maximum upload size on your server currently is set to <b>:size</b>",values:{size:s==null?void 0:s.maxSize,b:t=>e.jsx("b",{children:t})}})})}function zd(){const{watch:s,clearErrors:t}=P();return s("server.uploads_disk_driver")?e.jsxs(W,{className:"mb-30",selectionMode:"single",name:"server.uploads_disk_driver",label:e.jsx(r,{message:"User Uploads Storage Method"}),description:e.jsx(r,{message:"Where should user private file uploads be stored."}),onSelectionChange:()=>{t()},children:[e.jsx(p,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(p,{value:"ftp",children:"FTP"}),e.jsx(p,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(p,{value:"backblaze_s3",children:"Backblaze"}),e.jsx(p,{value:"s3",children:"Amazon S3 (Or compatible service)"}),e.jsx(p,{value:"dropbox",children:"Dropbox"}),e.jsx(p,{value:"rackspace",children:"Rackspace"})]}):null}function Id(){const{watch:s,clearErrors:t}=P();return s("server.public_disk_driver")?e.jsxs(W,{label:e.jsx(r,{message:"Public Uploads Storage Method"}),selectionMode:"single",name:"server.public_disk_driver",description:e.jsx(r,{message:"Where should user public uploads (like avatars) be stored."}),onSelectionChange:()=>{t()},children:[e.jsx(p,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(p,{value:"s3",children:"Amazon S3"}),e.jsx(p,{value:"ftp",children:"FTP"}),e.jsx(p,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(p,{value:"backblaze_s3",children:"Backblaze"})]}):null}function Ad(){const{watch:s}=P(),t=[s("server.uploads_disk_driver"),s("server.public_disk_driver")];return t[0]==="local"&&t[1]==="local"?null:e.jsx(je,{separatorBottom:!1,name:"storage_group",children:a=>{if(t.includes("s3"))return e.jsx(Pd,{isInvalid:a});if(t.includes("ftp"))return e.jsx($d,{isInvalid:a});if(t.includes("dropbox"))return e.jsx(Nd,{isInvalid:a});if(t.includes("digitalocean_s3"))return e.jsx(Ed,{isInvalid:a});if(t.includes("backblaze_s3"))return e.jsx(Td,{isInvalid:a})}})}function Pd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_s3_key",label:e.jsx(r,{message:"Amazon S3 key"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_s3_secret",label:e.jsx(r,{message:"Amazon S3 secret"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_s3_region",label:e.jsx(r,{message:"Amazon S3 region"}),pattern:"[a-z1-9\\-]+",placeholder:"us-east-1"}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_s3_bucket",label:e.jsx(r,{message:"Amazon S3 bucket"}),required:!0}),e.jsx(g,{invalid:s,name:"server.storage_s3_endpoint",label:e.jsx(r,{message:"Amazon S3 endpoint"}),description:e.jsx(r,{message:"Only change endpoint if you are using another S3 compatible storage service."})}),e.jsx(Kt,{invalid:s})]})}function Ed({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_key",label:e.jsx(r,{message:"DigitalOcean key"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_secret",label:e.jsx(r,{message:"DigitalOcean secret"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_region",label:e.jsx(r,{message:"DigitalOcean region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-east-1",required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_bucket",label:e.jsx(r,{message:"DigitalOcean bucket"}),required:!0}),e.jsx(Kt,{invalid:s})]})}function Td({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_backblaze_key",label:e.jsx(r,{message:"Backblaze KeyID"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_backblaze_secret",label:e.jsx(r,{message:"Backblaze applicationKey"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_backblaze_region",label:e.jsx(r,{message:"Backblaze Region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-west-002",required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_backblaze_bucket",label:e.jsx(r,{message:"Backblaze bucket name"}),required:!0}),e.jsx(Kt,{invalid:s})]})}function Kt({invalid:s}){var i,l;const t=yd(),{data:a}=Ls(),n=((i=a==null?void 0:a.server.uploads_disk_driver)==null?void 0:i.endsWith("s3"))||((l=a==null?void 0:a.server.public_disk_driver)==null?void 0:l.endsWith("s3"));return e.jsxs(d.Fragment,{children:[e.jsx(D,{className:"mt-30",invalid:s,name:"client.uploads.s3_direct_upload",description:e.jsxs("div",{children:[e.jsx("p",{children:e.jsx(r,{message:"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads."})}),e.jsx("p",{className:"mt-10",children:e.jsx(r,{message:"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved."})})]}),children:e.jsx(r,{message:"Direct upload"})}),e.jsx(f,{variant:"flat",color:"primary",size:"xs",className:"mt-20",onClick:()=>{t.mutate()},disabled:!n||t.isPending,children:e.jsx(r,{message:"Configure CORS"})})]})}function $d({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_ftp_host",label:e.jsx(r,{message:"FTP hostname"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_ftp_username",label:e.jsx(r,{message:"FTP username"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_ftp_password",label:e.jsx(r,{message:"FTP password"}),type:"password",required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_ftp_root",label:e.jsx(r,{message:"FTP directory"}),placeholder:"/"}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.storage_ftp_port",label:e.jsx(r,{message:"FTP port"}),type:"number",min:0,placeholder:"21"}),e.jsx(D,{invalid:s,name:"server.storage_ftp_passive",className:"mb-30",children:e.jsx(r,{message:"Passive"})}),e.jsx(D,{invalid:s,name:"server.storage_ftp_ssl",children:e.jsx(r,{message:"SSL"})})]})}function Ld({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.mailgun_domain",label:e.jsx(r,{message:"Mailgun domain"}),description:e.jsx(r,{message:"Usually the domain of your site (site.com)"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.mailgun_secret",label:e.jsx(r,{message:"Mailgun API key"}),description:e.jsx(r,{message:"Should start with `key-`"}),required:!0}),e.jsx(g,{invalid:s,name:"server.mailgun_endpoint",label:e.jsx(r,{message:"Mailgun endpoint"}),description:e.jsx(r,{message:"Can be left empty, if your mailgun account is in the US region."}),placeholder:"api.eu.mailgun.net"})]})}function Md({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.mail_host",label:e.jsx(r,{message:"SMTP host"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.mail_username",label:e.jsx(r,{message:"SMTP username"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",type:"password",name:"server.mail_password",label:e.jsx(r,{message:"SMTP password"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",type:"number",name:"server.mail_port",label:e.jsx(r,{message:"SMTP port"})}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.mail_encryption",label:e.jsx(r,{message:"SMTP encryption"})})]})}function Dd({isInvalid:s}){return e.jsxs(d.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.ses_key",label:e.jsx(r,{message:"SES key"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.ses_secret",label:e.jsx(r,{message:"SES secret"}),required:!0}),e.jsx(g,{invalid:s,name:"server.ses_region",label:e.jsx(r,{message:"SES region"}),placeholder:"us-east-1",required:!0})]})}function Rd({isInvalid:s}){return e.jsx(g,{invalid:s,name:"server.postmark_token",label:e.jsx(r,{message:"Postmark token"}),required:!0})}const ja=L([e.jsx("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"},"0"),e.jsx("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"},"1"),e.jsx("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"},"2"),e.jsx("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"},"3"),e.jsx("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"},"4")],"Gmail","0 0 48 48");function Vd(){const{watch:s,setValue:t}=P(),{connectSocial:a}=Rr(),n=s("server.connectedGmailAccount"),i=async()=>{const c=await a("secure/settings/mail/gmail/connect");if((c==null?void 0:c.status)==="SUCCESS"){const u=c.callbackData.profile.email;t("server.connectedGmailAccount",u),H(h("Connected gmail account: :email",{values:{email:u}}))}},l=e.jsx(f,{variant:"outline",color:"primary",startIcon:e.jsx(ja,{}),onClick:()=>{i()},children:e.jsx(r,{message:"Connect gmail account"})}),o=e.jsxs("div",{className:"flex items-center gap-14 rounded border bg-alt px-14 py-6 text-sm",children:[e.jsx(ja,{size:"lg"}),n,e.jsx(f,{variant:"text",color:"primary",className:"ml-auto",onClick:()=>{i()},children:e.jsx(r,{message:"Reconnect"})})]});return e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"mb-6 text-sm",children:e.jsx(r,{message:"Gmail account"})}),n?o:l]})}function qd(){const{watch:s,clearErrors:t}=P(),a=s("server.mail_driver"),n=[];return a==="mailgun"&&n.push(Ld),a==="smtp"&&n.push(Md),a==="ses"&&n.push(Dd),a==="postmark"&&n.push(Rd),a==="gmailApi"&&n.push(Vd),e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"mail_group",children:i=>e.jsxs(d.Fragment,{children:[e.jsxs(W,{onSelectionChange:()=>{t()},invalid:i,selectionMode:"single",name:"server.mail_driver",label:e.jsx(r,{message:"Outgoing mail method"}),description:e.jsxs("div",{children:[e.jsx(r,{message:"Which method should be used for sending outgoing application emails (like registration confirmation)"}),e.jsx(rt,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails"})]}),children:[e.jsx(p,{value:"mailgun",children:"Mailgun"}),e.jsx(p,{value:"gmailApi",children:"Gmail Api"}),e.jsx(p,{value:"smtp",children:"SMTP"}),e.jsx(p,{value:"postmark",children:"Postmark"}),e.jsx(p,{value:"ses",children:"Ses (Amazon Simple Email Service)"}),e.jsx(p,{value:"sendmail",children:"SendMail"}),e.jsx(p,{value:"log",children:"Log (Email will be saved to error log)"})]}),n.length?e.jsx("div",{className:"mt-30",children:n.map((l,o)=>e.jsx(l,{isInvalid:i},o))}):null]})})}function Od(){return e.jsxs(ye,{title:e.jsx(r,{message:"Outgoing email settings"}),description:e.jsx(r,{message:"Change outgoing email handlers, email credentials and other related settings."}),children:[e.jsx(g,{id:"outgoing-emails",className:"mb-30",type:"email",name:"server.mail_from_address",label:e.jsx(r,{message:"From address"}),description:e.jsx(r,{message:"All outgoing application emails will be sent from this email address."}),required:!0}),e.jsx(Bd,{}),e.jsx(g,{className:"mb-30",name:"server.mail_from_name",label:e.jsx(r,{message:"From name"}),description:e.jsx(r,{message:"All outgoing application emails will be sent using this name."}),required:!0}),e.jsx(ss,{color:"warning",description:e.jsx(r,{message:"Your selected mail method must be authorized to send emails using this address and name."})}),e.jsx(De,{}),e.jsx(qd,{})]})}function Bd(){const{base_url:s}=Ce(),t=`${s}/contact`,a=e.jsx(et,{href:t,children:t});return e.jsx(g,{className:"mb-30",type:"email",name:"client.mail.contact_page_address",label:e.jsx(r,{message:"Contact page address"}),description:e.jsx(r,{values:{contactPageUrl:a},message:"Where emails from :contactPageUrl page should be sent to."})})}function Hd(){return E.post("cache/flush").then(s=>s.data)}function Ud(){return B({mutationFn:()=>Hd(),onSuccess:()=>{H(h("Cache cleared"))},onError:s=>ie(s)})}function Wd(){const s=Ud();return e.jsxs(ye,{title:e.jsx(r,{message:"Cache settings"}),description:e.jsx(r,{message:"Select cache provider and manually clear cache."}),children:[e.jsx(Kd,{}),e.jsx(f,{type:"button",variant:"outline",size:"xs",color:"primary",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Clear cache"})}),e.jsx(ss,{color:"warning",className:"mt-30",description:e.jsx(r,{message:'"File" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'})})]})}function Kd(){const{watch:s,clearErrors:t}=P(),a=s("server.cache_driver");let n=null;return a==="memcached"&&(n=Gd),e.jsx(je,{separatorTop:!1,name:"cache_group",children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(W,{invalid:i,onSelectionChange:()=>{t()},selectionMode:"single",name:"server.cache_driver",label:e.jsx(r,{message:"Cache method"}),description:e.jsx(r,{message:"Which method should be used for storing and retrieving cached items."}),children:[e.jsx(p,{value:"file",children:e.jsx(r,{message:"File (Default)"})}),e.jsx(p,{value:"array",children:e.jsx(r,{message:"None"})}),e.jsx(p,{value:"apc",children:"APC"}),e.jsx(p,{value:"memcached",children:"Memcached"}),e.jsx(p,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:i})})]})})}function Gd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.memcached_host",label:e.jsx(r,{message:"Memcached host"}),required:!0}),e.jsx(g,{invalid:s,type:"number",name:"server.memcached_port",label:e.jsx(r,{message:"Memcached port"}),required:!0})]})}function Qd(){return e.jsxs(ye,{title:e.jsx(r,{message:"Error logging"}),description:e.jsx(r,{message:"Configure site error logging and related 3rd party integrations."}),children:[e.jsx(Jd,{}),e.jsx(ss,{className:"mt-30",color:"positive",description:e.jsx(r,{values:{a:s=>e.jsx(et,{href:"https://sentry.io",children:s})},message:"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production."})})]})}function Jd(){const{clearErrors:s}=P();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"logging_group",children:t=>e.jsx(g,{onChange:()=>{s()},invalid:t,name:"server.sentry_dsn",type:"url",minLength:30,label:e.jsx(r,{message:"Sentry DSN"})})})}function Yd(){return e.jsxs(ye,{title:e.jsx(r,{message:"Queue"}),description:e.jsx(r,{message:"Select active queue method and enter related 3rd party API keys."}),children:[e.jsx(ss,{color:"positive",className:"mb-30",description:e.jsx(r,{message:"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application."})}),e.jsx(ss,{color:"warning",className:"mb-30",description:e.jsx(r,{message:"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information."})}),e.jsx(Zd,{})]})}function Zd(){const{watch:s,clearErrors:t}=P(),a=s("server.queue_driver");let n=null;return a==="sqs"&&(n=Xd),e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"queue_group",children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(W,{invalid:i,onSelectionChange:()=>{t()},selectionMode:"single",name:"server.queue_driver",label:e.jsx(r,{message:"Queue method"}),required:!0,children:[e.jsx(p,{value:"sync",children:e.jsx(r,{message:"Sync (Default)"})}),e.jsx(p,{value:"beanstalkd",children:"Beanstalkd"}),e.jsx(p,{value:"database",children:e.jsx(r,{message:"Database"})}),e.jsx(p,{value:"sqs",children:e.jsx(r,{message:"SQS (Amazon simple queue service)"})}),e.jsx(p,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:i})})]})})}function Xd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(g,{invalid:s,className:"mb-30",name:"server.sqs_queue_key",label:e.jsx(r,{message:"SQS queue key"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.sqs_queue_secret",label:e.jsx(r,{message:"SQS queue secret"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.sqs_queue_prefix",label:e.jsx(r,{message:"SQS queue prefix"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.sqs_queue_name",label:e.jsx(r,{message:"SQS queue name"}),required:!0}),e.jsx(g,{invalid:s,className:"mb-30",name:"server.sqs_queue_region",label:e.jsx(r,{message:"SQS queue region"}),required:!0})]})}function eu(){const{settings:s}=d.useContext(rs);return e.jsxs(ye,{title:e.jsx(r,{message:"Recaptcha"}),description:e.jsx(r,{message:"Configure google recaptcha integration and credentials."}),children:[(s==null?void 0:s.showRecaptchaLinkSwitch)&&e.jsx(D,{className:"mb-30",name:"client.recaptcha.enable.link_creation",description:e.jsx(r,{message:"Enable recaptcha integration when creating links from homepage or user dashboard."}),children:e.jsx(r,{message:"Link creation"})}),e.jsx(D,{className:"mb-30",name:"client.recaptcha.enable.contact",description:e.jsx(r,{message:'Enable recaptcha integration for "contact us" page.'}),children:e.jsx(r,{message:"Contact page"})}),e.jsx(D,{className:"mb-30",name:"client.recaptcha.enable.register",description:e.jsx(r,{message:"Enable recaptcha integration for registration page."}),children:e.jsx(r,{message:"Registration page"})}),e.jsx(su,{})]})}function su(){const{clearErrors:s}=P();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"recaptcha_group",children:t=>e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"client.recaptcha.site_key",label:e.jsx(r,{message:"Recaptcha v3 site key"})}),e.jsx(g,{onChange:()=>{s()},invalid:t,name:"client.recaptcha.secret_key",label:e.jsx(r,{message:"Recaptcha v3 secret key"})})]})})}const tu=M.forwardRef((s,t)=>{const a=_a(t),{fieldProps:n,inputProps:i}=Vr({...s,focusRef:a}),l=Ft(s);return e.jsx(qr,{ref:t,fieldClassNames:l,...n,children:e.jsx("input",{type:"file",ref:a,...i,className:y(l.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})})});function au({name:s,...t}){const{field:{onChange:a,onBlur:n,ref:i},fieldState:{invalid:l,error:o}}=ps({name:s}),[c,u]=M.useState(""),m={onChange:x=>{var j;a((j=x.target.files)==null?void 0:j[0]),u(x.target.value)},onBlur:n,value:c,invalid:l,errorMessage:o==null?void 0:o.message};return e.jsx(tu,{ref:i,...ts(m,t)})}function nu(){return e.jsx(ye,{title:e.jsx(r,{message:"Analytics"}),description:e.jsx(r,{message:"Configure google analytics integration and credentials."}),children:e.jsx(ru,{})})}function ru(){const{clearErrors:s}=P();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"analytics_group",children:t=>e.jsxs(d.Fragment,{children:[e.jsx(au,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"files.certificate",accept:".json",label:e.jsx(r,{message:"Google service account key file (.json)"})}),e.jsx(g,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"server.analytics_property_id",type:"number",label:e.jsx(r,{message:"Google analytics property ID"})}),e.jsx(g,{className:"mb-30",onChange:()=>{s()},invalid:t,name:"client.analytics.tracking_code",placeholder:"G-******",min:"1",max:"20",description:e.jsx(r,{message:"Google analytics measurement ID only, not the whole javascript snippet."}),label:e.jsx(r,{message:"Google tag manager measurement ID"})}),e.jsx(g,{name:"client.analytics.gchart_api_key",label:e.jsx(r,{message:"Google maps javascript API key"}),description:e.jsx(r,{message:"Only required in order to show world geochart on integrated analytics pages."})})]})})}function iu(s){const t=pe();return B({mutationFn:a=>lu(a),onSuccess:(a,n)=>{H(h("User updated")),O.invalidateQueries({queryKey:["users"]}),t("/admin/users")},onError:a=>ve(a,s)})}function lu({id:s,...t}){return t.roles&&(t.roles=t.roles.map(a=>a.id)),E.put(`users/${s}`,t).then(a=>a.data)}function Wn(){const[s,t]=d.useState(!1),a=d.useRef(),n=d.useCallback(i=>{var l;if(i){const o=new IntersectionObserver(([c])=>t(c.intersectionRatio<1),{threshold:[1]});a.current=o,o.observe(i)}else a.current&&((l=a.current)==null||l.disconnect())},[]);return{isSticky:s,sentinelRef:n}}function Ds({onSubmit:s,form:t,title:a,subTitle:n,children:i,actions:l,backButton:o,isLoading:c=!1,disableSaveWhenNotDirty:u=!1,wrapInContainer:m=!0}){const{isSticky:x,sentinelRef:j}=Wn(),b=u?Object.keys(t.formState.dirtyFields).length:!0;return e.jsxs(de,{onSubmit:s,onBeforeSubmit:()=>t.clearErrors(),form:t,children:[e.jsx("div",{ref:j}),e.jsx("div",{className:y("sticky top-0 z-10 my-12 transition-shadow md:my-24",x&&"bg-paper shadow"),children:e.jsxs("div",{className:y("flex items-center gap-24 py-14 md:items-start",m&&"container mx-auto px-24"),children:[o,e.jsxs("div",{className:"overflow-hidden overflow-ellipsis md:mr-64",children:[e.jsx("h1",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl md:text-3xl",children:a}),n&&e.jsx("div",{className:"mt-4",children:n})]}),e.jsx("div",{className:"mr-auto"}),l,e.jsx(f,{variant:"flat",color:"primary",type:"submit",disabled:c||!b,children:e.jsx(r,{message:"Save"})})]})}),e.jsx("div",{className:m?"container mx-auto px-24 pb-24":void 0,children:e.jsx("div",{className:"rounded",children:i})})]})}function Kn({onSubmit:s,form:t,title:a,subTitle:n,isLoading:i,avatarManager:l,resendEmailButton:o,children:c}){const{require_email_confirmation:u}=Ce(),{data:m}=_e(["roles","permissions"]);return e.jsxs(Ds,{onSubmit:s,form:t,title:a,subTitle:n,isLoading:i,children:[e.jsxs("div",{className:"mb-40 flex items-start gap-40 md:gap-80",children:[l,e.jsxs("div",{className:"flex-auto",children:[c,e.jsx(g,{className:"mb-30",name:"first_name",label:e.jsx(r,{message:"First name"})}),e.jsx(g,{name:"last_name",label:e.jsx(r,{message:"Last name"})})]})]}),e.jsxs("div",{className:"mb-30 border-b border-t pb-30 pt-30",children:[e.jsx(D,{className:y(o&&"mb-30"),disabled:!u,name:"email_verified_at",description:e.jsx(r,{message:"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page."}),children:e.jsx(r,{message:"Email confirmed"})}),o]}),e.jsx(_s,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:x=>e.jsx(J,{className:Et,target:"_blank",to:"/admin/settings/uploading",children:x})},message:"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page."})}),e.jsx(tt,{className:"mb-30",name:"roles",label:e.jsx(r,{message:"Roles"}),suggestions:m==null?void 0:m.roles,children:x=>e.jsx(p,{value:x.id,children:x.name},x.id)}),e.jsxs("div",{className:"mt-30 border-t pt-30",children:[e.jsx("div",{className:"mb-10 text-sm",children:e.jsx(r,{message:"Permissions"})}),e.jsx(Bt,{name:"permissions"})]})]})}const ou=L([e.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z"},"0"),e.jsx("circle",{cx:"12",cy:"16",r:"1"},"1"),e.jsx("path",{d:"M11 7h2v7h-2z"},"2")],"ReportOutlined");function cu(){var m,x,j;const s=K(),{require_email_confirmation:t}=Ce(),{userId:a}=ue(),n=iu(s),i=Or(),{data:l,isLoading:o}=Br(a,{with:["subscriptions","roles","permissions","bans"]}),c=(x=(m=l==null?void 0:l.user.bans)==null?void 0:m[0])==null?void 0:x.comment;if(d.useEffect(()=>{l!=null&&l.user&&!s.getValues().id&&s.reset({first_name:l.user.first_name,last_name:l.user.last_name,roles:l.user.roles,permissions:l.user.permissions,id:l.user.id,email_verified_at:!!l.user.email_verified_at,available_space:l.user.available_space,avatar:l.user.avatar})},[l==null?void 0:l.user,s]),o)return e.jsx(Ge,{});const u=e.jsx(f,{size:"xs",variant:"outline",color:"primary",disabled:!t||i.isPending||((j=l==null?void 0:l.user)==null?void 0:j.email_verified_at)!=null,onClick:()=>{i.mutate({email:l.user.email})},children:e.jsx(r,{message:"Resend email"})});return e.jsx(Kn,{onSubmit:b=>{n.mutate(b)},form:s,title:e.jsx(r,{values:{email:l==null?void 0:l.user.email},message:"Edit “:email“"}),subTitle:c&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-danger",children:[e.jsx(ou,{}),e.jsx("div",{children:e.jsx(r,{message:"Suspended: :reason",values:{reason:c}})})]}),isLoading:n.isPending,avatarManager:e.jsx(du,{user:l.user,onChange:()=>{O.invalidateQueries({queryKey:["users"]})}}),resendEmailButton:u,children:e.jsx(g,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"New password"})})})}function du({user:s,onChange:t}){const a=Hr({user:s}),n=Ur({user:s});return e.jsx(Ts,{children:e.jsx(as,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0,onChange:i=>{i?a.mutate({url:i}):n.mutate(),t()}})})}function uu(s){const t=pe();return B({mutationFn:a=>mu(a),onSuccess:()=>{H(h("User created")),O.invalidateQueries({queryKey:ee("users")}),t("/admin/users")},onError:a=>ve(a,s)})}function mu(s){return s.roles&&(s.roles=s.roles.map(t=>t.id)),E.post("users",s).then(t=>t.data)}function hu(){const s=K(),t=uu(s),a=e.jsx(Ts,{children:e.jsx(as,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0})});return e.jsxs(Kn,{onSubmit:n=>{t.mutate(n)},form:s,title:e.jsx(r,{message:"Add new user"}),isLoading:t.isPending,avatarManager:a,children:[e.jsx(g,{className:"mb-30",name:"email",type:"email",label:e.jsx(r,{message:"Email"})}),e.jsx(g,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"Password"})})]})}const xu=L(e.jsx("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"}),"TranslateOutlined"),Gn=s=>{const t=["getLocaleWithLines"];return s!=null&&t.push(s),t};function gu(s){return Ue({queryKey:Gn(s),queryFn:()=>pu(s),staleTime:1/0})}function pu(s){return E.get(`localizations/${s}`).then(t=>t.data)}function ju({id:s,...t}){return E.put(`localizations/${s}`,t).then(a=>a.data)}function Qn(s){return B({mutationFn:t=>ju(t),onSuccess:()=>{H(h("Localization updated")),O.invalidateQueries({queryKey:ee("localizations")}),O.invalidateQueries({queryKey:Gn()})},onError:t=>s?ve(t,s):ie(t)})}function fu({localization:s}){const{trans:t}=V(),{formId:a,close:n}=Y(),i=K({defaultValues:{id:s.id,name:s.name,language:s.language}}),{data:l}=_e(["languages"]),o=(l==null?void 0:l.languages)||[],c=Qn(i);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Update localization"})}),e.jsx(ne,{children:e.jsxs(de,{form:i,id:a,onSubmit:u=>{c.mutate(u,{onSuccess:n})},children:[e.jsx(g,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(W,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:t(h("Search languages")),children:o.map(u=>e.jsx(p,{value:u.code,children:u.name},u.code))})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:n,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:a,disabled:c.isPending,children:e.jsx(r,{message:"Save"})})]})]})}function bu(s){return E.post("localizations",s).then(t=>t.data)}function vu(s){const t=Ta();return B({mutationFn:a=>bu(a),onSuccess:()=>{H(h("Localization created")),t.invalidateQueries({queryKey:ee("localizations")})},onError:a=>ve(a,s)})}function yu(){const{trans:s}=V(),{formId:t,close:a}=Y(),n=K({defaultValues:{language:"en"}}),{data:i}=_e(["languages"]),l=(i==null?void 0:i.languages)||[],o=vu(n);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Create localization"})}),e.jsx(ne,{children:e.jsxs(de,{form:n,id:t,onSubmit:c=>{o.mutate(c,{onSuccess:a})},children:[e.jsx(g,{autoFocus:!0,name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(W,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:s(h("Search languages")),children:l.map(c=>e.jsx(p,{value:c.code,children:c.name},c.code))})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:a,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:t,disabled:o.isPending,children:e.jsx(r,{message:"Save"})})]})]})}const wu=""+new URL("around-the-world-df9b11c5.svg",import.meta.url).href,Su=[{key:"name",allowsSorting:!0,sortingKey:"name",visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"language",allowsSorting:!0,sortingKey:"language",header:()=>e.jsx(r,{message:"Language code"}),body:s=>s.language},{key:"updatedAt",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(J,{to:`${s.id}/translate`,children:e.jsx(Z,{label:e.jsx(r,{message:"Translate"}),children:e.jsx(C,{size:"md",children:e.jsx(xu,{})})})}),e.jsxs($,{type:"modal",children:[e.jsx(Z,{label:e.jsx(r,{message:"Edit"}),children:e.jsx(C,{children:e.jsx(Re,{})})}),e.jsx(fu,{localization:s})]})]})}];function ku(){return e.jsx(Je,{endpoint:"localizations",title:e.jsx(r,{message:"Localizations"}),columns:Su,actions:e.jsx(Nu,{}),selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:wu,title:e.jsx(r,{message:"No localizations have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching localizations"})})})}function Nu(){return e.jsx(d.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(ls,{children:e.jsx(r,{message:"Add new localization"})}),e.jsx(yu,{})]})})}function Cu(){const{formId:s,close:t}=Y(),a=K();return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Add translation"})}),e.jsx(ne,{children:e.jsxs(de,{form:a,id:s,onSubmit:n=>{t(n)},children:[e.jsx(ss,{className:"mb-30",title:e.jsx(r,{message:"Add a new translation, if it does not exist already."}),description:e.jsx(r,{message:"This should only need to be done for things like custom menu items."})}),e.jsx(g,{inputElementType:"textarea",rows:2,autoFocus:!0,name:"key",label:e.jsx(r,{message:"Translation key"}),className:"mb-30",required:!0}),e.jsx(g,{inputElementType:"textarea",rows:2,name:"value",label:e.jsx(r,{message:"Translation value"}),required:!0})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:t,children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",form:s,children:e.jsx(r,{message:"Add"})})]})]})}function _u(){const{localeId:s}=ue(),{data:t,isLoading:a}=gu(s),n=t==null?void 0:t.localization;return a||!n?e.jsx(Ge,{}):e.jsx(Fu,{localization:n})}function Fu({localization:s}){const[t,a]=d.useState(s.lines||{}),n=pe(),i=Qn(),[l,o]=d.useState("");return e.jsxs("form",{className:"p-14 md:p-24 flex flex-col h-full",onSubmit:c=>{c.preventDefault(),i.mutate({id:s.id,lines:t},{onSuccess:()=>{n("/admin/localizations")}})},children:[e.jsx(zu,{localization:s,setLines:a,lines:t,searchQuery:l,setSearchQuery:o,isLoading:i.isPending}),e.jsx(Iu,{lines:t,setLines:a,searchQuery:l})]})}function zu({localization:s,searchQuery:t,setSearchQuery:a,isLoading:n,lines:i,setLines:l}){const o=pe(),c=$e(),{trans:u}=V();return e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs(Ri,{size:"lg",className:"mb-16",children:[e.jsx(sa,{onSelected:()=>{o("/admin/localizations")},children:e.jsx(r,{message:"Localizations"})}),e.jsx(sa,{children:e.jsx(r,{message:":locale translations",values:{locale:s.name}})})]}),e.jsxs("div",{className:"mb-24 flex items-center gap-32 md:gap-12",children:[e.jsx("div",{className:"max-w-440 flex-auto",children:e.jsx(We,{value:t,onChange:m=>a(m.target.value),startAdornment:e.jsx(Gs,{}),placeholder:u({message:"Type to search..."})})}),e.jsxs($,{type:"modal",onClose:m=>{if(m){const x={...i};x[m.key]=m.value,l(x)}},children:[!c&&e.jsx(f,{className:"ml-auto",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),children:e.jsx(r,{message:"Add new"})}),e.jsx(Cu,{})]}),e.jsx(f,{variant:"flat",color:"primary",type:"submit",disabled:n,children:c?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Save translations"})})]})]})}function Iu({searchQuery:s,lines:t,setLines:a}){const n=d.useMemo(()=>Object.entries(t).filter(([o,c])=>{const u=s==null?void 0:s.toLowerCase();return!u||(o==null?void 0:o.toLowerCase().includes(u))||(c==null?void 0:c.toLowerCase().includes(u))}),[t,s]),i=d.useRef(null),l=Ai({count:n.length,getScrollElement:()=>i.current,estimateSize:()=>123});return e.jsx("div",{className:"flex-auto overflow-y-auto",ref:i,children:e.jsx("div",{className:"relative w-full",style:{height:`${l.getTotalSize()}px`},children:l.getVirtualItems().map(o=>{const[c,u]=n[o.index];return e.jsx("div",{className:"w-full absolute top-0 left-0",style:{height:`${o.size}px`,transform:`translateY(${o.start}px)`},children:e.jsxs("div",{className:"rounded border mb-10 md:mr-10",children:[e.jsxs("div",{className:"flex items-center gap-24 justify-between px-10 py-2 border-b",children:[e.jsx("label",{className:"text-xs font-semibold flex-auto",htmlFor:c,children:c}),e.jsx(C,{size:"xs",className:"text-muted",onClick:()=>{const m={...t};delete m[c],a(m)},children:e.jsx(Ke,{})})]}),e.jsx("div",{children:e.jsx("textarea",{id:c,name:c,defaultValue:u,className:"w-full bg-inherit block rounded resize-none outline-none focus-visible:ring-2 p-10 text-sm",rows:2,onChange:m=>{const x={...t};x[c]=m.target.value,a(x)}})})]})},c)})})})}function Au(s){const{close:t}=Y(),{image:a,images:n}=s,[i,l]=Ps(s.activeIndex,s.defaultActiveIndex,s.onActiveIndexChange),o=a||(n==null?void 0:n[i]);return e.jsx(te,{size:"fullscreenTakeover",background:"bg-black/80",children:e.jsxs(ne,{padding:"p-0",className:"h-full w-full",children:[e.jsx(C,{size:"lg",color:"paper",className:"absolute right-0 top-0 z-20 text-white",onClick:()=>{t()},children:e.jsx(Ke,{})}),e.jsxs("div",{className:"relative flex h-full w-full items-center justify-center p-40",children:[n!=null&&n.length?e.jsx(C,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 left-20 top-0 my-auto",disabled:i<1,onClick:()=>{l(i-1)},children:e.jsx(st,{})}):null,e.jsx("img",{src:o,alt:"",className:"max-h-full w-auto object-contain shadow"}),n!=null&&n.length?e.jsx(C,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 right-20 top-0 my-auto",disabled:i+1===(n==null?void 0:n.length),onClick:()=>{l(i+1)},children:e.jsx($s,{})}):null]})]})})}function Pu(){var t;const s=Ls();return e.jsxs("div",{className:"container mx-auto p-12 md:p-24",children:[e.jsx(Qs,{children:e.jsx(r,{message:"Ads"})}),e.jsx("h1",{className:"mb-20 text-2xl font-light md:mb-40 md:text-3xl",children:e.jsx(r,{message:"Predefined Ad slots"})}),s.isLoading?e.jsx(Xs,{isIndeterminate:!0}):e.jsx(Eu,{defaultValues:((t=s.data)==null?void 0:t.client.ads)||{}})]})}function Eu({defaultValues:s}){const{admin:{ads:t}}=d.useContext(rs),a=K({defaultValues:{client:{ads:s}}}),n=On(a);return e.jsxs(de,{form:a,onSubmit:i=>{n.mutate(i)},children:[t.map(i=>e.jsx(Tu,{adConfig:i},i.slot)),e.jsx(D,{name:"client.ads.disable",className:"mb-30",description:e.jsx(r,{message:"Disable all add related functionality across the site."}),children:e.jsx(r,{message:"Disable ads"})}),e.jsx(f,{type:"submit",variant:"flat",color:"primary",disabled:n.isPending,children:e.jsx(r,{message:"Save"})})]})}function Tu({adConfig:s}){return e.jsxs("div",{className:"flex items-center gap-24",children:[e.jsx(g,{className:"mb-30 flex-auto",name:`client.${s.slot}`,inputElementType:"textarea",rows:8,label:e.jsx(r,{...s.description})}),e.jsxs($,{type:"modal",children:[e.jsx("button",{type:"button",className:"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring max-md:hidden",children:e.jsx("img",{src:s.image,className:"h-[186px] w-auto border",alt:"Ad slot example"})}),e.jsx(Au,{image:s.image})]})]})}function $u(){const s=cs(a=>{var n;return(n=a.config)==null?void 0:n.sections}),t=d.useMemo(()=>s?Object.entries(s||[]).map(([a,n])=>({...n,key:a})).sort((a,n)=>((a==null?void 0:a.position)||1)-((n==null?void 0:n.position)||1)):[],[s]);return e.jsx(d.Fragment,{children:t.map(a=>e.jsx(ge,{to:a.key,elementType:Pt,children:e.jsx(r,{...a.label})},a.key))})}const Lu=[{key:"type",label:h("Type"),description:h("Type of the role"),defaultOperator:le.ne,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("Sitewide"),value:"sitewide"},{key:"02",label:h("Workspace"),value:"workspace"}]}},bs({description:h("Date role was created")}),vs({description:h("Date role was last updated")})],Mu=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Role"}),body:s=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(r,{message:s.name})}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.description?e.jsx(r,{message:s.description}):void 0})]})},{key:"type",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,visibleInMode:"all",align:"end",width:"w-42 flex-shrink-0",body:s=>e.jsx(J,{to:`${s.id}/edit`,children:e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(Re,{})})})}];function Du(){return e.jsx(Je,{endpoint:"roles",title:e.jsx(r,{message:"Roles"}),columns:Mu,filters:Lu,actions:e.jsx(Ru,{}),selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:Fs,title:e.jsx(r,{message:"No roles have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching roles"})})})}function Ru(){return e.jsxs(d.Fragment,{children:[e.jsx(Ha,{endpoint:"roles/csv/export"}),e.jsx(ls,{elementType:J,to:"new",children:e.jsx(r,{message:"Add new role"})})]})}const Jn=s=>`roles/${s}`;function Vu(){const{roleId:s}=ue();return Ue({queryKey:[Jn(s)],queryFn:()=>qu(s)})}function qu(s){return E.get(Jn(s)).then(t=>t.data)}const Yn=s=>`roles/${s}`;function Ou(){const{trans:s}=V(),t=pe();return B({mutationFn:a=>Bu(a),onSuccess:a=>{H(s(h("Role updated"))),O.invalidateQueries({queryKey:[Yn(a.role.id)]}),O.invalidateQueries({queryKey:ee("roles")}),t("/admin/roles")},onError:a=>ie(a)})}function Bu({id:s,...t}){return E.put(Yn(s),t).then(a=>a.data)}function Zn({isInternal:s=!1}){const{trans:t}=V(),{workspaces:a}=Ce(),{watch:n}=P(),i=n("type");return e.jsxs(e.Fragment,{children:[e.jsx(g,{label:e.jsx(r,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(g,{label:e.jsx(r,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:t(h("Role description...")),rows:4,className:"mb-20"}),a.integrated&&e.jsxs(W,{label:e.jsx(r,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(r,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:[e.jsx(p,{value:"sitewide",children:e.jsx(r,{message:"Sitewide"})}),e.jsx(p,{value:"workspace",children:e.jsx(r,{message:"Workspace"})})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(D,{name:"default",className:"mb-20",description:e.jsx(r,{message:"Assign this role to new users automatically."}),children:e.jsx(r,{message:"Default"})}),i==="sitewide"&&e.jsx(D,{name:"guests",description:e.jsx(r,{message:"Assign this role to guests (not logged in users)."}),children:e.jsx(r,{message:"Guests"})})]}),e.jsx("h2",{className:"mb-10 mt-30 text-lg",children:e.jsx(r,{message:"Permissions"})}),e.jsx(Bt,{name:"permissions",valueListKey:i==="sitewide"?"permissions":"workspacePermissions"})]})}function Hu({onUserSelected:s}){var m;const{close:t}=Y(),[a,n]=d.useState(""),{trans:i}=V(),l=Pi("normalized-models/user",{query:a,perPage:14}),o=((m=l.data)==null?void 0:m.results)||[],c=e.jsx(Js,{className:"pt-20",size:"sm",title:e.jsx(r,{message:"No matching users"}),description:e.jsx(r,{message:"Try another search query"}),image:e.jsx(Ys,{src:Fs})}),u=x=>{t(),s(x)};return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Select a user"})}),e.jsxs(ne,{children:[e.jsx(We,{autoFocus:!0,className:"mb-20",startAdornment:e.jsx(Gs,{}),placeholder:i(h("Search for user by name or email")),value:a,onChange:x=>{n(x.target.value)}}),!l.isLoading&&!o.length&&c,e.jsx("div",{className:"grid grid-cols-2 gap-x-10",children:o.map(x=>e.jsx(Uu,{user:x,onUserSelected:u},x.id))})]})]})}function Uu({user:s,onUserSelected:t}){return e.jsxs("div",{className:"flex items-center gap-10 rounded p-10 outline-none ring-offset-4 hover:bg-hover focus-visible:ring",role:"button",tabIndex:0,onClick:()=>{t(s)},onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t(s))},children:[e.jsx(Da,{src:s.image}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("div",{className:"overflow-hidden text-ellipsis",children:s.name}),e.jsx("div",{className:"overflow-hidden text-ellipsis text-muted",children:s.description})]})]},s.id)}function Wu(s){return B({mutationFn:({userIds:t})=>Ku({userIds:t,roleId:s.id}),onSuccess:(t,a)=>{H(h("Removed [one 1 user|other :count users] from “{role}“",{values:{count:a.userIds.length,role:s.name}}))},onError:t=>ie(t)})}function Ku({roleId:s,userIds:t}){return E.post(`roles/${s}/remove-users`,{userIds:t}).then(a=>a.data)}function Gu(s){return B({mutationFn:({userIds:t})=>Qu({userIds:t,roleId:s.id}),onSuccess:(t,a)=>{H(h("Assigned [one 1 user|other :count users] to {role}",{values:{count:a.userIds.length,role:s.name}}))},onError:t=>ie(t)})}function Qu({roleId:s,userIds:t}){return E.post(`roles/${s}/add-users`,{userIds:t}).then(a=>a.data)}const Xn={key:"name",allowsSorting:!0,sortingKey:"email",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(ys,{image:s.avatar,label:s.display_name,description:s.email}),width:"col-w-3"},Ju=[Xn,{key:"first_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"last_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Assigned at"}),body:s=>e.jsx(be,{date:s.created_at})}],Yu=[Xn];function Zu({role:s}){const t=$e();return s.guests||s.type==="workspace"?e.jsx("div",{className:"pt-30 pb-10",children:e.jsx(Te,{image:Fs,title:e.jsx(r,{message:"Users can't be assigned to this role"})})}):e.jsx(Ba,{endpoint:"users",columns:t?Yu:Ju,queryParams:{roleId:`${s.id}`},actions:e.jsx(Xu,{role:s}),selectedActions:e.jsx(em,{role:s}),emptyStateMessage:e.jsx(Te,{image:Fs,title:e.jsx(r,{message:"No users have been assigned to this role yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})}function Xu({role:s}){const t=Gu(s);return e.jsxs($,{type:"modal",children:[e.jsx(f,{variant:"flat",color:"primary",disabled:t.isPending,children:e.jsx(r,{message:"Assign user"})}),e.jsx(Hu,{onUserSelected:a=>{t.mutate({userIds:[a.id]},{onSuccess:()=>{O.invalidateQueries({queryKey:ee("users",{roleId:`${s.id}`})})}})}})]})}function em({role:s}){const t=Wu(s),{selectedRows:a}=Dt();return e.jsxs($,{type:"modal",onClose:n=>{n&&t.mutate({userIds:a},{onSuccess:()=>{O.invalidateQueries({queryKey:ee("users",{roleId:`${s.id}`})})}})},children:[e.jsx(f,{variant:"flat",color:"danger",disabled:t.isPending,children:e.jsx(r,{message:"Remove users"})}),e.jsx(ze,{title:e.jsx(r,{message:"Remove [one 1 user|other :count users] from “:name“ role?",values:{count:a.length,name:s.name}}),body:e.jsx(r,{message:"This will permanently remove the users."}),confirm:e.jsx(r,{message:"Remove"}),isDanger:!0})]})}function sm(){const s=Vu();return s.status!=="success"?e.jsx(Ge,{}):e.jsx(tm,{role:s.data.role})}function tm({role:s}){const t=K({defaultValues:s}),a=Ou();return e.jsx(Ds,{form:t,onSubmit:n=>{a.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ role",values:{name:s.name}}),isLoading:a.isPending,children:e.jsxs(Bn,{isLazy:!0,children:[e.jsxs(Hn,{children:[e.jsx(Ws,{children:e.jsx(r,{message:"Settings"})}),e.jsx(Ws,{children:e.jsx(r,{message:"Users"})})]}),e.jsxs(Un,{className:"pt-20",children:[e.jsx(Ks,{children:e.jsx(Zn,{isInternal:s.internal})}),e.jsx(Ks,{children:e.jsx(Zu,{role:s})})]})]})})}const am="roles";function nm(s){const{trans:t}=V();return B({mutationFn:a=>rm(a),onSuccess:()=>{H(t(h("Created new role"))),O.invalidateQueries({queryKey:ee("roles")})},onError:a=>ve(a,s)})}function rm({id:s,...t}){return E.post(am,t).then(a=>a.data)}function im(){const s=K({defaultValues:{type:"sitewide"}}),t=nm(s),a=pe();return e.jsx(Ds,{form:s,onSubmit:n=>{t.mutate(n,{onSuccess:i=>{a(`/admin/roles/${i.role.id}/edit`)}})},title:e.jsx(r,{message:"Add new role"}),isLoading:t.isPending,children:e.jsx(Zn,{})})}const lm=s=>[{key:"type",label:h("Type"),description:h("Type of the tag"),defaultOperator:le.ne,control:{type:ce.Select,defaultValue:s[0].name,options:s.map(t=>({key:t.name,label:h(t.name),value:t.name}))}},bs({description:h("Date tag was created")}),vs({description:h("Date tag was last updated")})],er=""+new URL("software-engineer-ba026106.svg",import.meta.url).href;function sr({form:s,onSubmit:t,formId:a}){const{tags:{types:n}}=d.useContext(rs),i=s.watch("type"),l=!!n.find(o=>o.name===i&&o.system);return e.jsxs(de,{id:a,form:s,onSubmit:t,children:[e.jsx(g,{name:"name",label:e.jsx(r,{message:"Name"}),description:e.jsx(r,{message:"Unique tag identifier."}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(g,{name:"display_name",label:e.jsx(r,{message:"Display name"}),description:e.jsx(r,{message:"User friendly tag name."}),className:"mb-20"}),e.jsx(W,{label:e.jsx(r,{message:"Type"}),name:"type",selectionMode:"single",disabled:l,children:n.filter(o=>!o.system).map(o=>e.jsx(p,{value:o.name,children:e.jsx(r,{message:o.name})},o.name))})]})}var tr={exports:{}};(function(s,t){(function(a,n,i){s.exports=i(),s.exports.default=i()})("slugify",Wr,function(){var a=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),n=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function i(l,o){if(typeof l!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var c=n[o.locale]||{},u=o.replacement===void 0?"-":o.replacement,m=o.trim===void 0?!0:o.trim,x=l.normalize().split("").reduce(function(j,b){var w=c[b];return w===void 0&&(w=a[b]),w===void 0&&(w=b),w===u&&(w=" "),j+w.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(x=x.replace(/[^A-Za-z0-9\s]/g,"")),m&&(x=x.trim()),x=x.replace(/\s+/g,u),o.lower&&(x=x.toLowerCase()),x}return i.extend=function(l){Object.assign(a,l)},i})})(tr);var om=tr.exports;const cm=Kr(om);function Gt(s,t="-",a=!1){if(!s)return s;let n=cm(s,{lower:!0,replacement:t,strict:a,remove:/[*+~.()'"!:@?\|/\\]/g});return n||(n=s.replace(/\s+/g,"-").toLowerCase()),n}function dm(s){const{trans:t}=V();return B({mutationFn:a=>um(a),onSuccess:()=>{H(t(h("Tag created"))),O.invalidateQueries({queryKey:ee("tags")})},onError:a=>ve(a,s)})}function um(s){return s.name=Gt(s.name),E.post("tags",s).then(t=>t.data)}function mm(){const{close:s,formId:t}=Y(),{tags:{types:a}}=d.useContext(rs),n=K({defaultValues:{type:a[0].name}}),i=dm(n);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(ne,{children:e.jsx(sr,{formId:t,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{s()}})}})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:t,disabled:i.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}function hm(s){const{trans:t}=V();return B({mutationFn:a=>xm(a),onSuccess:()=>{H(t(h("Tag updated"))),O.invalidateQueries({queryKey:ee("tags")})},onError:a=>ve(a,s)})}function xm({id:s,...t}){return t.name&&(t.name=Gt(t.name)),E.put(`tags/${s}`,t).then(a=>a.data)}function gm({tag:s}){const{close:t,formId:a}=Y(),n=K({defaultValues:{id:s.id,name:s.name,display_name:s.display_name,type:s.type}}),i=hm(n);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Update “:name“ tag",values:{name:s.name}})}),e.jsx(ne,{children:e.jsx(sr,{formId:a,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{t()}})}})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{t()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:a,disabled:i.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const pm=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"type",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>s.type},{key:"display_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Display name"}),body:s=>s.display_name},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs($,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(Re,{})}),e.jsx(gm,{tag:s})]})}];function jm(){const{tags:s}=d.useContext(rs),t=d.useMemo(()=>lm(s.types),[s.types]);return e.jsx(Je,{endpoint:"tags",title:e.jsx(r,{message:"Tags"}),columns:pm,filters:t,actions:e.jsx(fm,{}),selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:er,title:e.jsx(r,{message:"No tags have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching tags"})})})}function fm(){return e.jsx(e.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(ls,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(mm,{})]})})}const bm=d.memo(({bytes:s})=>e.jsx(d.Fragment,{children:La(s)})),vm=L(e.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined"),ym=""+new URL("upload-cabfc914.svg",import.meta.url).href,wm=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"overflow-x-hidden overflow-ellipsis",children:s.name}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.file_name})]})},{key:"owner_id",allowsSorting:!0,width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Uploader"}),body:s=>{var a;const t=(a=s.users)==null?void 0:a[0];return t?e.jsx(ys,{image:t.avatar,label:t.display_name,description:t.email}):null}},{key:"type",width:"w-100 flex-shrink-0",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(Gr,{type:s.type,className:"w-24 h-24 overflow-hidden"}),e.jsx("div",{className:"capitalize",children:s.type})]})},{key:"public",allowsSorting:!0,width:"w-60 flex-shrink-0",header:()=>e.jsx(r,{message:"Public"}),body:s=>s.public?e.jsx(Na,{className:"icon-md text-positive"}):e.jsx(Ke,{className:"icon-md text-danger"})},{key:"file_size",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"File size"}),body:s=>e.jsx(bm,{bytes:s.file_size})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs($,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(vm,{})}),e.jsx(Ti,{entries:[s]})]})}];function Sm(){return e.jsx(Je,{endpoint:"file-entries",title:e.jsx(r,{message:"Uploaded files and folders"}),columns:wm,filters:Ei,selectedActions:e.jsx(is,{}),emptyStateMessage:e.jsx(Te,{image:ym,title:e.jsx(r,{message:"Nothing has been uploaded yet"}),filteringTitle:e.jsx(r,{message:"No matching files or folders"})})})}const km=[{key:"ends_at",label:h("Status"),description:h("Whether subscription is active or cancelled"),defaultOperator:le.eq,control:{type:ce.Select,defaultValue:"active",options:[{key:"active",label:h("Active"),value:{value:null,operator:le.eq}},{key:"cancelled",label:h("Cancelled"),value:{value:null,operator:le.ne}}]}},{control:{type:ce.Select,defaultValue:"stripe",options:[{key:"stripe",label:h("Stripe"),value:"stripe"},{key:"paypal",label:h("PayPal"),value:"paypal"},{key:"none",label:h("None"),value:"none"}]},key:"gateway_name",label:h("Gateway"),description:h("With which payment provider was subscription created"),defaultOperator:le.eq},$i({key:"renews_at",label:h("Renew date"),description:h("Date subscription will renew")}),bs({description:h("Date subscription was created")}),vs({description:h("Date subscription was last updated")})],Nm=""+new URL("subscriptions-7eacea42.svg",import.meta.url).href;function Cm(s){const{trans:t}=V();return B({mutationFn:a=>_m(a),onSuccess:()=>{H(t(h("Subscription updated"))),O.invalidateQueries({queryKey:ee("billing/subscriptions")})},onError:a=>ve(a,s)})}function _m({id:s,...t}){return E.put(`billing/subscriptions/${s}`,t).then(a=>a.data)}function ar({form:s,onSubmit:t,formId:a}){var o,c;const n=Qr(),i=s.watch("product_id"),l=(o=n.data)==null?void 0:o.products.find(u=>u.id===i);return e.jsxs(de,{id:a,form:s,onSubmit:t,children:[e.jsx(Li,{name:"user_id",className:"mb-20",endpoint:"normalized-models/user",label:e.jsx(r,{message:"User"})}),e.jsx(W,{name:"product_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Plan"}),children:(c=n.data)==null?void 0:c.products.filter(u=>!u.free).map(u=>e.jsx(p,{value:u.id,children:e.jsx(r,{message:u.name})},u.id))}),!(l!=null&&l.free)&&e.jsx(W,{name:"price_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Price"}),children:l==null?void 0:l.prices.map(u=>e.jsx(p,{value:u.id,children:e.jsx($t,{price:u})},u.id))}),e.jsx(g,{inputElementType:"textarea",rows:3,name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20"}),e.jsx(jt,{className:"mb-20",name:"renews_at",granularity:"day",label:e.jsx(r,{message:"Renews at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})}),e.jsx(jt,{className:"mb-20",name:"ends_at",granularity:"day",label:e.jsx(r,{message:"Ends at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})})]})}function Fm({subscription:s}){const{close:t,formId:a}=Y(),n=K({defaultValues:{id:s.id,product_id:s.product_id,price_id:s.price_id,description:s.description,renews_at:s.renews_at,ends_at:s.ends_at,user_id:s.user_id}}),i=Cm(n);return e.jsxs(te,{size:"md",children:[e.jsx(re,{children:e.jsx(r,{message:"Update subscription"})}),e.jsx(ne,{children:e.jsx(ar,{formId:a,form:n,onSubmit:l=>{i.mutate(l,{onSuccess:()=>{t()}})}})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{t()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:a,disabled:i.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const nr="billing/subscriptions";function zm(s){const{trans:t}=V();return B({mutationFn:a=>Im(a),onSuccess:()=>{H(t(h("Subscription created"))),O.invalidateQueries({queryKey:ee(nr)})},onError:a=>ve(a,s)})}function Im(s){return E.post(nr,s).then(t=>t.data)}function Am(){const{close:s,formId:t}=Y(),a=K({}),n=zm(a);return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(ne,{children:e.jsx(ar,{formId:t,form:a,onSubmit:i=>{n.mutate(i,{onSuccess:()=>{s()}})}})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{form:t,disabled:n.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const Pm=L(e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),Em=L(e.jsx("path",{d:"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"}),"PlayArrowOutlined"),it="billing/subscriptions",Tm=[{key:"user_id",allowsSorting:!0,width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Customer"}),body:s=>s.user&&e.jsx(ys,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"status",width:"w-100 flex-shrink-0",header:()=>e.jsx(r,{message:"Status"}),body:s=>s.valid?e.jsx(pt,{size:"xs",color:"positive",radius:"rounded",className:"w-max",children:e.jsx(r,{message:"Active"})}):e.jsx(pt,{size:"xs",radius:"rounded",className:"w-max",children:e.jsx(r,{message:"Cancelled"})})},{key:"product_id",allowsSorting:!0,header:()=>e.jsx(r,{message:"Plan"}),body:s=>{var t;return(t=s.product)==null?void 0:t.name}},{key:"gateway_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Gateway"}),body:s=>e.jsx("span",{className:"capitalize",children:s.gateway_name})},{key:"renews_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Renews at"}),body:s=>e.jsx(be,{date:s.renews_at})},{key:"ends_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Ends at"}),body:s=>e.jsx(be,{date:s.ends_at})},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx(be,{date:s.created_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",visibleInMode:"all",width:"w-128 flex-shrink-0",body:s=>e.jsx(Mm,{subscription:s})}];function $m(){return e.jsx(Je,{endpoint:it,title:e.jsx(r,{message:"Subscriptions"}),columns:Tm,filters:km,actions:e.jsx(Lm,{}),enableSelection:!1,selectedActions:e.jsx(is,{}),queryParams:{with:"product"},emptyStateMessage:e.jsx(Te,{image:Nm,title:e.jsx(r,{message:"No subscriptions have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching subscriptions"})})})}function Lm(){return e.jsx(e.Fragment,{children:e.jsxs($,{type:"modal",children:[e.jsx(ls,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(Am,{})]})})}function Mm({subscription:s}){return e.jsxs(d.Fragment,{children:[e.jsxs($,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(Re,{})}),e.jsx(Fm,{subscription:s})]}),s.cancelled?e.jsx(Rm,{subscription:s}):e.jsx(Dm,{subscription:s}),e.jsx(Vm,{subscription:s})]})}function Dm({subscription:s}){const t=Va(),a=()=>{t.mutate({subscriptionId:s.id},{onSuccess:()=>{O.invalidateQueries({queryKey:ee(it)})}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Z,{label:e.jsx(r,{message:"Cancel subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:t.isPending,children:e.jsx(Pm,{})})}),e.jsx(ze,{title:e.jsx(r,{message:"Cancel subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to cancel this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function Rm({subscription:s}){const t=Vi(),a=()=>{t.mutate({subscriptionId:s.id},{onSuccess:()=>{O.invalidateQueries({queryKey:ee(it)})}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Z,{label:e.jsx(r,{message:"Renew subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",onClick:a,disabled:t.isPending,children:e.jsx(Em,{})})}),e.jsx(ze,{title:e.jsx(r,{message:"Resume subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to resume this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will put user on their original plan and billing cycle."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function Vm({subscription:s}){const t=Va(),a=()=>{t.mutate({subscriptionId:s.id,delete:!0},{onSuccess:()=>{O.invalidateQueries({queryKey:ee(it)})}})};return e.jsxs($,{type:"modal",onClose:n=>{n&&a()},children:[e.jsx(Z,{label:e.jsx(r,{message:"Delete subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:t.isPending,children:e.jsx(Ke,{})})}),e.jsx(ze,{isDanger:!0,title:e.jsx(r,{message:"Delete subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to delete this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}const qm=L(e.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"SyncOutlined");function Om(){const{trans:s}=V();return B({mutationFn:()=>Bm(),onSuccess:()=>{H(s(h("Plans synced")))},onError:t=>ie(t,h("Could not sync plans"))})}function Bm(){return E.post("billing/products/sync").then(s=>s.data)}const Hm=s=>`billing/products/${s}`;function Um(){const{trans:s}=V();return B({mutationFn:t=>Wm(t),onSuccess:()=>{H(s(h("Plan deleted"))),O.invalidateQueries({queryKey:ee("billing/products")})},onError:t=>ie(t)})}function Wm({productId:s}){return E.delete(Hm(s)).then(t=>t.data)}const Km=[{key:"subscriptions",label:h("Subscriptions"),description:h("Whether plan has any active subscriptions"),defaultOperator:le.eq,control:{type:ce.Select,defaultValue:"01",options:[{key:"01",label:h("Has active subscriptions"),value:{value:"*",operator:le.has}},{key:"02",label:h("Does not have active subscriptions"),value:{value:"*",operator:le.doesntHave}}]}},bs({description:h("Date plan was created")}),vs({description:h("Date plan was last updated")})],Gm=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Name"}),body:s=>{const t=s.prices[0];return e.jsx(ys,{label:s.name,description:s.free?e.jsx(r,{message:"Free"}):e.jsx($t,{price:t})})}},{key:"created_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Created"}),body:s=>e.jsx(be,{date:s.created_at})},{key:"updated_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(be,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),visibleInMode:"all",hideHeader:!0,align:"end",maxWidth:"max-w-84",body:s=>e.jsxs(d.Fragment,{children:[e.jsx(C,{size:"md",className:"text-muted",elementType:J,to:`/admin/plans/${s.id}/edit`,children:e.jsx(Re,{})}),e.jsx(Jm,{product:s})]})}];function Qm(){const s=pe();return e.jsx(Je,{endpoint:"billing/products",title:e.jsx(r,{message:"Subscription plans"}),columns:Gm,actions:e.jsx(Ym,{}),enableSelection:!1,filters:Km,onRowAction:t=>{s(`/admin/plans/${t.id}/edit`)},emptyStateMessage:e.jsx(Te,{image:er,title:e.jsx(r,{message:"No plans have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching plans"})})})}function Jm({product:s}){const t=Um();return e.jsxs($,{type:"modal",onClose:a=>{a&&t.mutate({productId:s.id})},children:[e.jsx(Z,{label:e.jsx(r,{message:"Delete plan"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:t.isPending,children:e.jsx(at,{})})}),e.jsx(ze,{title:e.jsx(r,{message:"Delete plan"}),body:e.jsx(r,{message:"Are you sure you want to delete this plan?"}),confirm:e.jsx(r,{message:"Delete"})})]})}function Ym(){const s=Om();return e.jsxs(d.Fragment,{children:[e.jsx(Z,{label:e.jsx(r,{message:"Sync plans with Stripe & PayPal"}),children:e.jsx(C,{color:"primary",variant:"outline",size:"sm",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(qm,{})})}),e.jsx(ls,{elementType:J,to:"/admin/plans/new",children:e.jsx(r,{message:"Add new plan"})})]})}const rr=s=>`billing/products/${s}`;function Zm(){const{productId:s}=ue();return Ue({queryKey:[rr(s)],queryFn:()=>Xm(s)})}function Xm(s){return E.get(rr(s)).then(t=>t.data)}const Nt=[{key:"day1",label:h("Daily"),interval:"day",interval_count:1},{key:"week1",label:h("Weekly"),interval:"week",interval_count:1},{key:"month1",label:h("Monthly"),interval:"month",interval_count:1},{key:"month3",label:h("Every 3 months"),interval:"month",interval_count:3},{key:"month6",label:h("Every 6 months"),interval:"month",interval_count:6},{key:"year1",label:h("Yearly"),interval:"year",interval_count:1},{key:"custom",label:h("Custom"),interval:null,interval_count:null}];function eh({index:s,onRemovePrice:t}){const{trans:a}=V(),n=_e(["currencies"]),i=d.useMemo(()=>{var w;return(w=n.data)!=null&&w.currencies?Object.values(n.data.currencies):[]},[n.data]),{watch:l,getValues:o}=P(),c=!l("id"),u=l(`prices.${s}.id`)==null,m=l(`prices.${s}.subscriptions_count`)||0,[x,j]=d.useState(()=>{const w=o(`prices.${s}.interval`),_=o(`prices.${s}.interval_count`),v=Nt.find(k=>k.key===`${w}${_}`);return v?v.key:"custom"}),b=c||u||!m;return e.jsxs(d.Fragment,{children:[!b&&e.jsx("p",{className:"text-muted text-sm max-w-500 mb-20",children:e.jsx(r,{message:"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.",values:{count:m}})}),e.jsx(g,{required:!0,disabled:!b,label:e.jsx(r,{message:"Amount"}),type:"number",min:.1,step:.01,name:`prices.${s}.amount`,className:"mb-20"}),e.jsx(W,{required:!0,disabled:!b,label:e.jsx(r,{message:"Currency"}),name:`prices.${s}.currency`,items:i,showSearchField:!0,searchPlaceholder:a(h("Search currencies")),selectionMode:"single",className:"mb-20",children:w=>e.jsx(p,{value:w.code,children:`${w.code}: ${w.name}`},w.code)}),e.jsx(sh,{disabled:!b,index:s,value:x,onValueChange:j}),x==="custom"&&e.jsx(th,{disabled:!b,index:s}),e.jsx("div",{className:"text-right",children:e.jsx(f,{size:"xs",variant:"outline",color:"danger",disabled:!b,onClick:()=>{t()},children:e.jsx(r,{message:"Delete price"})})})]})}function sh({index:s,value:t,onValueChange:a,disabled:n}){const{setValue:i}=P();return e.jsx(As,{label:e.jsx(r,{message:"Billing period"}),disabled:n,className:"mb-20",selectionMode:"single",selectedValue:t,onSelectionChange:l=>{if(a(l),l!=="custom"){const o=Nt.find(c=>c.key===l);o&&(i(`prices.${s}.interval`,o.interval),i(`prices.${s}.interval_count`,o.interval_count))}},children:Nt.map(l=>e.jsx(p,{value:l.key,children:e.jsx(r,{...l.label})},l.key))})}function th({index:s,disabled:t}){const{watch:a}=P(),n=a(`prices.${s}.interval`);let i;return n==="day"?i=365:n==="week"?i=52:i=12,e.jsxs("div",{className:"flex border rounded w-min",children:[e.jsx("div",{className:"px-18 flex items-center text-sm",children:e.jsx(r,{message:"Every"})}),e.jsx(g,{inputShadow:"shadow-none",inputBorder:"border-none",className:"border-l border-r w-80",name:`prices.${s}.interval_count`,type:"number",min:1,max:i,disabled:t,required:!0}),e.jsxs(W,{inputShadow:"shadow-none",inputBorder:"border-none",name:`prices.${s}.interval`,selectionMode:"single",disabled:t,children:[e.jsx(p,{value:"day",children:e.jsx(r,{message:"Days"})}),e.jsx(p,{value:"week",children:e.jsx(r,{message:"Weeks"})}),e.jsx(p,{value:"month",children:e.jsx(r,{message:"Months"})})]})]})}function ir(){return e.jsxs(d.Fragment,{children:[e.jsx(g,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(g,{name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4}),e.jsxs(W,{name:"position",selectionMode:"single",label:e.jsx(r,{message:"Position in pricing table"}),className:"mb-20",children:[e.jsx(p,{value:0,children:e.jsx(r,{message:"First"})}),e.jsx(p,{value:1,children:e.jsx(r,{message:"Second"})}),e.jsx(p,{value:2,children:e.jsx(r,{message:"Third"})}),e.jsx(p,{value:3,children:e.jsx(r,{message:"Fourth"})}),e.jsx(p,{value:4,children:e.jsx(r,{message:"Fifth"})})]}),e.jsx(_s,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:s=>e.jsx(J,{className:Et,target:"_blank",to:"/admin/settings/uploading",children:s})},message:"Total storage space all user uploads are allowed to take up."})}),e.jsx(D,{name:"recommended",className:"mb-20",description:e.jsx(r,{message:"Plan will be displayed more prominently on pricing page."}),children:e.jsx(r,{message:"Recommend"})}),e.jsx(D,{name:"hidden",className:"mb-20",description:e.jsx(r,{message:"Plan will not be shown on pricing or upgrade pages."}),children:e.jsx(r,{message:"Hidden"})}),e.jsx(D,{name:"free",className:"mb-20",description:e.jsx(r,{message:"Will be assigned to all users, if they are not subscribed already."}),children:e.jsx(r,{message:"Free"})}),e.jsx(Ct,{children:e.jsx(r,{message:"Feature list"})}),e.jsx(ah,{}),e.jsx(nh,{}),e.jsx(Ct,{children:e.jsx(r,{message:"Permissions"})}),e.jsx(Bt,{name:"permissions"})]})}function Ct({children:s}){return e.jsx("h2",{className:"mt-40 mb-20 text-base font-semibold",children:s})}function ah(){const{fields:s,append:t,remove:a}=Ie({name:"feature_list"});return e.jsxs("div",{children:[s.map((n,i)=>e.jsxs("div",{className:"flex gap-10 mb-10",children:[e.jsx(g,{name:`feature_list.${i}.value`,size:"sm",className:"flex-auto"}),e.jsx(C,{size:"sm",color:"primary",className:"flex-shrink-0",onClick:()=>{a(i)},children:e.jsx(Ke,{})})]},n.id)),e.jsx(f,{variant:"text",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{t({value:""})},children:e.jsx(r,{message:"Add another line"})})]})}function nh(){var l;const{watch:s,formState:{errors:t}}=P(),{fields:a,append:n,remove:i}=Ie({name:"prices",keyName:"key"});return s("free")?null:e.jsxs(d.Fragment,{children:[e.jsx(Ct,{children:e.jsx(r,{message:"Pricing"})}),((l=t.prices)==null?void 0:l.message)&&e.jsx("div",{className:"text-sm text-danger mb-20",children:t.prices.message}),e.jsx(Qe,{variant:"outline",className:"mb-10",children:a.map((o,c)=>e.jsx(ke,{label:e.jsx($t,{price:o}),children:e.jsx(eh,{index:c,onRemovePrice:()=>{i(c)}})},o.key))}),e.jsx(f,{variant:"text",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{n({currency:"USD",amount:1,interval_count:1,interval:"month"})},children:e.jsx(r,{message:"Add another price"})})]})}const lr=s=>`billing/products/${s}`;function rh(s){const{trans:t}=V(),a=pe();return B({mutationFn:n=>ih(n),onSuccess:n=>{H(t(h("Plan updated"))),O.invalidateQueries({queryKey:[lr(n.product.id)]}),O.invalidateQueries({queryKey:ee("billing/products")}),a("/admin/plans")},onError:n=>ve(n,s)})}function ih({id:s,...t}){const a={...t,feature_list:t.feature_list.map(n=>n.value)};return E.put(lr(s),a).then(n=>n.data)}function lh(){const s=Zm();return s.status!=="success"?e.jsx(Ge,{}):e.jsx(oh,{product:s.data.product})}function oh({product:s}){const t=K({defaultValues:{...s,feature_list:s.feature_list.map(n=>({value:n}))}}),a=rh(t);return e.jsx(Ds,{form:t,onSubmit:n=>{a.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ plan",values:{name:s.name}}),isLoading:a.isPending,children:e.jsx(ir,{})})}const or="billing/products";function ch(s){const{trans:t}=V(),a=pe();return B({mutationFn:n=>dh(n),onSuccess:()=>{H(t(h("Plan created"))),O.invalidateQueries({queryKey:[or]}),O.invalidateQueries({queryKey:ee("billing/products")}),a("/admin/plans")},onError:n=>ve(n,s)})}function dh(s){const t={...s,feature_list:s.feature_list.map(a=>a.value)};return E.post(or,t).then(a=>a.data)}function uh(){const s=K({defaultValues:{free:!1,recommended:!1}}),t=ch(s);return e.jsx(Ds,{form:s,onSubmit:a=>{t.mutate(a)},title:e.jsx(r,{message:"Create new plan"}),isLoading:t.isPending,children:e.jsx(ir,{})})}function mh(){return e.jsxs(ye,{title:e.jsx(r,{message:"GDPR"}),description:e.jsx(r,{message:"Configure settings related to EU General Data Protection Regulation."}),children:[e.jsx(hh,{}),e.jsx(De,{}),e.jsx(xh,{})]})}function hh(){const{watch:s}=P(),t=s("client.cookie_notice.enable");return e.jsxs("div",{children:[e.jsx(D,{name:"client.cookie_notice.enable",className:"mb-20",description:e.jsx(r,{message:"Whether cookie notice should be shown automatically to users from EU until it is accepted."}),children:e.jsx(r,{message:"Enable cookie notice"})}),t&&e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"mb-20 border-b pb-6",children:[e.jsx("div",{className:"mb-20 border-b pb-10 text-sm font-medium",children:e.jsx(r,{message:"Information button"})}),e.jsx(ms,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})]}),e.jsxs(W,{name:"client.cookie_notice.position",selectionMode:"single",label:e.jsx(r,{message:"Cookie notice position"}),className:"mb-20",children:[e.jsx(p,{value:"top",children:e.jsx(r,{message:"Top"})}),e.jsx(p,{value:"bottom",children:e.jsx(r,{message:"Bottom"})})]})]})]})}function xh(){const{fields:s,append:t,remove:a}=Ie({name:"client.registration.policies"});return e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"mb-6 text-sm",children:e.jsx(r,{message:"Registration policies"})}),e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox."})}),e.jsx(Qe,{className:"mt-16",variant:"outline",children:s.map((n,i)=>e.jsx(ke,{label:n.label,chevronPosition:"left",endAppend:e.jsx(C,{variant:"text",color:"danger",size:"sm",onClick:()=>{a(i)},children:e.jsx(Ke,{})}),children:e.jsx(ms,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.register_policies.${i}`})},n.id))}),e.jsxs($,{type:"modal",onClose:n=>{n&&t(n)},children:[e.jsx(f,{className:"mt-12",variant:"link",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",children:e.jsx(r,{message:"Add another policy"})}),e.jsx(Mn,{title:e.jsx(r,{message:"Add policy"})})]})]})}const gh=[];function ph(s){const{pageId:t}=ue(),a=`${s||"custom-pages"}/${t}`;return B({mutationFn:n=>jh(n,a),onError:n=>ie(n),onSuccess:async()=>{await O.invalidateQueries({queryKey:["custom-pages"]}),await O.invalidateQueries({queryKey:ee(a)}),H(h("Page updated"))}})}function jh(s,t){return E.put(`${t}`,s).then(a=>a.data)}function cr(){const[s,t]=d.useState(!1),{trans:a}=V(),i=P().watch("title"),l=a({message:"Title"});return s?e.jsx(g,{placeholder:l,autoFocus:!0,className:"mb-30",onBlur:()=>{t(!1)},name:"title",required:!0}):e.jsxs("h1",{tabIndex:0,onClick:()=>{t(!0)},onFocus:()=>{t(!0)},className:y("hover:bg-primary/focus rounded cursor-pointer",!i&&"text-muted"),children:[i||l,e.jsx(Re,{className:"icon-sm mx-8 mt-8 align-top text-muted"})]})}function fh({host:s,value:t="",placeholder:a,onChange:n,className:i,inputRef:l,onInputBlur:o,showLinkIcon:c=!0,pattern:u,minLength:m,maxLength:x,hideButton:j,...b}){const{base_url:w}=Ce(),_=b.prefix?`/${b.prefix}`:"",v=b.suffix?`/${b.suffix}`:"",[k,z]=d.useState(!1),[I,N]=d.useState(t);s=s||w,d.useEffect(()=>{N(t)},[t]);const q=()=>{k?(z(!1),I&&(n==null||n(I))):z(!0)};let A="";return I?A=I:a&&(A=Gt(a)),e.jsxs("div",{className:y("flex items-center",i),children:[c&&e.jsx(Mt,{className:"icon-md text-muted"}),e.jsxs("div",{className:"text-primary ml-6 mr-14",children:[s,_,!k&&A&&e.jsxs(d.Fragment,{children:[e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium",children:A})]}),k?null:v]}),k&&e.jsx(We,{pattern:u,minLength:m,maxLength:x,onKeyDown:T=>{T.key==="Enter"&&q()},ref:l,"aria-label":"slug",autoFocus:!0,className:"mr-14",size:"2xs",value:I,onBlur:o,onChange:T=>{N(T.target.value)}}),!j&&e.jsx(f,{type:"button",color:"chip",variant:"outline",size:"2xs",onClick:()=>{q()},children:k?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Edit"})})]})}const bh=L(e.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"UndoOutlined"),vh=L(e.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"RedoOutlined");function yh({editor:s}){return e.jsxs("span",{children:[e.jsx(C,{size:"md",disabled:!s.can().undo(),onClick:()=>{s.commands.focus(),s.commands.undo()},children:e.jsx(bh,{})}),e.jsx(C,{size:"md",disabled:!s.can().redo(),onClick:()=>{s.commands.focus(),s.commands.redo()},children:e.jsx(vh,{})})]})}const dr=L(e.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeOutlined");function wh({editor:s}){return e.jsxs($,{type:"modal",onClose:t=>{t!=null&&(s==null||s.commands.setContent(t))},children:[e.jsx(f,{variant:"text",startIcon:e.jsx(dr,{}),children:e.jsx(r,{message:"Source"})}),e.jsx(Wt,{title:e.jsx(r,{message:"Source code"}),defaultValue:s.getHTML()})]})}function hs(){return e.jsx("div",{className:"self-stretch mx-4 w-1 bg-divider flex-shrink-0"})}const Sh=L(e.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBoldOutlined"),kh=L(e.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"}),"FormatItalicOutlined"),Nh=L(e.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlinedOutlined");function Ch({editor:s,size:t}){return e.jsxs("span",{className:y("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(Z,{label:e.jsx(r,{message:"Bold"}),children:e.jsx(C,{size:t,color:s.isActive("bold")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBold()},children:e.jsx(Sh,{})})}),e.jsx(Z,{label:e.jsx(r,{message:"Italic"}),children:e.jsx(C,{size:t,color:s.isActive("italic")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleItalic()},children:e.jsx(kh,{})})}),e.jsx(Z,{label:e.jsx(r,{message:"Underline"}),children:e.jsx(C,{size:t,color:s.isActive("underline")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleUnderline()},children:e.jsx(Nh,{})})})]})}const _h=L(e.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulletedOutlined"),Fh=L(e.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumberedOutlined");function zh({editor:s,size:t}){const a=s.isActive("bulletList"),n=s.isActive("orderedList");return e.jsxs("span",{className:y("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(Z,{label:e.jsx(r,{message:"Bulleted list"}),children:e.jsx(C,{size:t,color:a?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBulletList()},children:e.jsx(_h,{})})}),e.jsx(Z,{label:e.jsx(r,{message:"Numbered list"}),children:e.jsx(C,{size:t,color:n?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleOrderedList()},children:e.jsx(Fh,{})})})]})}function Ih(s,{text:t,target:a,href:n}){s.state.selection.empty&&t?s.commands.insertContent(`<a href="${n}" target="${a}">${t}</a>`):s.state.selection.empty||(n?s.chain().focus().extendMarkRange("link").setLink({href:n,target:a}).run():s.chain().focus().extendMarkRange("link").unsetLink().run())}function Ah({editor:s,size:t}){return e.jsxs($,{type:"modal",children:[e.jsx(Z,{label:e.jsx(r,{message:"Insert link"}),children:e.jsx(C,{size:t,className:y("flex-shrink-0"),children:e.jsx(Mt,{})})}),e.jsx(Ph,{editor:s})]})}function Ph({editor:s}){const t=s.getAttributes("link").href,a=s.state.doc.textBetween(s.state.selection.from,s.state.selection.to,""),n=K({defaultValues:{href:t,text:a,target:"_blank"}}),{formId:i,close:l}=Y();return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ne,{children:e.jsxs(de,{form:n,id:i,onSubmit:o=>{Ih(s,o),l()},children:[e.jsx(g,{name:"href",label:e.jsx(r,{message:"URL"}),autoFocus:!0,type:"url",className:"mb-20"}),e.jsx(g,{name:"text",label:e.jsx(r,{message:"Text to display"}),className:"mb-20"}),e.jsxs(W,{selectionMode:"single",name:"target",label:e.jsx(r,{message:"Open link in..."}),children:[e.jsx(p,{value:"_self",children:e.jsx(r,{message:"Current window"})}),e.jsx(p,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})]})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:l,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{type:"submit",form:i,variant:"flat",color:"primary",children:e.jsx(r,{message:"Save"})})]})]})}const Eh=L(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined"),Th=2097152;function $h({editor:s,size:t,diskPrefix:a="page_media"}){const{selectAndUploadFile:n}=Jr(),i=()=>{n({showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[Yr.image],maxFileSize:Th},metadata:{diskPrefix:a,disk:Zr.public},onSuccess:l=>{s.commands.focus(),s.commands.setImage({src:l.url})}})};return e.jsx(Z,{label:e.jsx(r,{message:"Insert image"}),children:e.jsx(C,{size:t,onClick:i,className:y("flex-shrink-0"),children:e.jsx(Eh,{})})})}const Lh=L(e.jsx("path",{d:"M20 8V5H6.39l3 3h1.83l-.55 1.28 2.09 2.1L14.21 8zM3.41 4.86 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21l1.41-1.41z"}),"FormatClearOutlined");function Mh({editor:s,size:t}){return e.jsx(Z,{label:e.jsx(r,{message:"Clear formatting"}),children:e.jsx(C,{className:y("flex-shrink-0"),size:t,onClick:()=>{s.chain().focus().clearNodes().unsetAllMarks().run()},children:e.jsx(Lh,{})})})}const Dh=L(e.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRuleOutlined"),Rh=L([e.jsx("circle",{cx:"12",cy:"19",r:"2"},"0"),e.jsx("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHighOutlined"),Vh=L(e.jsx("path",{d:"M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z"}),"NoteOutlined"),qh=L([e.jsx("path",{d:"M9.5 7.5v9l7-4.5z"},"0"),e.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14.01H4V5.99h16v12.02z"},"1")],"SmartDisplayOutlined");function Oh({editor:s,size:t}){const[a,n]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(js,{onItemSelected:i=>{i==="hr"?(s.commands.focus(),s.commands.setHorizontalRule()):i==="embed"?n("embed"):(s.commands.focus(),s.commands.addInfo({type:i}))},children:[e.jsx(C,{variant:"text",size:t,className:y("flex-shrink-0"),children:e.jsx(Ra,{})}),e.jsxs(fs,{children:[e.jsx(p,{value:"hr",startIcon:e.jsx(Dh,{}),children:e.jsx(r,{message:"Horizontal rule"})}),e.jsx(p,{value:"embed",startIcon:e.jsx(qh,{}),children:e.jsx(r,{message:"Embed"})}),e.jsx(p,{value:"important",startIcon:e.jsx(Rh,{}),children:e.jsx(r,{message:"Important"})}),e.jsx(p,{value:"warning",startIcon:e.jsx(Xr,{}),children:e.jsx(r,{message:"Warning"})}),e.jsx(p,{value:"success",startIcon:e.jsx(Vh,{}),children:e.jsx(r,{message:"Note"})})]})]}),e.jsx($,{type:"modal",isOpen:!!a,onClose:()=>{n(!1)},children:e.jsx(Bh,{editor:s})})]})}function Bh({editor:s}){const t=s.getAttributes("embed").src,a=K({defaultValues:{src:t}}),{formId:n,close:i}=Y();return e.jsxs(te,{children:[e.jsx(re,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ne,{children:e.jsx(de,{form:a,id:n,onSubmit:l=>{s.commands.setEmbed(l),i()},children:e.jsx(g,{name:"src",label:e.jsx(r,{message:"Embed URL"}),autoFocus:!0,type:"url",required:!0})})}),e.jsxs(xe,{children:[e.jsx(f,{onClick:i,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(f,{type:"submit",form:n,disabled:!a.formState.isValid,variant:"flat",color:"primary",children:e.jsx(r,{message:"Add"})})]})]})}function Ee({children:s,modifier:t,separator:a="+"}){const n=ei()?e.jsx("span",{className:"text-base align-middle",children:"⌘"}):"Ctrl";return e.jsxs("kbd",{className:"text-xs text-muted",children:[t&&e.jsxs(e.Fragment,{children:[n,a]}),s]})}function Hh({editor:s,size:t}){return e.jsxs(js,{floatingMinWidth:"w-256",onItemSelected:a=>{s.commands.focus(),typeof a=="string"&&a.startsWith("h")?s.commands.toggleHeading({level:parseInt(a.replace("h",""))}):a==="code"?s.commands.toggleCode():a==="strike"?s.commands.toggleStrike():a==="super"?s.commands.toggleSuperscript():a==="sub"?s.commands.toggleSubscript():a==="blockquote"?s.commands.toggleBlockquote():a==="paragraph"&&s.commands.setParagraph()},children:[e.jsx(f,{className:y("flex-shrink-0"),variant:"text",size:t,endIcon:e.jsx(si,{}),children:e.jsx(r,{message:"Format"})}),e.jsxs(fs,{children:[e.jsx(p,{value:"h1",endSection:e.jsx(Ee,{modifier:!0,children:"Alt+1"}),children:e.jsx(r,{message:"Heading :number",values:{number:1}})}),e.jsx(p,{value:"h2",endSection:e.jsx(Ee,{modifier:!0,children:"Alt+2"}),children:e.jsx(r,{message:"Heading :number",values:{number:2}})}),e.jsx(p,{value:"h3",endSection:e.jsx(Ee,{modifier:!0,children:"Alt+3"}),children:e.jsx(r,{message:"Heading :number",values:{number:3}})}),e.jsx(p,{value:"h4",endSection:e.jsx(Ee,{modifier:!0,children:"Alt+4"}),children:e.jsx(r,{message:"Heading :number",values:{number:4}})}),e.jsx(p,{value:"code",endSection:e.jsx(Ee,{modifier:!0,children:"E"}),children:e.jsx(r,{message:"Code"})}),e.jsx(p,{value:"strike",endSection:e.jsx(Ee,{modifier:!0,children:"Shift+X"}),children:e.jsx(r,{message:"Strikethrough"})}),e.jsx(p,{value:"super",endSection:e.jsx(Ee,{modifier:!0,separator:" ",children:"."}),children:e.jsx(r,{message:"Superscript"})}),e.jsx(p,{value:"sub",endSection:e.jsx(Ee,{modifier:!0,separator:" ",children:","}),children:e.jsx(r,{message:"Subscript"})}),e.jsx(p,{value:"blockquote",endSection:e.jsx(Ee,{modifier:!0,children:"Shift+B"}),children:e.jsx(r,{message:"Blockquote"})}),e.jsx(p,{value:"paragraph",endSection:e.jsx(Ee,{modifier:!0,children:"Alt+0"}),children:e.jsx(r,{message:"Paragraph"})})]})]})}const Uh=L(e.jsx("path",{d:"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z"}),"FormatColorTextOutlined"),Wh=L(e.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z"}),"FormatColorFillOutlined");function Kh({editor:s,size:t}){const[a,n]=d.useState(!1),i=s.getAttributes("textStyle").color,l=s.getAttributes("textStyle").backgroundColor;return e.jsxs(d.Fragment,{children:[e.jsxs("span",{className:y("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(C,{size:t,color:i?"primary":null,onClick:()=>{n("text")},children:e.jsx(Uh,{})}),e.jsx(C,{size:t,color:l?"primary":null,onClick:()=>{n("bg")},children:e.jsx(Wh,{})})]}),e.jsx($,{currentValue:a==="text"?"#000000":"#FFFFFF",type:"modal",isOpen:!!a,onClose:o=>{o&&(a==="text"?s.commands.setColor(o):s.commands.setBackgroundColor(o)),n(!1)},children:e.jsx(Ot,{defaultValue:a==="text"?"#000000":"#FFFFFF"})})]})}const Gh=L(e.jsx("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),"FormatAlignLeftOutlined"),Qh=L(e.jsx("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenterOutlined"),Jh=L(e.jsx("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),"FormatAlignRightOutlined"),Yh=L(e.jsx("path",{d:"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"}),"FormatAlignJustifyOutlined"),Hs={left:{icon:Gh,label:h("Align left")},center:{icon:Qh,label:h("Align center")},right:{icon:Jh,label:h("Align right")},justify:{icon:Yh,label:h("Justify")}};function Zh({editor:s,size:t}){const a=Object.keys(Hs).find(i=>s.isActive({textAlign:i}))||"left",n=a?Hs[a].icon:Hs.left.icon;return e.jsxs(js,{floatingWidth:"auto",selectionMode:"single",selectedValue:a,onSelectionChange:i=>{s.commands.focus(),s.commands.setTextAlign(i)},children:[e.jsx(C,{size:t,color:a?"primary":null,className:y("flex-shrink-0"),children:e.jsx(n,{})}),e.jsx(fs,{children:Object.entries(Hs).map(([i,l])=>{const o=l.icon;return e.jsx(p,{value:i,startIcon:e.jsx(o,{size:"md"}),capitalizeFirst:!0,children:e.jsx(r,{message:l.label.message})},i)})})]})}const Xh=L(e.jsx("path",{d:"M11 17h10v-2H11v2zm-8-5 4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentDecreaseOutlined"),ex=L(e.jsx("path",{d:"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentIncreaseOutlined");function sx({editor:s,size:t}){return e.jsxs("span",{className:y("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(Z,{label:e.jsx(r,{message:"Decrease indent"}),children:e.jsx(C,{size:t,onClick:()=>{s.commands.focus(),s.commands.outdent()},children:e.jsx(Xh,{})})}),e.jsx(Z,{label:e.jsx(r,{message:"Increase indent"}),children:e.jsx(C,{size:t,onClick:()=>{s.commands.focus(),s.commands.indent()},children:e.jsx(ex,{})})})]})}function tx({editor:s,size:t}){const a=s.getAttributes("codeBlock").language||"";return e.jsxs(js,{selectionMode:"single",selectedValue:a,onSelectionChange:n=>{s.commands.toggleCodeBlock({language:n})},children:[e.jsx(Z,{label:e.jsx(r,{message:"Codeblock"}),children:e.jsx(C,{className:y("flex-shrink-0"),size:t,color:a?"primary":null,children:e.jsx(dr,{})})}),e.jsxs(fs,{children:[e.jsx(p,{value:"html",children:"HTML"}),e.jsx(p,{value:"javascript",children:"JavaScript"}),e.jsx(p,{value:"css",children:"CSS"}),e.jsx(p,{value:"php",children:"PHP"}),e.jsx(p,{value:"shell",children:"Shell"}),e.jsx(p,{value:"bash",children:"Bash"}),e.jsx(p,{value:"ruby",children:"Ruby"}),e.jsx(p,{value:"python",children:"Python"}),e.jsx(p,{value:"java",children:"Java"}),e.jsx(p,{value:"c++",children:"C++"})]})]})}const ax=L(e.jsx("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"}),"UnfoldLessOutlined"),fa="flex items-center px-4 h-42 text-muted border-b overflow-hidden";function nx({editor:s,size:t="md",justify:a="justify-center",hideInsertButton:n=!1}){const i=$e(),[l,o]=d.useState(!1);return e.jsxs("div",{className:y(l?"h-84":"h-42"),children:[e.jsxs("div",{className:y(fa,a,"relative z-20"),children:[e.jsx(Hh,{editor:s,size:t}),e.jsx(hs,{}),e.jsx(Ch,{editor:s,size:t}),e.jsx(hs,{}),e.jsx(Zh,{editor:s,size:t}),e.jsx(sx,{editor:s,size:t}),e.jsx(hs,{}),i?e.jsx(C,{className:"flex-shrink-0",color:l?"primary":null,size:t,onClick:()=>{o(!l)},children:l?e.jsx(ax,{}):e.jsx(Mi,{})}):e.jsx(ba,{editor:s,size:t,hideInsertButton:n})]}),e.jsx(xs,{children:l&&e.jsx(He.div,{className:y(fa,a,"absolute flex h-full w-full"),initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},children:e.jsx(ba,{editor:s,size:t})})})]})}function ba({editor:s,size:t="md",hideInsertButton:a}){return e.jsxs(d.Fragment,{children:[e.jsx(zh,{editor:s,size:t}),e.jsx(hs,{}),e.jsx(Ah,{editor:s,size:t}),e.jsx($h,{editor:s,size:t}),!a&&e.jsx(Oh,{editor:s,size:t}),e.jsx(hs,{}),e.jsx(Kh,{editor:s,size:t}),e.jsx(hs,{}),e.jsx(tx,{editor:s,size:t}),e.jsx(Mh,{editor:s,size:t})]})}function ur({editor:s,allowSlugEditing:t=!0,onSave:a,saveButton:n,isLoading:i=!1,backLink:l,slugPrefix:o="pages"}){const{isSticky:c,sentinelRef:u}=Wn(),m=$e();return e.jsxs(d.Fragment,{children:[e.jsx("div",{ref:u}),e.jsxs("div",{className:y("sticky top-0 z-10 mb-20 bg-paper",c&&"shadow"),children:[e.jsxs("div",{className:"flex items-center justify-between gap-20 border-b px-20 py-10 text-muted sm:justify-start",children:[!m&&e.jsxs(d.Fragment,{children:[e.jsx(f,{variant:"text",size:"sm",elementType:J,to:l,relative:"path",startIcon:e.jsx(Di,{}),children:e.jsx(r,{message:"Back"})}),e.jsx("div",{className:"mr-auto",children:t&&e.jsx(ix,{name:"slug",showLinkIcon:!1,prefix:o})})]}),s&&e.jsx(yh,{editor:s}),!m&&e.jsx(wh,{editor:s}),a&&e.jsx(rx,{onSave:()=>{a(s.getHTML())},isLoading:i}),n]}),e.jsx(nx,{editor:s,size:"sm"})]})]})}function rx({onSave:s,isLoading:t}){const n=P().watch("title");return e.jsx(f,{variant:"flat",size:"sm",color:"primary",className:"min-w-90",disabled:t||!n,onClick:()=>s(),children:e.jsx(r,{message:"Save"})})}function ix({name:s,...t}){const{field:{onChange:a,onBlur:n,value:i="",ref:l}}=ps({name:s}),o=d.useRef(!1),{watch:c,setValue:u}=P();return d.useEffect(()=>{const m=c((x,{name:j})=>{j==="title"&&!o.current&&u("slug",x.title)});return()=>m.unsubscribe()},[c,u]),e.jsx(fh,{className:y(!i&&"invisible"),onChange:m=>{o.current=!0,a(m)},onInputBlur:n,value:i,inputRef:l,...t})}const lx=M.lazy(()=>Es(()=>import("./article-body-editor-2da4e3e7.js"),["./article-body-editor-2da4e3e7.js","./main-4e2f9053.js","./main-c785ef06.css","./highlight-material-palenight-1d8ac968.js","./highlight-material-palenight-c0ff5600.css"],import.meta.url));function ox(){const s=ti();return s.data?e.jsxs(d.Fragment,{children:[e.jsx(ai,{query:s}),e.jsx(cx,{page:s.data.page})]}):e.jsx("div",{className:"relative w-full h-full",children:e.jsx(ni,{query:s})})}function cx({page:s}){const t=pe(),a=ph(),n=K({defaultValues:{title:s.title,slug:s.slug,body:s.body}}),i=l=>{a.mutate({...n.getValues(),body:l},{onSuccess:()=>t("../..",{relative:"path"})})};return e.jsx(d.Suspense,{fallback:e.jsx(Ge,{}),children:e.jsx(lx,{initialContent:s.body,children:(l,o)=>e.jsx(Ts,{children:e.jsxs(Ma,{...n,children:[e.jsx(ur,{editor:o,backLink:"../..",isLoading:a.isPending,onSave:i}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(cr,{}),l]})})]})})})})}function dx(s){const t=s||"custom-pages";return B({mutationFn:a=>ux(a,t),onError:a=>ie(a),onSuccess:async()=>{await O.invalidateQueries({queryKey:["custom-pages"]}),await O.invalidateQueries({queryKey:ee(t)}),H(h("Page created"))}})}function ux(s,t){return E.post(`${t}`,s).then(a=>a.data)}const mx=M.lazy(()=>Es(()=>import("./article-body-editor-2da4e3e7.js"),["./article-body-editor-2da4e3e7.js","./main-4e2f9053.js","./main-c785ef06.css","./highlight-material-palenight-1d8ac968.js","./highlight-material-palenight-c0ff5600.css"],import.meta.url));function hx(){const s=pe(),t=dx(),a=K(),n=i=>{t.mutate({...a.getValues(),body:i},{onSuccess:()=>s("../",{relative:"path"})})};return e.jsx(d.Suspense,{fallback:e.jsx(Ge,{}),children:e.jsx(mx,{children:(i,l)=>e.jsx(Ts,{children:e.jsxs(Ma,{...a,children:[e.jsx(ur,{editor:l,isLoading:t.isPending,onSave:n,backLink:"../"}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(cr,{}),i]})})]})})})})}const xx=""+new URL("font-a5a81d1a.svg",import.meta.url).href;function gx({state:{filters:s,setFilters:t}}){const{trans:a}=V();return e.jsxs("div",{className:"mb-24 items-center gap-24 @xs:flex",children:[e.jsx(We,{className:"mb-12 flex-auto @xs:mb-0",value:s.query,onChange:n=>{t({...s,query:n.target.value})},startAdornment:e.jsx(Gs,{}),placeholder:a(h("Search fonts"))}),e.jsxs(As,{className:"flex-auto",selectionMode:"single",selectedValue:s.category,onSelectionChange:n=>{t({...s,category:n})},children:[e.jsx(p,{value:"",children:e.jsx(r,{message:"All categories"})}),e.jsx(p,{value:"serif",children:e.jsx(r,{message:"Serif"})}),e.jsx(p,{value:"sans-serif",children:e.jsx(r,{message:"Sans serif"})}),e.jsx(p,{value:"display",children:e.jsx(r,{message:"Display"})}),e.jsx(p,{value:"handwriting",children:e.jsx(r,{message:"Handwriting"})}),e.jsx(p,{value:"monospace",children:e.jsx(r,{message:"Monospace"})})]})]})}function px(s){const t=ri({usage:"search",...s});return{startsWith(a,n){return n.length===0?!0:(a=a.normalize("NFC"),n=n.normalize("NFC"),t.compare(a.slice(0,n.length),n)===0)},endsWith(a,n){return n.length===0?!0:(a=a.normalize("NFC"),n=n.normalize("NFC"),t.compare(a.slice(-n.length),n)===0)},contains(a,n){if(n.length===0)return!0;a=a.normalize("NFC"),n=n.normalize("NFC");let i=0;const l=n.length;for(;i+l<=a.length;i++){const o=a.slice(i,i+l);if(t.compare(n,o)===0)return!0}return!1}}}const jx=[{label:h("System"),family:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',category:"sans-serif"},{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}];function fx({value:s,onChange:t}){const{data:a,isLoading:n}=_e(["googleFonts"]),[i,l]=d.useState(0),[o,c]=d.useState({query:"",category:(s==null?void 0:s.category)??""}),{contains:u}=px({sensitivity:"base"}),m=d.useCallback(_=>{c(_),l(0)},[]),x=d.useMemo(()=>jx.concat((a==null?void 0:a.googleFonts)??[]),[a==null?void 0:a.googleFonts]),j=d.useMemo(()=>x.filter(_=>{var v;return u(_.family,o.query)&&(!o.category||((v=_.category)==null?void 0:v.toLowerCase())===o.category.toLowerCase())}),[x,o,u]),b=d.useMemo(()=>Wa(j,20),[j]),w=b[i];return d.useEffect(()=>{const _="font-selector";w!=null&&w.length&&ii(w,{id:_})},[w,i]),{fonts:w||[],currentPage:i,filteredFonts:j||[],setCurrentPage:l,isLoading:n,filters:o,setFilters:m,value:s,onChange:t,pages:b}}function bx({state:{currentPage:s=0,setCurrentPage:t,filteredFonts:a,pages:n}}){const i=(a==null?void 0:a.length)||0;return e.jsxs("div",{className:"flex items-center justify-end gap-24 text-sm mt-30 pt-14 border-t",children:[i>0&&e.jsx("div",{children:e.jsx(r,{message:":from - :to of :total",values:{from:s*20+1,to:Math.min((s+1)*20,i),total:i}})}),e.jsxs("div",{className:"text-muted",children:[e.jsx(C,{disabled:s<1,onClick:()=>{t(Math.max(0,s-1))},children:e.jsx(st,{})}),e.jsx(C,{disabled:s>=n.length-1,onClick:()=>{t(s+1)},children:e.jsx($s,{})})]})]})}function vx(s){const t=fx(s);return e.jsxs("div",{className:s.className,children:[e.jsx(gx,{state:t}),e.jsx(xs,{initial:!1,mode:"wait",children:e.jsx(yx,{state:t})}),e.jsx(bx,{state:t})]})}function yx({state:s}){const{isLoading:t,fonts:a}=s,n="grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start";return t?e.jsx(Sx,{className:n}):a!=null&&a.length?e.jsx(He.div,{...gs,className:n,children:a==null?void 0:a.map(i=>e.jsx(wx,{font:i,state:s},i.family))},"font-list"):e.jsx(Js,{className:"mt-60",size:"sm",image:e.jsx(Ys,{src:xx}),title:e.jsx(r,{message:"No matching fonts"}),description:e.jsx(r,{message:"Try another search query or different category"})})}function wx({font:s,state:{value:t,onChange:a}}){const n=(t==null?void 0:t.family)===s.family,i=s.family.split(",")[0].replace(/"/g,"");return e.jsxs(Zs,{display:"block",onClick:()=>{a(s)},children:[e.jsx("span",{className:y("flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl",n&&"ring-2 ring-primary ring-offset-2"),children:e.jsx("span",{style:{fontFamily:s.family},children:"Aa"})}),e.jsx("span",{className:y("mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",n&&"text-primary"),children:s.label?e.jsx(r,{...s.label}):i})]},s.family)}function Sx({className:s}){const t=Array.from(Array(20).keys());return e.jsx(He.div,{...gs,className:s,children:t.map(a=>e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square",children:e.jsx(us,{display:"block",variant:"rect"})}),e.jsx(us,{className:"mt-6 text-sm"})]},a))},"font-list-skeleton")}function kx(){const{setValue:s,watch:t}=P(),{themeIndex:a}=ue(),n=`appearance.themes.all.${a}.font`;return e.jsx(vx,{value:t(n),onChange:i=>{s(n,i,{shouldDirty:!0}),R().preview.setThemeFont(i)}})}const Nx={"rounded-none":{label:h("Square"),value:"0px"},"rounded-sm":{label:h("Small"),value:"0.125rem"},"rounded-md":{label:h("Medium"),value:"0.25rem"},"rounded-lg":{label:h("Large"),value:"0.5rem"},"rounded-xl":{label:h("Larger"),value:"0.75rem"},"rounded-full":{label:h("Pill"),value:"9999px"}};function Cx(){return e.jsxs("div",{className:"space-y-24",children:[e.jsx(gt,{label:e.jsx(r,{message:"Button rounding"}),name:"button-radius"}),e.jsx(gt,{label:e.jsx(r,{message:"Input rounding"}),name:"input-radius"}),e.jsx(gt,{label:e.jsx(r,{message:"Panel rounding"}),name:"panel-radius",hidePill:!0})]})}function gt({label:s,name:t,hidePill:a}){const{themeIndex:n}=ue(),{watch:i,setValue:l}=P(),o=`appearance.themes.all.${n}.values.--be-${t}`,c=i(o);return e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:s}),e.jsx("div",{className:"grid grid-cols-3 gap-10 text-sm",children:Object.entries(Nx).filter(([u])=>!a||!u.includes("full")).map(([u,{label:m,value:x}])=>e.jsx(_x,{radius:u,isActive:x===c,onClick:()=>{l(o,x,{shouldDirty:!0})},children:e.jsx(r,{...m})},u))})]})}function _x({radius:s,children:t,isActive:a,onClick:n}){return e.jsx(Zs,{display:"block",className:y("h-36 border-2 hover:bg-hover",s,a&&"border-primary"),onClick:n,children:t})}const Fx=M.lazy(()=>Es(()=>import("./admin-report-page-bd2ce8c5.js"),["./admin-report-page-bd2ce8c5.js","./main-4e2f9053.js","./main-c785ef06.css","./TrendingUp-4a71f7a5.js","./UnfoldMore-2feaf195.js","./Edit-f6e2a559.js","./use-resume-subscription-52a0ee62.js"],import.meta.url)),zx=[{path:"appearance",element:e.jsx(ae,{permission:"appearance.update",children:e.jsx(Vo,{})}),children:[{index:!0,element:e.jsx($u,{})},{path:"general",element:e.jsx(oc,{})},{path:"seo-settings",element:e.jsx(fc,{})},{path:"custom-code",element:e.jsx(yc,{})},{path:"themes",element:e.jsx(mc,{})},{path:"themes/:themeIndex",element:e.jsx(Xc,{})},{path:"themes/:themeIndex/font",element:e.jsx(kx,{})},{path:"themes/:themeIndex/radius",element:e.jsx(Cx,{})},{path:"menus",element:e.jsx(Ho,{})},{path:"menus/:menuIndex",element:e.jsx(ec,{})},{path:"menus/:menuIndex/items/:menuItemIndex",element:e.jsx(rc,{})},...Object.values(Ln.sections).flatMap(s=>s.routes||[])]},{path:"/",element:e.jsx(Oi,{}),children:[...gh,{path:"/",element:e.jsx(M.Suspense,{fallback:e.jsx(Ge,{screen:!0}),children:e.jsx(Fx,{})})},{path:"users",element:e.jsx(ae,{permission:"users.update",children:e.jsx(vl,{})})},{path:"users/new",element:e.jsx(ae,{permission:"users.update",children:e.jsx(hu,{})})},{path:"users/:userId/edit",element:e.jsx(ae,{permission:"users.update",children:e.jsx(cu,{})})},{path:"roles",element:e.jsx(ae,{permission:"roles.update",children:e.jsx(Du,{})})},{path:"roles/new",element:e.jsx(ae,{permission:"roles.update",children:e.jsx(im,{})})},{path:"roles/:roleId/edit",element:e.jsx(ae,{permission:"roles.update",children:e.jsx(sm,{})})},{path:"subscriptions",element:e.jsx(ae,{permission:"subscriptions.update",children:e.jsx($m,{})})},{path:"plans",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(Qm,{})})},{path:"plans/new",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(uh,{})})},{path:"plans/:productId/edit",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(lh,{})})},{path:"custom-pages",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(Nc,{})})},{path:"custom-pages/new",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(hx,{})})},{path:"custom-pages/:pageId/edit",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(ox,{})})},{path:"tags",element:e.jsx(ae,{permission:"tags.update",children:e.jsx(jm,{})})},{path:"localizations",element:e.jsx(ae,{permission:"localizations.update",children:e.jsx(ku,{})})},{path:"localizations/:localeId/translate",element:e.jsx(_u,{})},{path:"files",element:e.jsx(ae,{permission:"files.update",children:e.jsx(Sm,{})})},{path:"ads",element:e.jsx(ae,{permission:"settings.update",children:e.jsx(Pu,{})})},{path:"settings",element:e.jsx(ae,{permission:"settings.update",children:e.jsx(zc,{})}),children:[{index:!0,element:e.jsx(Pa,{to:"general",replace:!0})},{path:"general",element:e.jsx(Rc,{})},{path:"subscriptions",element:e.jsx(rd,{})},{path:"localization",element:e.jsx(od,{})},{path:"authentication",element:e.jsx(cd,{})},{path:"uploading",element:e.jsx(_d,{})},{path:"outgoing-email",element:e.jsx(Od,{})},{path:"cache",element:e.jsx(Wd,{})},{path:"analytics",element:e.jsx(nu,{})},{path:"logging",element:e.jsx(Qd,{})},{path:"queue",element:e.jsx(Yd,{})},{path:"recaptcha",element:e.jsx(eu,{})},{path:"gdpr",element:e.jsx(mh,{})},...td]}]},{path:"*",element:e.jsx(oi,{})}];function Ix(){return li(zx)}const $x=Object.freeze(Object.defineProperty({__proto__:null,default:Ix},Symbol.toStringTag,{value:"Module"}));export{$x as A,dr as C,Wo as D,bm as F,Dh as H,Eh as I,Vh as N,Pm as P,vh as R,qh as S,xu as T,bh as U,vm as V,Ji as a,Qh as b,Yh as c,Gh as d,Jh as e,Sh as f,Lh as g,Wh as h,Uh as i,Xh as j,ex as k,kh as l,_h as m,Fh as n,Nh as o,Ua as p,Em as q,Rh as r,ou as s,Uc as t,Qc as u,qm as v,Wc as w,ax as x,px as y,ut as z};
//# sourceMappingURL=admin-routes-6a23aec5.js.map
